(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();function km(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var cu={exports:{}},so={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh;function qy(){if(Bh)return so;Bh=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,d){var p=null;if(d!==void 0&&(p=""+d),r.key!==void 0&&(p=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:l,type:a,key:p,ref:r!==void 0?r:null,props:d}}return so.Fragment=t,so.jsx=o,so.jsxs=o,so}var qh;function Oy(){return qh||(qh=1,cu.exports=qy()),cu.exports}var y=Oy(),du={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function zy(){if(Oh)return ve;Oh=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),C=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=C&&A[C]||A["@@iterator"],typeof A=="function"?A:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function z(A,V,I){this.props=A,this.context=V,this.refs=k,this.updater=I||M}z.prototype.isReactComponent={},z.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},z.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=z.prototype;function O(A,V,I){this.props=A,this.context=V,this.refs=k,this.updater=I||M}var le=O.prototype=new F;le.constructor=O,w(le,z.prototype),le.isPureReactComponent=!0;var ee=Array.isArray;function U(){}var J={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function G(A,V,I){var ie=I.ref;return{$$typeof:l,type:A,key:V,ref:ie!==void 0?ie:null,props:I}}function ne(A,V){return G(A.type,V,A.props)}function te(A){return typeof A=="object"&&A!==null&&A.$$typeof===l}function X(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(I){return V[I]})}var oe=/\/+/g;function me(A,V){return typeof A=="object"&&A!==null&&A.key!=null?X(""+A.key):V.toString(36)}function he(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(U,U):(A.status="pending",A.then(function(V){A.status==="pending"&&(A.status="fulfilled",A.value=V)},function(V){A.status==="pending"&&(A.status="rejected",A.reason=V)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function b(A,V,I,ie,re){var ae=typeof A;(ae==="undefined"||ae==="boolean")&&(A=null);var Ee=!1;if(A===null)Ee=!0;else switch(ae){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(A.$$typeof){case l:case t:Ee=!0;break;case T:return Ee=A._init,b(Ee(A._payload),V,I,ie,re)}}if(Ee)return re=re(A),Ee=ie===""?"."+me(A,0):ie,ee(re)?(I="",Ee!=null&&(I=Ee.replace(oe,"$&/")+"/"),b(re,V,I,"",function(mt){return mt})):re!=null&&(te(re)&&(re=ne(re,I+(re.key==null||A&&A.key===re.key?"":(""+re.key).replace(oe,"$&/")+"/")+Ee)),V.push(re)),1;Ee=0;var We=ie===""?".":ie+":";if(ee(A))for(var ze=0;ze<A.length;ze++)ie=A[ze],ae=We+me(ie,ze),Ee+=b(ie,V,I,ae,re);else if(ze=_(A),typeof ze=="function")for(A=ze.call(A),ze=0;!(ie=A.next()).done;)ie=ie.value,ae=We+me(ie,ze++),Ee+=b(ie,V,I,ae,re);else if(ae==="object"){if(typeof A.then=="function")return b(he(A),V,I,ie,re);throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function B(A,V,I){if(A==null)return A;var ie=[],re=0;return b(A,ie,"","",function(ae){return V.call(I,ae,re++)}),ie}function de(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(I){(A._status===0||A._status===-1)&&(A._status=1,A._result=I)},function(I){(A._status===0||A._status===-1)&&(A._status=2,A._result=I)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var K=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ce={map:B,forEach:function(A,V,I){B(A,function(){V.apply(this,arguments)},I)},count:function(A){var V=0;return B(A,function(){V++}),V},toArray:function(A){return B(A,function(V){return V})||[]},only:function(A){if(!te(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ve.Activity=x,ve.Children=ce,ve.Component=z,ve.Fragment=o,ve.Profiler=r,ve.PureComponent=O,ve.StrictMode=a,ve.Suspense=v,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ve.__COMPILER_RUNTIME={__proto__:null,c:function(A){return J.H.useMemoCache(A)}},ve.cache=function(A){return function(){return A.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(A,V,I){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ie=w({},A.props),re=A.key;if(V!=null)for(ae in V.key!==void 0&&(re=""+V.key),V)!se.call(V,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&V.ref===void 0||(ie[ae]=V[ae]);var ae=arguments.length-2;if(ae===1)ie.children=I;else if(1<ae){for(var Ee=Array(ae),We=0;We<ae;We++)Ee[We]=arguments[We+2];ie.children=Ee}return G(A.type,re,ie)},ve.createContext=function(A){return A={$$typeof:p,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},ve.createElement=function(A,V,I){var ie,re={},ae=null;if(V!=null)for(ie in V.key!==void 0&&(ae=""+V.key),V)se.call(V,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(re[ie]=V[ie]);var Ee=arguments.length-2;if(Ee===1)re.children=I;else if(1<Ee){for(var We=Array(Ee),ze=0;ze<Ee;ze++)We[ze]=arguments[ze+2];re.children=We}if(A&&A.defaultProps)for(ie in Ee=A.defaultProps,Ee)re[ie]===void 0&&(re[ie]=Ee[ie]);return G(A,ae,re)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(A){return{$$typeof:g,render:A}},ve.isValidElement=te,ve.lazy=function(A){return{$$typeof:T,_payload:{_status:-1,_result:A},_init:de}},ve.memo=function(A,V){return{$$typeof:m,type:A,compare:V===void 0?null:V}},ve.startTransition=function(A){var V=J.T,I={};J.T=I;try{var ie=A(),re=J.S;re!==null&&re(I,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(U,K)}catch(ae){K(ae)}finally{V!==null&&I.types!==null&&(V.types=I.types),J.T=V}},ve.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ve.use=function(A){return J.H.use(A)},ve.useActionState=function(A,V,I){return J.H.useActionState(A,V,I)},ve.useCallback=function(A,V){return J.H.useCallback(A,V)},ve.useContext=function(A){return J.H.useContext(A)},ve.useDebugValue=function(){},ve.useDeferredValue=function(A,V){return J.H.useDeferredValue(A,V)},ve.useEffect=function(A,V){return J.H.useEffect(A,V)},ve.useEffectEvent=function(A){return J.H.useEffectEvent(A)},ve.useId=function(){return J.H.useId()},ve.useImperativeHandle=function(A,V,I){return J.H.useImperativeHandle(A,V,I)},ve.useInsertionEffect=function(A,V){return J.H.useInsertionEffect(A,V)},ve.useLayoutEffect=function(A,V){return J.H.useLayoutEffect(A,V)},ve.useMemo=function(A,V){return J.H.useMemo(A,V)},ve.useOptimistic=function(A,V){return J.H.useOptimistic(A,V)},ve.useReducer=function(A,V,I){return J.H.useReducer(A,V,I)},ve.useRef=function(A){return J.H.useRef(A)},ve.useState=function(A){return J.H.useState(A)},ve.useSyncExternalStore=function(A,V,I){return J.H.useSyncExternalStore(A,V,I)},ve.useTransition=function(){return J.H.useTransition()},ve.version="19.2.0",ve}var zh;function bu(){return zh||(zh=1,du.exports=zy()),du.exports}var Z=bu();const Pa=km(Z);var fu={exports:{}},ro={},hu={exports:{}},pu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh;function Fy(){return Fh||(Fh=1,(function(l){function t(b,B){var de=b.length;b.push(B);e:for(;0<de;){var K=de-1>>>1,ce=b[K];if(0<r(ce,B))b[K]=B,b[de]=ce,de=K;else break e}}function o(b){return b.length===0?null:b[0]}function a(b){if(b.length===0)return null;var B=b[0],de=b.pop();if(de!==B){b[0]=de;e:for(var K=0,ce=b.length,A=ce>>>1;K<A;){var V=2*(K+1)-1,I=b[V],ie=V+1,re=b[ie];if(0>r(I,de))ie<ce&&0>r(re,I)?(b[K]=re,b[ie]=de,K=ie):(b[K]=I,b[V]=de,K=V);else if(ie<ce&&0>r(re,de))b[K]=re,b[ie]=de,K=ie;else break e}}return B}function r(b,B){var de=b.sortIndex-B.sortIndex;return de!==0?de:b.id-B.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();l.unstable_now=function(){return p.now()-g}}var v=[],m=[],T=1,x=null,C=3,_=!1,M=!1,w=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function le(b){for(var B=o(m);B!==null;){if(B.callback===null)a(m);else if(B.startTime<=b)a(m),B.sortIndex=B.expirationTime,t(v,B);else break;B=o(m)}}function ee(b){if(w=!1,le(b),!M)if(o(v)!==null)M=!0,U||(U=!0,X());else{var B=o(m);B!==null&&he(ee,B.startTime-b)}}var U=!1,J=-1,se=5,G=-1;function ne(){return k?!0:!(l.unstable_now()-G<se)}function te(){if(k=!1,U){var b=l.unstable_now();G=b;var B=!0;try{e:{M=!1,w&&(w=!1,F(J),J=-1),_=!0;var de=C;try{t:{for(le(b),x=o(v);x!==null&&!(x.expirationTime>b&&ne());){var K=x.callback;if(typeof K=="function"){x.callback=null,C=x.priorityLevel;var ce=K(x.expirationTime<=b);if(b=l.unstable_now(),typeof ce=="function"){x.callback=ce,le(b),B=!0;break t}x===o(v)&&a(v),le(b)}else a(v);x=o(v)}if(x!==null)B=!0;else{var A=o(m);A!==null&&he(ee,A.startTime-b),B=!1}}break e}finally{x=null,C=de,_=!1}B=void 0}}finally{B?X():U=!1}}}var X;if(typeof O=="function")X=function(){O(te)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,me=oe.port2;oe.port1.onmessage=te,X=function(){me.postMessage(null)}}else X=function(){z(te,0)};function he(b,B){J=z(function(){b(l.unstable_now())},B)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(b){b.callback=null},l.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<b?Math.floor(1e3/b):5},l.unstable_getCurrentPriorityLevel=function(){return C},l.unstable_next=function(b){switch(C){case 1:case 2:case 3:var B=3;break;default:B=C}var de=C;C=B;try{return b()}finally{C=de}},l.unstable_requestPaint=function(){k=!0},l.unstable_runWithPriority=function(b,B){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var de=C;C=b;try{return B()}finally{C=de}},l.unstable_scheduleCallback=function(b,B,de){var K=l.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?K+de:K):de=K,b){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=de+ce,b={id:T++,callback:B,priorityLevel:b,startTime:de,expirationTime:ce,sortIndex:-1},de>K?(b.sortIndex=de,t(m,b),o(v)===null&&b===o(m)&&(w?(F(J),J=-1):w=!0,he(ee,de-K))):(b.sortIndex=ce,t(v,b),M||_||(M=!0,U||(U=!0,X()))),b},l.unstable_shouldYield=ne,l.unstable_wrapCallback=function(b){var B=C;return function(){var de=C;C=B;try{return b.apply(this,arguments)}finally{C=de}}}})(pu)),pu}var Kh;function Ky(){return Kh||(Kh=1,hu.exports=Fy()),hu.exports}var mu={exports:{}},gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function Yy(){if(Yh)return gt;Yh=1;var l=bu();function t(v){var m="https://react.dev/errors/"+v;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(v,m,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:v,containerInfo:m,implementation:T}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,m){if(v==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,gt.createPortal=function(v,m){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return d(v,m,null,T)},gt.flushSync=function(v){var m=p.T,T=a.p;try{if(p.T=null,a.p=2,v)return v()}finally{p.T=m,a.p=T,a.d.f()}},gt.preconnect=function(v,m){typeof v=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(v,m))},gt.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},gt.preinit=function(v,m){if(typeof v=="string"&&m&&typeof m.as=="string"){var T=m.as,x=g(T,m.crossOrigin),C=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;T==="style"?a.d.S(v,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:_}):T==="script"&&a.d.X(v,{crossOrigin:x,integrity:C,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gt.preinitModule=function(v,m){if(typeof v=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var T=g(m.as,m.crossOrigin);a.d.M(v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(v)},gt.preload=function(v,m){if(typeof v=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var T=m.as,x=g(T,m.crossOrigin);a.d.L(v,T,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gt.preloadModule=function(v,m){if(typeof v=="string")if(m){var T=g(m.as,m.crossOrigin);a.d.m(v,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(v)},gt.requestFormReset=function(v){a.d.r(v)},gt.unstable_batchedUpdates=function(v,m){return v(m)},gt.useFormState=function(v,m,T){return p.H.useFormState(v,m,T)},gt.useFormStatus=function(){return p.H.useHostTransitionStatus()},gt.version="19.2.0",gt}var Jh;function Jy(){if(Jh)return mu.exports;Jh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),mu.exports=Yy(),mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function $y(){if($h)return ro;$h=1;var l=Ky(),t=bu(),o=Jy();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,s=n;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(s=f.return,s!==null){i=s;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return v(f),e;if(h===s)return v(f),n;h=h.sibling}throw Error(a(188))}if(i.return!==s.return)i=f,s=h;else{for(var S=!1,E=f.child;E;){if(E===i){S=!0,i=f,s=h;break}if(E===s){S=!0,s=f,i=h;break}E=E.sibling}if(!S){for(E=h.child;E;){if(E===i){S=!0,i=h,s=f;break}if(E===s){S=!0,s=h,i=f;break}E=E.sibling}if(!S)throw Error(a(189))}}if(i.alternate!==s)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),O=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case ee:return"Suspense";case U:return"SuspenseList";case G:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case O:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:me(e.type)||"Memo";case se:n=e._payload,e=e._init;try{return me(e(n))}catch{}}return null}var he=Array.isArray,b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},K=[],ce=-1;function A(e){return{current:e}}function V(e){0>ce||(e.current=K[ce],K[ce]=null,ce--)}function I(e,n){ce++,K[ce]=e.current,e.current=n}var ie=A(null),re=A(null),ae=A(null),Ee=A(null);function We(e,n){switch(I(ae,n),I(re,e),I(ie,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?uh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=uh(n),e=ch(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ie),I(ie,e)}function ze(){V(ie),V(re),V(ae)}function mt(e){e.memoizedState!==null&&I(Ee,e);var n=ie.current,i=ch(n,e.type);n!==i&&(I(re,e),I(ie,i))}function Qe(e){re.current===e&&(V(ie),V(re)),Ee.current===e&&(V(Ee),lo._currentValue=de)}var Fe,_e;function Le(e){if(Fe===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Fe=n&&n[1]||"",_e=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+e+_e}var Pe=!1;function jn(e,n){if(!e||Pe)return"";Pe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(Y){var H=Y}Reflect.construct(e,[],j)}else{try{j.call()}catch(Y){H=Y}e.call(j.prototype)}}else{try{throw Error()}catch(Y){H=Y}(j=e())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),S=h[0],E=h[1];if(S&&E){var N=S.split(`
`),P=E.split(`
`);for(f=s=0;s<N.length&&!N[s].includes("DetermineComponentFrameRoot");)s++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(s===N.length||f===P.length)for(s=N.length-1,f=P.length-1;1<=s&&0<=f&&N[s]!==P[f];)f--;for(;1<=s&&0<=f;s--,f--)if(N[s]!==P[f]){if(s!==1||f!==1)do if(s--,f--,0>f||N[s]!==P[f]){var Q=`
`+N[s].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=s&&0<=f);break}}}finally{Pe=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Le(i):""}function el(e,n){switch(e.tag){case 26:case 27:case 5:return Le(e.type);case 16:return Le("Lazy");case 13:return e.child!==n&&n!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return jn(e.type,!1);case 11:return jn(e.type.render,!1);case 1:return jn(e.type,!0);case 31:return Le("Activity");default:return""}}function hi(e){try{var n="",i=null;do n+=el(e,i),i=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var tl=Object.prototype.hasOwnProperty,nl=l.unstable_scheduleCallback,Nt=l.unstable_cancelCallback,on=l.unstable_shouldYield,pi=l.unstable_requestPaint,je=l.unstable_now,Za=l.unstable_getCurrentPriorityLevel,Bu=l.unstable_ImmediatePriority,qu=l.unstable_UserBlockingPriority,go=l.unstable_NormalPriority,Cg=l.unstable_LowPriority,Ou=l.unstable_IdlePriority,Eg=l.log,_g=l.unstable_setDisableYieldValue,mi=null,bt=null;function bn(e){if(typeof Eg=="function"&&_g(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(mi,e)}catch{}}var Mt=Math.clz32?Math.clz32:bg,Ag=Math.log,Ng=Math.LN2;function bg(e){return e>>>=0,e===0?32:31-(Ag(e)/Ng|0)|0}var yo=256,vo=262144,To=4194304;function ll(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xo(e,n,i){var s=e.pendingLanes;if(s===0)return 0;var f=0,h=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~h,s!==0?f=ll(s):(S&=E,S!==0?f=ll(S):i||(i=E&~e,i!==0&&(f=ll(i))))):(E=s&~h,E!==0?f=ll(E):S!==0?f=ll(S):i||(i=s&~e,i!==0&&(f=ll(i)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:f}function gi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zu(){var e=To;return To<<=1,(To&62914560)===0&&(To=4194304),e}function Wa(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function yi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rg(e,n,i,s,f,h){var S=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,P=e.hiddenUpdates;for(i=S&~i;0<i;){var Q=31-Mt(i),j=1<<Q;E[Q]=0,N[Q]=-1;var H=P[Q];if(H!==null)for(P[Q]=null,Q=0;Q<H.length;Q++){var Y=H[Q];Y!==null&&(Y.lane&=-536870913)}i&=~j}s!==0&&Fu(e,s,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(S&~n))}function Fu(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Mt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function Ku(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-Mt(i),f=1<<s;f&n|e[s]&n&&(e[s]|=n),i&=~f}}function Yu(e,n){var i=n&-n;return i=(i&42)!==0?1:ja(i),(i&(e.suspendedLanes|n))!==0?0:i}function ja(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function es(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ju(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Uh(e.type))}function $u(e,n){var i=B.p;try{return B.p=e,n()}finally{B.p=i}}var Mn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Mn,Tt="__reactProps$"+Mn,Cl="__reactContainer$"+Mn,ts="__reactEvents$"+Mn,Ig="__reactListeners$"+Mn,wg="__reactHandles$"+Mn,Qu="__reactResources$"+Mn,vi="__reactMarker$"+Mn;function ns(e){delete e[ct],delete e[Tt],delete e[ts],delete e[Ig],delete e[wg]}function El(e){var n=e[ct];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Cl]||i[ct]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=yh(e);e!==null;){if(i=e[ct])return i;e=yh(e)}return n}e=i,i=e.parentNode}return null}function _l(e){if(e=e[ct]||e[Cl]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ti(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Al(e){var n=e[Qu];return n||(n=e[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function rt(e){e[vi]=!0}var Xu=new Set,Zu={};function il(e,n){Nl(e,n),Nl(e+"Capture",n)}function Nl(e,n){for(Zu[e]=n,e=0;e<n.length;e++)Xu.add(n[e])}var Dg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wu={},ju={};function Ug(e){return tl.call(ju,e)?!0:tl.call(Wu,e)?!1:Dg.test(e)?ju[e]=!0:(Wu[e]=!0,!1)}function So(e,n,i){if(Ug(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Co(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function an(e,n,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+s)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ec(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lg(e,n,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){i=""+S,h.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(S){i=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ls(e){if(!e._valueTracker){var n=ec(e)?"checked":"value";e._valueTracker=Lg(e,n,""+e[n])}}function tc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=ec(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function Eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pg=/[\n"\\]/g;function Ht(e){return e.replace(Pg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function is(e,n,i,s,f,h,S,E){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+kt(n)):e.value!==""+kt(n)&&(e.value=""+kt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?os(e,S,kt(n)):i!=null?os(e,S,kt(i)):s!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+kt(E):e.removeAttribute("name")}function nc(e,n,i,s,f,h,S,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){ls(e);return}i=i!=null?""+kt(i):"",n=n!=null?""+kt(n):i,E||n===e.value||(e.value=n),e.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ls(e)}function os(e,n,i){n==="number"&&Eo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function bl(e,n,i,s){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&s&&(e[i].defaultSelected=!0)}else{for(i=""+kt(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function lc(e,n,i){if(n!=null&&(n=""+kt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+kt(i):""}function ic(e,n,i,s){if(n==null){if(s!=null){if(i!=null)throw Error(a(92));if(he(s)){if(1<s.length)throw Error(a(93));s=s[0]}i=s}i==null&&(i=""),n=i}i=kt(n),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),ls(e)}function Ml(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Vg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oc(e,n,i){var s=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,i):typeof i!="number"||i===0||Vg.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function ac(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&i[f]!==s&&oc(e,f,s)}else for(var h in n)n.hasOwnProperty(h)&&oc(e,h,n[h])}function as(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(e){return kg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sn(){}var ss=null;function rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rl=null,Il=null;function sc(e){var n=_l(e);if(n&&(e=n.stateNode)){var i=e[Tt]||null;e:switch(e=n.stateNode,n.type){case"input":if(is(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ht(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var f=s[Tt]||null;if(!f)throw Error(a(90));is(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)s=i[n],s.form===e.form&&tc(s)}break e;case"textarea":lc(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&bl(e,!!i.multiple,n,!1)}}}var us=!1;function rc(e,n,i){if(us)return e(n,i);us=!0;try{var s=e(n);return s}finally{if(us=!1,(Rl!==null||Il!==null)&&(da(),Rl&&(n=Rl,e=Il,Il=Rl=null,sc(n),e)))for(n=0;n<e.length;n++)sc(e[n])}}function xi(e,n){var i=e.stateNode;if(i===null)return null;var s=i[Tt]||null;if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cs=!1;if(rn)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){cs=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{cs=!1}var Rn=null,ds=null,Ao=null;function uc(){if(Ao)return Ao;var e,n=ds,i=n.length,s,f="value"in Rn?Rn.value:Rn.textContent,h=f.length;for(e=0;e<i&&n[e]===f[e];e++);var S=i-e;for(s=1;s<=S&&n[i-s]===f[h-s];s++);return Ao=f.slice(e,1<s?1-s:void 0)}function No(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function bo(){return!0}function cc(){return!1}function xt(e){function n(i,s,f,h,S){this._reactName=i,this._targetInst=f,this.type=s,this.nativeEvent=h,this.target=S,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?bo:cc,this.isPropagationStopped=cc,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),n}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=xt(ol),Ci=x({},ol,{view:0,detail:0}),Hg=xt(Ci),fs,hs,Ei,Ro=x({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(fs=e.screenX-Ei.screenX,hs=e.screenY-Ei.screenY):hs=fs=0,Ei=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:hs}}),dc=xt(Ro),Bg=x({},Ro,{dataTransfer:0}),qg=xt(Bg),Og=x({},Ci,{relatedTarget:0}),ps=xt(Og),zg=x({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),Fg=xt(zg),Kg=x({},ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yg=xt(Kg),Jg=x({},ol,{data:0}),fc=xt(Jg),$g={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Xg[e])?!!n[e]:!1}function ms(){return Zg}var Wg=x({},Ci,{key:function(e){if(e.key){var n=$g[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=No(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?No(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?No(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jg=xt(Wg),e0=x({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hc=xt(e0),t0=x({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),n0=xt(t0),l0=x({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=xt(l0),o0=x({},Ro,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a0=xt(o0),s0=x({},ol,{newState:0,oldState:0}),r0=xt(s0),u0=[9,13,27,32],gs=rn&&"CompositionEvent"in window,_i=null;rn&&"documentMode"in document&&(_i=document.documentMode);var c0=rn&&"TextEvent"in window&&!_i,pc=rn&&(!gs||_i&&8<_i&&11>=_i),mc=" ",gc=!1;function yc(e,n){switch(e){case"keyup":return u0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wl=!1;function d0(e,n){switch(e){case"compositionend":return vc(n);case"keypress":return n.which!==32?null:(gc=!0,mc);case"textInput":return e=n.data,e===mc&&gc?null:e;default:return null}}function f0(e,n){if(wl)return e==="compositionend"||!gs&&yc(e,n)?(e=uc(),Ao=ds=Rn=null,wl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pc&&n.locale!=="ko"?null:n.data;default:return null}}var h0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!h0[e.type]:n==="textarea"}function xc(e,n,i,s){Rl?Il?Il.push(s):Il=[s]:Rl=s,n=va(n,"onChange"),0<n.length&&(i=new Mo("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var Ai=null,Ni=null;function p0(e){lh(e,0)}function Io(e){var n=Ti(e);if(tc(n))return e}function Sc(e,n){if(e==="change")return n}var Cc=!1;if(rn){var ys;if(rn){var vs="oninput"in document;if(!vs){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),vs=typeof Ec.oninput=="function"}ys=vs}else ys=!1;Cc=ys&&(!document.documentMode||9<document.documentMode)}function _c(){Ai&&(Ai.detachEvent("onpropertychange",Ac),Ni=Ai=null)}function Ac(e){if(e.propertyName==="value"&&Io(Ni)){var n=[];xc(n,Ni,e,rs(e)),rc(p0,n)}}function m0(e,n,i){e==="focusin"?(_c(),Ai=n,Ni=i,Ai.attachEvent("onpropertychange",Ac)):e==="focusout"&&_c()}function g0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Io(Ni)}function y0(e,n){if(e==="click")return Io(n)}function v0(e,n){if(e==="input"||e==="change")return Io(n)}function T0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rt=typeof Object.is=="function"?Object.is:T0;function bi(e,n){if(Rt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var f=i[s];if(!tl.call(n,f)||!Rt(e[f],n[f]))return!1}return!0}function Nc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bc(e,n){var i=Nc(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Nc(i)}}function Mc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Rc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Eo(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Eo(e.document)}return n}function Ts(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var x0=rn&&"documentMode"in document&&11>=document.documentMode,Dl=null,xs=null,Mi=null,Ss=!1;function Ic(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ss||Dl==null||Dl!==Eo(s)||(s=Dl,"selectionStart"in s&&Ts(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mi&&bi(Mi,s)||(Mi=s,s=va(xs,"onSelect"),0<s.length&&(n=new Mo("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=Dl)))}function al(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ul={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},Cs={},wc={};rn&&(wc=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function sl(e){if(Cs[e])return Cs[e];if(!Ul[e])return e;var n=Ul[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in wc)return Cs[e]=n[i];return e}var Dc=sl("animationend"),Uc=sl("animationiteration"),Lc=sl("animationstart"),S0=sl("transitionrun"),C0=sl("transitionstart"),E0=sl("transitioncancel"),Pc=sl("transitionend"),Vc=new Map,Es="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Es.push("scrollEnd");function Qt(e,n){Vc.set(e,n),il(n,[e])}var wo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Ll=0,_s=0;function Do(){for(var e=Ll,n=_s=Ll=0;n<e;){var i=Bt[n];Bt[n++]=null;var s=Bt[n];Bt[n++]=null;var f=Bt[n];Bt[n++]=null;var h=Bt[n];if(Bt[n++]=null,s!==null&&f!==null){var S=s.pending;S===null?f.next=f:(f.next=S.next,S.next=f),s.pending=f}h!==0&&Gc(i,f,h)}}function Uo(e,n,i,s){Bt[Ll++]=e,Bt[Ll++]=n,Bt[Ll++]=i,Bt[Ll++]=s,_s|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function As(e,n,i,s){return Uo(e,n,i,s),Lo(e)}function rl(e,n){return Uo(e,null,null,n),Lo(e)}function Gc(e,n,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,s=h.alternate,s!==null&&(s.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-Mt(i),e=h.hiddenUpdates,s=e[f],s===null?e[f]=[n]:s.push(n),n.lane=i|536870912),h):null}function Lo(e){if(50<Xi)throw Xi=0,Lr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Pl={};function _0(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,n,i,s){return new _0(e,n,i,s)}function Ns(e){return e=e.prototype,!(!e||!e.isReactComponent)}function un(e,n){var i=e.alternate;return i===null?(i=It(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function kc(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Po(e,n,i,s,f,h){var S=0;if(s=e,typeof e=="function")Ns(e)&&(S=1);else if(typeof e=="string")S=Ry(e,i,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case G:return e=It(31,i,n,f),e.elementType=G,e.lanes=h,e;case w:return ul(i.children,f,h,n);case k:S=8,f|=24;break;case z:return e=It(12,i,n,f|2),e.elementType=z,e.lanes=h,e;case ee:return e=It(13,i,n,f),e.elementType=ee,e.lanes=h,e;case U:return e=It(19,i,n,f),e.elementType=U,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:S=10;break e;case F:S=9;break e;case le:S=11;break e;case J:S=14;break e;case se:S=16,s=null;break e}S=29,i=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=It(S,i,n,f),n.elementType=e,n.type=s,n.lanes=h,n}function ul(e,n,i,s){return e=It(7,e,s,n),e.lanes=i,e}function bs(e,n,i){return e=It(6,e,null,n),e.lanes=i,e}function Hc(e){var n=It(18,null,null,0);return n.stateNode=e,n}function Ms(e,n,i){return n=It(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Bc=new WeakMap;function qt(e,n){if(typeof e=="object"&&e!==null){var i=Bc.get(e);return i!==void 0?i:(n={value:e,source:n,stack:hi(n)},Bc.set(e,n),n)}return{value:e,source:n,stack:hi(n)}}var Vl=[],Gl=0,Vo=null,Ri=0,Ot=[],zt=0,In=null,en=1,tn="";function cn(e,n){Vl[Gl++]=Ri,Vl[Gl++]=Vo,Vo=e,Ri=n}function qc(e,n,i){Ot[zt++]=en,Ot[zt++]=tn,Ot[zt++]=In,In=e;var s=en;e=tn;var f=32-Mt(s)-1;s&=~(1<<f),i+=1;var h=32-Mt(n)+f;if(30<h){var S=f-f%5;h=(s&(1<<S)-1).toString(32),s>>=S,f-=S,en=1<<32-Mt(n)+f|i<<f|s,tn=h+e}else en=1<<h|i<<f|s,tn=e}function Rs(e){e.return!==null&&(cn(e,1),qc(e,1,0))}function Is(e){for(;e===Vo;)Vo=Vl[--Gl],Vl[Gl]=null,Ri=Vl[--Gl],Vl[Gl]=null;for(;e===In;)In=Ot[--zt],Ot[zt]=null,tn=Ot[--zt],Ot[zt]=null,en=Ot[--zt],Ot[zt]=null}function Oc(e,n){Ot[zt++]=en,Ot[zt++]=tn,Ot[zt++]=In,en=n.id,tn=n.overflow,In=e}var dt=null,Ke=null,be=!1,wn=null,Ft=!1,ws=Error(a(519));function Dn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ii(qt(n,e)),ws}function zc(e){var n=e.stateNode,i=e.type,s=e.memoizedProps;switch(n[ct]=e,n[Tt]=s,i){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(i=0;i<Wi.length;i++)Ce(Wi[i],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),nc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),ic(n,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||s.suppressHydrationWarning===!0||sh(n.textContent,i)?(s.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),s.onScroll!=null&&Ce("scroll",n),s.onScrollEnd!=null&&Ce("scrollend",n),s.onClick!=null&&(n.onclick=sn),n=!0):n=!1,n||Dn(e,!0)}function Fc(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:dt=dt.return}}function kl(e){if(e!==dt)return!1;if(!be)return Fc(e),be=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Qr(e.type,e.memoizedProps)),i=!i),i&&Ke&&Dn(e),Fc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ke=gh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ke=gh(e)}else n===27?(n=Ke,Yn(e.type)?(e=eu,eu=null,Ke=e):Ke=n):Ke=dt?Yt(e.stateNode.nextSibling):null;return!0}function cl(){Ke=dt=null,be=!1}function Ds(){var e=wn;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),wn=null),e}function Ii(e){wn===null?wn=[e]:wn.push(e)}var Us=A(null),dl=null,dn=null;function Un(e,n,i){I(Us,n._currentValue),n._currentValue=i}function fn(e){e._currentValue=Us.current,V(Us)}function Ls(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function Ps(e,n,i,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var S=f.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=f;for(var N=0;N<n.length;N++)if(E.context===n[N]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Ls(h.return,i,e),s||(S=null);break e}h=E.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(a(341));S.lanes|=i,h=S.alternate,h!==null&&(h.lanes|=i),Ls(S,i,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function Hl(e,n,i,s){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var E=f.type;Rt(f.pendingProps.value,S.value)||(e!==null?e.push(E):e=[E])}}else if(f===Ee.current){if(S=f.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}f=f.return}e!==null&&Ps(n,e,i,s),n.flags|=262144}function Go(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fl(e){dl=e,dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return Kc(dl,e)}function ko(e,n){return dl===null&&fl(e),Kc(e,n)}function Kc(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},dn===null){if(e===null)throw Error(a(308));dn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else dn=dn.next=n;return i}var A0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},N0=l.unstable_scheduleCallback,b0=l.unstable_NormalPriority,nt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vs(){return{controller:new A0,data:new Map,refCount:0}}function wi(e){e.refCount--,e.refCount===0&&N0(b0,function(){e.controller.abort()})}var Di=null,Gs=0,Bl=0,ql=null;function M0(e,n){if(Di===null){var i=Di=[];Gs=0,Bl=Br(),ql={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Gs++,n.then(Yc,Yc),n}function Yc(){if(--Gs===0&&Di!==null){ql!==null&&(ql.status="fulfilled");var e=Di;Di=null,Bl=0,ql=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function R0(e,n){var i=[],s={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),s}var Jc=b.S;b.S=function(e,n){wf=je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&M0(e,n),Jc!==null&&Jc(e,n)};var hl=A(null);function ks(){var e=hl.current;return e!==null?e:Oe.pooledCache}function Ho(e,n){n===null?I(hl,hl.current):I(hl,n.pool)}function $c(){var e=ks();return e===null?null:{parent:nt._currentValue,pool:e}}var Ol=Error(a(460)),Hs=Error(a(474)),Bo=Error(a(542)),qo={then:function(){}};function Qc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xc(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(sn,sn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wc(e),e;default:if(typeof n.status=="string")n.then(sn,sn);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wc(e),e}throw ml=n,Ol}}function pl(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ml=i,Ol):i}}var ml=null;function Zc(){if(ml===null)throw Error(a(459));var e=ml;return ml=null,e}function Wc(e){if(e===Ol||e===Bo)throw Error(a(483))}var zl=null,Ui=0;function Oo(e){var n=Ui;return Ui+=1,zl===null&&(zl=[]),Xc(zl,e,n)}function Li(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zo(e,n){throw n.$$typeof===C?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jc(e){function n(D,R){if(e){var L=D.deletions;L===null?(D.deletions=[R],D.flags|=16):L.push(R)}}function i(D,R){if(!e)return null;for(;R!==null;)n(D,R),R=R.sibling;return null}function s(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function f(D,R){return D=un(D,R),D.index=0,D.sibling=null,D}function h(D,R,L){return D.index=L,e?(L=D.alternate,L!==null?(L=L.index,L<R?(D.flags|=67108866,R):L):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function S(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function E(D,R,L,W){return R===null||R.tag!==6?(R=bs(L,D.mode,W),R.return=D,R):(R=f(R,L),R.return=D,R)}function N(D,R,L,W){var ge=L.type;return ge===w?Q(D,R,L.props.children,W,L.key):R!==null&&(R.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===se&&pl(ge)===R.type)?(R=f(R,L.props),Li(R,L),R.return=D,R):(R=Po(L.type,L.key,L.props,null,D.mode,W),Li(R,L),R.return=D,R)}function P(D,R,L,W){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=Ms(L,D.mode,W),R.return=D,R):(R=f(R,L.children||[]),R.return=D,R)}function Q(D,R,L,W,ge){return R===null||R.tag!==7?(R=ul(L,D.mode,W,ge),R.return=D,R):(R=f(R,L),R.return=D,R)}function j(D,R,L){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=bs(""+R,D.mode,L),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return L=Po(R.type,R.key,R.props,null,D.mode,L),Li(L,R),L.return=D,L;case M:return R=Ms(R,D.mode,L),R.return=D,R;case se:return R=pl(R),j(D,R,L)}if(he(R)||X(R))return R=ul(R,D.mode,L,null),R.return=D,R;if(typeof R.then=="function")return j(D,Oo(R),L);if(R.$$typeof===O)return j(D,ko(D,R),L);zo(D,R)}return null}function H(D,R,L,W){var ge=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:E(D,R,""+L,W);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case _:return L.key===ge?N(D,R,L,W):null;case M:return L.key===ge?P(D,R,L,W):null;case se:return L=pl(L),H(D,R,L,W)}if(he(L)||X(L))return ge!==null?null:Q(D,R,L,W,null);if(typeof L.then=="function")return H(D,R,Oo(L),W);if(L.$$typeof===O)return H(D,R,ko(D,L),W);zo(D,L)}return null}function Y(D,R,L,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return D=D.get(L)||null,E(R,D,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return D=D.get(W.key===null?L:W.key)||null,N(R,D,W,ge);case M:return D=D.get(W.key===null?L:W.key)||null,P(R,D,W,ge);case se:return W=pl(W),Y(D,R,L,W,ge)}if(he(W)||X(W))return D=D.get(L)||null,Q(R,D,W,ge,null);if(typeof W.then=="function")return Y(D,R,L,Oo(W),ge);if(W.$$typeof===O)return Y(D,R,L,ko(R,W),ge);zo(R,W)}return null}function fe(D,R,L,W){for(var ge=null,Re=null,pe=R,xe=R=0,Ne=null;pe!==null&&xe<L.length;xe++){pe.index>xe?(Ne=pe,pe=null):Ne=pe.sibling;var Ie=H(D,pe,L[xe],W);if(Ie===null){pe===null&&(pe=Ne);break}e&&pe&&Ie.alternate===null&&n(D,pe),R=h(Ie,R,xe),Re===null?ge=Ie:Re.sibling=Ie,Re=Ie,pe=Ne}if(xe===L.length)return i(D,pe),be&&cn(D,xe),ge;if(pe===null){for(;xe<L.length;xe++)pe=j(D,L[xe],W),pe!==null&&(R=h(pe,R,xe),Re===null?ge=pe:Re.sibling=pe,Re=pe);return be&&cn(D,xe),ge}for(pe=s(pe);xe<L.length;xe++)Ne=Y(pe,D,xe,L[xe],W),Ne!==null&&(e&&Ne.alternate!==null&&pe.delete(Ne.key===null?xe:Ne.key),R=h(Ne,R,xe),Re===null?ge=Ne:Re.sibling=Ne,Re=Ne);return e&&pe.forEach(function(Zn){return n(D,Zn)}),be&&cn(D,xe),ge}function ye(D,R,L,W){if(L==null)throw Error(a(151));for(var ge=null,Re=null,pe=R,xe=R=0,Ne=null,Ie=L.next();pe!==null&&!Ie.done;xe++,Ie=L.next()){pe.index>xe?(Ne=pe,pe=null):Ne=pe.sibling;var Zn=H(D,pe,Ie.value,W);if(Zn===null){pe===null&&(pe=Ne);break}e&&pe&&Zn.alternate===null&&n(D,pe),R=h(Zn,R,xe),Re===null?ge=Zn:Re.sibling=Zn,Re=Zn,pe=Ne}if(Ie.done)return i(D,pe),be&&cn(D,xe),ge;if(pe===null){for(;!Ie.done;xe++,Ie=L.next())Ie=j(D,Ie.value,W),Ie!==null&&(R=h(Ie,R,xe),Re===null?ge=Ie:Re.sibling=Ie,Re=Ie);return be&&cn(D,xe),ge}for(pe=s(pe);!Ie.done;xe++,Ie=L.next())Ie=Y(pe,D,xe,Ie.value,W),Ie!==null&&(e&&Ie.alternate!==null&&pe.delete(Ie.key===null?xe:Ie.key),R=h(Ie,R,xe),Re===null?ge=Ie:Re.sibling=Ie,Re=Ie);return e&&pe.forEach(function(By){return n(D,By)}),be&&cn(D,xe),ge}function Be(D,R,L,W){if(typeof L=="object"&&L!==null&&L.type===w&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case _:e:{for(var ge=L.key;R!==null;){if(R.key===ge){if(ge=L.type,ge===w){if(R.tag===7){i(D,R.sibling),W=f(R,L.props.children),W.return=D,D=W;break e}}else if(R.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===se&&pl(ge)===R.type){i(D,R.sibling),W=f(R,L.props),Li(W,L),W.return=D,D=W;break e}i(D,R);break}else n(D,R);R=R.sibling}L.type===w?(W=ul(L.props.children,D.mode,W,L.key),W.return=D,D=W):(W=Po(L.type,L.key,L.props,null,D.mode,W),Li(W,L),W.return=D,D=W)}return S(D);case M:e:{for(ge=L.key;R!==null;){if(R.key===ge)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){i(D,R.sibling),W=f(R,L.children||[]),W.return=D,D=W;break e}else{i(D,R);break}else n(D,R);R=R.sibling}W=Ms(L,D.mode,W),W.return=D,D=W}return S(D);case se:return L=pl(L),Be(D,R,L,W)}if(he(L))return fe(D,R,L,W);if(X(L)){if(ge=X(L),typeof ge!="function")throw Error(a(150));return L=ge.call(L),ye(D,R,L,W)}if(typeof L.then=="function")return Be(D,R,Oo(L),W);if(L.$$typeof===O)return Be(D,R,ko(D,L),W);zo(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,R!==null&&R.tag===6?(i(D,R.sibling),W=f(R,L),W.return=D,D=W):(i(D,R),W=bs(L,D.mode,W),W.return=D,D=W),S(D)):i(D,R)}return function(D,R,L,W){try{Ui=0;var ge=Be(D,R,L,W);return zl=null,ge}catch(pe){if(pe===Ol||pe===Bo)throw pe;var Re=It(29,pe,null,D.mode);return Re.lanes=W,Re.return=D,Re}finally{}}}var gl=jc(!0),ed=jc(!1),Ln=!1;function Bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(De&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=Lo(e),Gc(e,null,i),n}return Uo(e,s,n,i),Lo(e)}function Pi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,Ku(e,i)}}function Os(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var S={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=S:h=h.next=S,i=i.next}while(i!==null);h===null?f=h=n:h=h.next=n}else f=h=n;i={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var zs=!1;function Vi(){if(zs){var e=ql;if(e!==null)throw e}}function Gi(e,n,i,s){zs=!1;var f=e.updateQueue;Ln=!1;var h=f.firstBaseUpdate,S=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var N=E,P=N.next;N.next=null,S===null?h=P:S.next=P,S=N;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==S&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=N))}if(h!==null){var j=f.baseState;S=0,Q=P=N=null,E=h;do{var H=E.lane&-536870913,Y=H!==E.lane;if(Y?(Ae&H)===H:(s&H)===H){H!==0&&H===Bl&&(zs=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=e,ye=E;H=n;var Be=i;switch(ye.tag){case 1:if(fe=ye.payload,typeof fe=="function"){j=fe.call(Be,j,H);break e}j=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ye.payload,H=typeof fe=="function"?fe.call(Be,j,H):fe,H==null)break e;j=x({},j,H);break e;case 2:Ln=!0}}H=E.callback,H!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=Y,N=j):Q=Q.next=Y,S|=H;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;Y=E,E=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);Q===null&&(N=j),f.baseState=N,f.firstBaseUpdate=P,f.lastBaseUpdate=Q,h===null&&(f.shared.lanes=0),qn|=S,e.lanes=S,e.memoizedState=j}}function td(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function nd(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)td(i[e],n)}var Fl=A(null),Fo=A(0);function ld(e,n){e=Sn,I(Fo,e),I(Fl,n),Sn=e|n.baseLanes}function Fs(){I(Fo,Sn),I(Fl,Fl.current)}function Ks(){Sn=Fo.current,V(Fl),V(Fo)}var wt=A(null),Kt=null;function Gn(e){var n=e.alternate;I(et,et.current&1),I(wt,e),Kt===null&&(n===null||Fl.current!==null||n.memoizedState!==null)&&(Kt=e)}function Ys(e){I(et,et.current),I(wt,e),Kt===null&&(Kt=e)}function id(e){e.tag===22?(I(et,et.current),I(wt,e),Kt===null&&(Kt=e)):kn()}function kn(){I(et,et.current),I(wt,wt.current)}function Dt(e){V(wt),Kt===e&&(Kt=null),V(et)}var et=A(0);function Ko(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Wr(i)||jr(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hn=0,Te=null,ke=null,lt=null,Yo=!1,Kl=!1,yl=!1,Jo=0,ki=0,Yl=null,I0=0;function Xe(){throw Error(a(321))}function Js(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Rt(e[i],n[i]))return!1;return!0}function $s(e,n,i,s,f,h){return hn=h,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?qd:ur,yl=!1,h=i(s,f),yl=!1,Kl&&(h=ad(n,i,s,f)),od(e),h}function od(e){b.H=qi;var n=ke!==null&&ke.next!==null;if(hn=0,lt=ke=Te=null,Yo=!1,ki=0,Yl=null,n)throw Error(a(300));e===null||it||(e=e.dependencies,e!==null&&Go(e)&&(it=!0))}function ad(e,n,i,s){Te=e;var f=0;do{if(Kl&&(Yl=null),ki=0,Kl=!1,25<=f)throw Error(a(301));if(f+=1,lt=ke=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}b.H=Od,h=n(i,s)}while(Kl);return h}function w0(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?Hi(n):n,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(Te.flags|=1024),n}function Qs(){var e=Jo!==0;return Jo=0,e}function Xs(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Zs(e){if(Yo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Yo=!1}hn=0,lt=ke=Te=null,Kl=!1,ki=Jo=0,Yl=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Te.memoizedState=lt=e:lt=lt.next=e,lt}function tt(){if(ke===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var n=lt===null?Te.memoizedState:lt.next;if(n!==null)lt=n,ke=e;else{if(e===null)throw Te.alternate===null?Error(a(467)):Error(a(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},lt===null?Te.memoizedState=lt=e:lt=lt.next=e}return lt}function $o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hi(e){var n=ki;return ki+=1,Yl===null&&(Yl=[]),e=Xc(Yl,e,n),n=Te,(lt===null?n.memoizedState:lt.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?qd:ur),e}function Qo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hi(e);if(e.$$typeof===O)return ft(e)}throw Error(a(438,String(e)))}function Ws(e){var n=null,i=Te.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var s=Te.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=$o(),Te.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),s=0;s<e;s++)i[s]=ne;return n.index++,i}function pn(e,n){return typeof n=="function"?n(e):n}function Xo(e){var n=tt();return js(n,ke,e)}function js(e,n,i){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=i;var f=e.baseQueue,h=s.pending;if(h!==null){if(f!==null){var S=f.next;f.next=h.next,h.next=S}n.baseQueue=f=h,s.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var E=S=null,N=null,P=n,Q=!1;do{var j=P.lane&-536870913;if(j!==P.lane?(Ae&j)===j:(hn&j)===j){var H=P.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),j===Bl&&(Q=!0);else if((hn&H)===H){P=P.next,H===Bl&&(Q=!0);continue}else j={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=j,S=h):N=N.next=j,Te.lanes|=H,qn|=H;j=P.action,yl&&i(h,j),h=P.hasEagerState?P.eagerState:i(h,j)}else H={lane:j,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=H,S=h):N=N.next=H,Te.lanes|=j,qn|=j;P=P.next}while(P!==null&&P!==n);if(N===null?S=h:N.next=E,!Rt(h,e.memoizedState)&&(it=!0,Q&&(i=ql,i!==null)))throw i;e.memoizedState=h,e.baseState=S,e.baseQueue=N,s.lastRenderedState=h}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function er(e){var n=tt(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var s=i.dispatch,f=i.pending,h=n.memoizedState;if(f!==null){i.pending=null;var S=f=f.next;do h=e(h,S.action),S=S.next;while(S!==f);Rt(h,n.memoizedState)||(it=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,s]}function sd(e,n,i){var s=Te,f=tt(),h=be;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=n();var S=!Rt((ke||f).memoizedState,i);if(S&&(f.memoizedState=i,it=!0),f=f.queue,lr(cd.bind(null,s,f,e),[e]),f.getSnapshot!==n||S||lt!==null&&lt.memoizedState.tag&1){if(s.flags|=2048,Jl(9,{destroy:void 0},ud.bind(null,s,f,i,n),null),Oe===null)throw Error(a(349));h||(hn&127)!==0||rd(s,n,i)}return i}function rd(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Te.updateQueue,n===null?(n=$o(),Te.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function ud(e,n,i,s){n.value=i,n.getSnapshot=s,dd(n)&&fd(e)}function cd(e,n,i){return i(function(){dd(n)&&fd(e)})}function dd(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Rt(e,i)}catch{return!0}}function fd(e){var n=rl(e,2);n!==null&&At(n,e,2)}function tr(e){var n=vt();if(typeof e=="function"){var i=e;if(e=i(),yl){bn(!0);try{i()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:e},n}function hd(e,n,i,s){return e.baseState=i,js(e,ke,typeof s=="function"?s:pn)}function D0(e,n,i,s,f){if(jo(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){h.listeners.push(S)}};b.T!==null?i(!0):h.isTransition=!1,s(h),i=n.pending,i===null?(h.next=n.pending=h,pd(n,h)):(h.next=i.next,n.pending=i.next=h)}}function pd(e,n){var i=n.action,s=n.payload,f=e.state;if(n.isTransition){var h=b.T,S={};b.T=S;try{var E=i(f,s),N=b.S;N!==null&&N(S,E),md(e,n,E)}catch(P){nr(e,n,P)}finally{h!==null&&S.types!==null&&(h.types=S.types),b.T=h}}else try{h=i(f,s),md(e,n,h)}catch(P){nr(e,n,P)}}function md(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){gd(e,n,s)},function(s){return nr(e,n,s)}):gd(e,n,i)}function gd(e,n,i){n.status="fulfilled",n.value=i,yd(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,pd(e,i)))}function nr(e,n,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=i,yd(n),n=n.next;while(n!==s)}e.action=null}function yd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vd(e,n){return n}function Td(e,n){if(be){var i=Oe.formState;if(i!==null){e:{var s=Te;if(be){if(Ke){t:{for(var f=Ke,h=Ft;f.nodeType!==8;){if(!h){f=null;break t}if(f=Yt(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Ke=Yt(f.nextSibling),s=f.data==="F!";break e}}Dn(s)}s=!1}s&&(n=i[0])}}return i=vt(),i.memoizedState=i.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:n},i.queue=s,i=kd.bind(null,Te,s),s.dispatch=i,s=tr(!1),h=rr.bind(null,Te,!1,s.queue),s=vt(),f={state:n,dispatch:null,action:e,pending:null},s.queue=f,i=D0.bind(null,Te,f,h,i),f.dispatch=i,s.memoizedState=e,[n,i,!1]}function xd(e){var n=tt();return Sd(n,ke,e)}function Sd(e,n,i){if(n=js(e,n,vd)[0],e=Xo(pn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Hi(n)}catch(S){throw S===Ol?Bo:S}else s=n;n=tt();var f=n.queue,h=f.dispatch;return i!==n.memoizedState&&(Te.flags|=2048,Jl(9,{destroy:void 0},U0.bind(null,f,i),null)),[s,h,e]}function U0(e,n){e.action=n}function Cd(e){var n=tt(),i=ke;if(i!==null)return Sd(n,i,e);tt(),n=n.memoizedState,i=tt();var s=i.queue.dispatch;return i.memoizedState=e,[n,s,!1]}function Jl(e,n,i,s){return e={tag:e,create:i,deps:s,inst:n,next:null},n=Te.updateQueue,n===null&&(n=$o(),Te.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e),e}function Ed(){return tt().memoizedState}function Zo(e,n,i,s){var f=vt();Te.flags|=e,f.memoizedState=Jl(1|n,{destroy:void 0},i,s===void 0?null:s)}function Wo(e,n,i,s){var f=tt();s=s===void 0?null:s;var h=f.memoizedState.inst;ke!==null&&s!==null&&Js(s,ke.memoizedState.deps)?f.memoizedState=Jl(n,h,i,s):(Te.flags|=e,f.memoizedState=Jl(1|n,h,i,s))}function _d(e,n){Zo(8390656,8,e,n)}function lr(e,n){Wo(2048,8,e,n)}function L0(e){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=$o(),Te.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function Ad(e){var n=tt().memoizedState;return L0({ref:n,nextImpl:e}),function(){if((De&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Nd(e,n){return Wo(4,2,e,n)}function bd(e,n){return Wo(4,4,e,n)}function Md(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Rd(e,n,i){i=i!=null?i.concat([e]):null,Wo(4,4,Md.bind(null,n,e),i)}function ir(){}function Id(e,n){var i=tt();n=n===void 0?null:n;var s=i.memoizedState;return n!==null&&Js(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function wd(e,n){var i=tt();n=n===void 0?null:n;var s=i.memoizedState;if(n!==null&&Js(n,s[1]))return s[0];if(s=e(),yl){bn(!0);try{e()}finally{bn(!1)}}return i.memoizedState=[s,n],s}function or(e,n,i){return i===void 0||(hn&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=Uf(),Te.lanes|=e,qn|=e,i)}function Dd(e,n,i,s){return Rt(i,n)?i:Fl.current!==null?(e=or(e,i,s),Rt(e,n)||(it=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(Ae&261930)===0?(it=!0,e.memoizedState=i):(e=Uf(),Te.lanes|=e,qn|=e,n)}function Ud(e,n,i,s,f){var h=B.p;B.p=h!==0&&8>h?h:8;var S=b.T,E={};b.T=E,rr(e,!1,n,i);try{var N=f(),P=b.S;if(P!==null&&P(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=R0(N,s);Bi(e,n,Q,Pt(e))}else Bi(e,n,s,Pt(e))}catch(j){Bi(e,n,{then:function(){},status:"rejected",reason:j},Pt())}finally{B.p=h,S!==null&&E.types!==null&&(S.types=E.types),b.T=S}}function P0(){}function ar(e,n,i,s){if(e.tag!==5)throw Error(a(476));var f=Ld(e).queue;Ud(e,f,n,de,i===null?P0:function(){return Pd(e),i(s)})}function Ld(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:de},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Pd(e){var n=Ld(e);n.next===null&&(n=e.alternate.memoizedState),Bi(e,n.next.queue,{},Pt())}function sr(){return ft(lo)}function Vd(){return tt().memoizedState}function Gd(){return tt().memoizedState}function V0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Pt();e=Pn(i);var s=Vn(n,e,i);s!==null&&(At(s,n,i),Pi(s,n,i)),n={cache:Vs()},e.payload=n;return}n=n.return}}function G0(e,n,i){var s=Pt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},jo(e)?Hd(n,i):(i=As(e,n,i,s),i!==null&&(At(i,e,s),Bd(i,n,s)))}function kd(e,n,i){var s=Pt();Bi(e,n,i,s)}function Bi(e,n,i,s){var f={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(jo(e))Hd(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var S=n.lastRenderedState,E=h(S,i);if(f.hasEagerState=!0,f.eagerState=E,Rt(E,S))return Uo(e,n,f,0),Oe===null&&Do(),!1}catch{}finally{}if(i=As(e,n,f,s),i!==null)return At(i,e,s),Bd(i,n,s),!0}return!1}function rr(e,n,i,s){if(s={lane:2,revertLane:Br(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},jo(e)){if(n)throw Error(a(479))}else n=As(e,i,s,2),n!==null&&At(n,e,2)}function jo(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function Hd(e,n){Kl=Yo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Bd(e,n,i){if((i&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,Ku(e,i)}}var qi={readContext:ft,use:Qo,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};qi.useEffectEvent=Xe;var qd={readContext:ft,use:Qo,useCallback:function(e,n){return vt().memoizedState=[e,n===void 0?null:n],e},useContext:ft,useEffect:_d,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Zo(4194308,4,Md.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Zo(4194308,4,e,n)},useInsertionEffect:function(e,n){Zo(4,2,e,n)},useMemo:function(e,n){var i=vt();n=n===void 0?null:n;var s=e();if(yl){bn(!0);try{e()}finally{bn(!1)}}return i.memoizedState=[s,n],s},useReducer:function(e,n,i){var s=vt();if(i!==void 0){var f=i(n);if(yl){bn(!0);try{i(n)}finally{bn(!1)}}}else f=n;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=G0.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var n=vt();return e={current:e},n.memoizedState=e},useState:function(e){e=tr(e);var n=e.queue,i=kd.bind(null,Te,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:ir,useDeferredValue:function(e,n){var i=vt();return or(i,e,n)},useTransition:function(){var e=tr(!1);return e=Ud.bind(null,Te,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var s=Te,f=vt();if(be){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),Oe===null)throw Error(a(349));(Ae&127)!==0||rd(s,n,i)}f.memoizedState=i;var h={value:i,getSnapshot:n};return f.queue=h,_d(cd.bind(null,s,h,e),[e]),s.flags|=2048,Jl(9,{destroy:void 0},ud.bind(null,s,h,i,n),null),i},useId:function(){var e=vt(),n=Oe.identifierPrefix;if(be){var i=tn,s=en;i=(s&~(1<<32-Mt(s)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Jo++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=I0++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:sr,useFormState:Td,useActionState:Td,useOptimistic:function(e){var n=vt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=rr.bind(null,Te,!0,i),i.dispatch=n,[e,n]},useMemoCache:Ws,useCacheRefresh:function(){return vt().memoizedState=V0.bind(null,Te)},useEffectEvent:function(e){var n=vt(),i={impl:e};return n.memoizedState=i,function(){if((De&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},ur={readContext:ft,use:Qo,useCallback:Id,useContext:ft,useEffect:lr,useImperativeHandle:Rd,useInsertionEffect:Nd,useLayoutEffect:bd,useMemo:wd,useReducer:Xo,useRef:Ed,useState:function(){return Xo(pn)},useDebugValue:ir,useDeferredValue:function(e,n){var i=tt();return Dd(i,ke.memoizedState,e,n)},useTransition:function(){var e=Xo(pn)[0],n=tt().memoizedState;return[typeof e=="boolean"?e:Hi(e),n]},useSyncExternalStore:sd,useId:Vd,useHostTransitionStatus:sr,useFormState:xd,useActionState:xd,useOptimistic:function(e,n){var i=tt();return hd(i,ke,e,n)},useMemoCache:Ws,useCacheRefresh:Gd};ur.useEffectEvent=Ad;var Od={readContext:ft,use:Qo,useCallback:Id,useContext:ft,useEffect:lr,useImperativeHandle:Rd,useInsertionEffect:Nd,useLayoutEffect:bd,useMemo:wd,useReducer:er,useRef:Ed,useState:function(){return er(pn)},useDebugValue:ir,useDeferredValue:function(e,n){var i=tt();return ke===null?or(i,e,n):Dd(i,ke.memoizedState,e,n)},useTransition:function(){var e=er(pn)[0],n=tt().memoizedState;return[typeof e=="boolean"?e:Hi(e),n]},useSyncExternalStore:sd,useId:Vd,useHostTransitionStatus:sr,useFormState:Cd,useActionState:Cd,useOptimistic:function(e,n){var i=tt();return ke!==null?hd(i,ke,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ws,useCacheRefresh:Gd};Od.useEffectEvent=Ad;function cr(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:x({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var dr={enqueueSetState:function(e,n,i){e=e._reactInternals;var s=Pt(),f=Pn(s);f.payload=n,i!=null&&(f.callback=i),n=Vn(e,f,s),n!==null&&(At(n,e,s),Pi(n,e,s))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=Pt(),f=Pn(s);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Vn(e,f,s),n!==null&&(At(n,e,s),Pi(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Pt(),s=Pn(i);s.tag=2,n!=null&&(s.callback=n),n=Vn(e,s,i),n!==null&&(At(n,e,i),Pi(n,e,i))}};function zd(e,n,i,s,f,h,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,S):n.prototype&&n.prototype.isPureReactComponent?!bi(i,s)||!bi(f,h):!0}function Fd(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&dr.enqueueReplaceState(n,n.state,null)}function vl(e,n){var i=n;if("ref"in n){i={};for(var s in n)s!=="ref"&&(i[s]=n[s])}if(e=e.defaultProps){i===n&&(i=x({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function Kd(e){wo(e)}function Yd(e){console.error(e)}function Jd(e){wo(e)}function ea(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function $d(e,n,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fr(e,n,i){return i=Pn(i),i.tag=3,i.payload={element:null},i.callback=function(){ea(e,n)},i}function Qd(e){return e=Pn(e),e.tag=3,e}function Xd(e,n,i,s){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=s.value;e.payload=function(){return f(h)},e.callback=function(){$d(n,i,s)}}var S=i.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){$d(n,i,s),typeof f!="function"&&(On===null?On=new Set([this]):On.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function k0(e,n,i,s,f){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=i.alternate,n!==null&&Hl(n,i,f,!0),i=wt.current,i!==null){switch(i.tag){case 31:case 13:return Kt===null?fa():i.alternate===null&&Ze===0&&(Ze=3),i.flags&=-257,i.flags|=65536,i.lanes=f,s===qo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([s]):n.add(s),Gr(e,s,f)),!1;case 22:return i.flags|=65536,s===qo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([s]):i.add(s)),Gr(e,s,f)),!1}throw Error(a(435,i.tag))}return Gr(e,s,f),fa(),!1}if(be)return n=wt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==ws&&(e=Error(a(422),{cause:s}),Ii(qt(e,i)))):(s!==ws&&(n=Error(a(423),{cause:s}),Ii(qt(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=qt(s,i),f=fr(e.stateNode,s,f),Os(e,f),Ze!==4&&(Ze=2)),!1;var h=Error(a(520),{cause:s});if(h=qt(h,i),Qi===null?Qi=[h]:Qi.push(h),Ze!==4&&(Ze=2),n===null)return!0;s=qt(s,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=fr(i.stateNode,s,e),Os(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(On===null||!On.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Qd(f),Xd(f,e,i,s),Os(i,f),!1}i=i.return}while(i!==null);return!1}var hr=Error(a(461)),it=!1;function ht(e,n,i,s){n.child=e===null?ed(n,null,i,s):gl(n,e.child,i,s)}function Zd(e,n,i,s,f){i=i.render;var h=n.ref;if("ref"in s){var S={};for(var E in s)E!=="ref"&&(S[E]=s[E])}else S=s;return fl(n),s=$s(e,n,i,S,h,f),E=Qs(),e!==null&&!it?(Xs(e,n,f),mn(e,n,f)):(be&&E&&Rs(n),n.flags|=1,ht(e,n,s,f),n.child)}function Wd(e,n,i,s,f){if(e===null){var h=i.type;return typeof h=="function"&&!Ns(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,jd(e,n,h,s,f)):(e=Po(i.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Sr(e,f)){var S=h.memoizedProps;if(i=i.compare,i=i!==null?i:bi,i(S,s)&&e.ref===n.ref)return mn(e,n,f)}return n.flags|=1,e=un(h,s),e.ref=n.ref,e.return=n,n.child=e}function jd(e,n,i,s,f){if(e!==null){var h=e.memoizedProps;if(bi(h,s)&&e.ref===n.ref)if(it=!1,n.pendingProps=s=h,Sr(e,f))(e.flags&131072)!==0&&(it=!0);else return n.lanes=e.lanes,mn(e,n,f)}return pr(e,n,i,s,f)}function ef(e,n,i,s){var f=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(s=n.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~h}else s=0,n.child=null;return tf(e,n,h,i,s)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ho(n,h!==null?h.cachePool:null),h!==null?ld(n,h):Fs(),id(n);else return s=n.lanes=536870912,tf(e,n,h!==null?h.baseLanes|i:i,i,s)}else h!==null?(Ho(n,h.cachePool),ld(n,h),kn(),n.memoizedState=null):(e!==null&&Ho(n,null),Fs(),kn());return ht(e,n,f,i),n.child}function Oi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function tf(e,n,i,s,f){var h=ks();return h=h===null?null:{parent:nt._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&Ho(n,null),Fs(),id(n),e!==null&&Hl(e,n,s,!0),n.childLanes=f,null}function ta(e,n){return n=la({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function nf(e,n,i){return gl(n,e.child,null,i),e=ta(n,n.pendingProps),e.flags|=2,Dt(n),n.memoizedState=null,e}function H0(e,n,i){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(be){if(s.mode==="hidden")return e=ta(n,s),n.lanes=536870912,Oi(null,e);if(Ys(n),(e=Ke)?(e=mh(e,Ft),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:In!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},i=Hc(e),i.return=n,n.child=i,dt=n,Ke=null)):e=null,e===null)throw Dn(n);return n.lanes=536870912,null}return ta(n,s)}var h=e.memoizedState;if(h!==null){var S=h.dehydrated;if(Ys(n),f)if(n.flags&256)n.flags&=-257,n=nf(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(it||Hl(e,n,i,!1),f=(i&e.childLanes)!==0,it||f){if(s=Oe,s!==null&&(S=Yu(s,i),S!==0&&S!==h.retryLane))throw h.retryLane=S,rl(e,S),At(s,e,S),hr;fa(),n=nf(e,n,i)}else e=h.treeContext,Ke=Yt(S.nextSibling),dt=n,be=!0,wn=null,Ft=!1,e!==null&&Oc(n,e),n=ta(n,s),n.flags|=4096;return n}return e=un(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function na(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function pr(e,n,i,s,f){return fl(n),i=$s(e,n,i,s,void 0,f),s=Qs(),e!==null&&!it?(Xs(e,n,f),mn(e,n,f)):(be&&s&&Rs(n),n.flags|=1,ht(e,n,i,f),n.child)}function lf(e,n,i,s,f,h){return fl(n),n.updateQueue=null,i=ad(n,s,i,f),od(e),s=Qs(),e!==null&&!it?(Xs(e,n,h),mn(e,n,h)):(be&&s&&Rs(n),n.flags|=1,ht(e,n,i,h),n.child)}function of(e,n,i,s,f){if(fl(n),n.stateNode===null){var h=Pl,S=i.contextType;typeof S=="object"&&S!==null&&(h=ft(S)),h=new i(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=dr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},Bs(n),S=i.contextType,h.context=typeof S=="object"&&S!==null?ft(S):Pl,h.state=n.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(cr(n,i,S,s),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(S=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),S!==h.state&&dr.enqueueReplaceState(h,h.state,null),Gi(n,s,h,f),Vi(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var E=n.memoizedProps,N=vl(i,E);h.props=N;var P=h.context,Q=i.contextType;S=Pl,typeof Q=="object"&&Q!==null&&(S=ft(Q));var j=i.getDerivedStateFromProps;Q=typeof j=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||P!==S)&&Fd(n,h,s,S),Ln=!1;var H=n.memoizedState;h.state=H,Gi(n,s,h,f),Vi(),P=n.memoizedState,E||H!==P||Ln?(typeof j=="function"&&(cr(n,i,j,s),P=n.memoizedState),(N=Ln||zd(n,i,N,s,H,P,S))?(Q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=P),h.props=s,h.state=P,h.context=S,s=N):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,qs(e,n),S=n.memoizedProps,Q=vl(i,S),h.props=Q,j=n.pendingProps,H=h.context,P=i.contextType,N=Pl,typeof P=="object"&&P!==null&&(N=ft(P)),E=i.getDerivedStateFromProps,(P=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==j||H!==N)&&Fd(n,h,s,N),Ln=!1,H=n.memoizedState,h.state=H,Gi(n,s,h,f),Vi();var Y=n.memoizedState;S!==j||H!==Y||Ln||e!==null&&e.dependencies!==null&&Go(e.dependencies)?(typeof E=="function"&&(cr(n,i,E,s),Y=n.memoizedState),(Q=Ln||zd(n,i,Q,s,H,Y,N)||e!==null&&e.dependencies!==null&&Go(e.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,Y,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,Y,N)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=Y),h.props=s,h.state=Y,h.context=N,s=Q):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,na(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=gl(n,e.child,null,f),n.child=gl(n,null,i,f)):ht(e,n,i,f),n.memoizedState=h.state,e=n.child):e=mn(e,n,f),e}function af(e,n,i,s){return cl(),n.flags|=256,ht(e,n,i,s),n.child}var mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gr(e){return{baseLanes:e,cachePool:$c()}}function yr(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Lt),e}function sf(e,n,i){var s=n.pendingProps,f=!1,h=(n.flags&128)!==0,S;if((S=h)||(S=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(be){if(f?Gn(n):kn(),(e=Ke)?(e=mh(e,Ft),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:In!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},i=Hc(e),i.return=n,n.child=i,dt=n,Ke=null)):e=null,e===null)throw Dn(n);return jr(e)?n.lanes=32:n.lanes=536870912,null}var E=s.children;return s=s.fallback,f?(kn(),f=n.mode,E=la({mode:"hidden",children:E},f),s=ul(s,f,i,null),E.return=n,s.return=n,E.sibling=s,n.child=E,s=n.child,s.memoizedState=gr(i),s.childLanes=yr(e,S,i),n.memoizedState=mr,Oi(null,s)):(Gn(n),vr(n,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(h)n.flags&256?(Gn(n),n.flags&=-257,n=Tr(e,n,i)):n.memoizedState!==null?(kn(),n.child=e.child,n.flags|=128,n=null):(kn(),E=s.fallback,f=n.mode,s=la({mode:"visible",children:s.children},f),E=ul(E,f,i,null),E.flags|=2,s.return=n,E.return=n,s.sibling=E,n.child=s,gl(n,e.child,null,i),s=n.child,s.memoizedState=gr(i),s.childLanes=yr(e,S,i),n.memoizedState=mr,n=Oi(null,s));else if(Gn(n),jr(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var P=S.dgst;S=P,s=Error(a(419)),s.stack="",s.digest=S,Ii({value:s,source:null,stack:null}),n=Tr(e,n,i)}else if(it||Hl(e,n,i,!1),S=(i&e.childLanes)!==0,it||S){if(S=Oe,S!==null&&(s=Yu(S,i),s!==0&&s!==N.retryLane))throw N.retryLane=s,rl(e,s),At(S,e,s),hr;Wr(E)||fa(),n=Tr(e,n,i)}else Wr(E)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,Ke=Yt(E.nextSibling),dt=n,be=!0,wn=null,Ft=!1,e!==null&&Oc(n,e),n=vr(n,s.children),n.flags|=4096);return n}return f?(kn(),E=s.fallback,f=n.mode,N=e.child,P=N.sibling,s=un(N,{mode:"hidden",children:s.children}),s.subtreeFlags=N.subtreeFlags&65011712,P!==null?E=un(P,E):(E=ul(E,f,i,null),E.flags|=2),E.return=n,s.return=n,s.sibling=E,n.child=s,Oi(null,s),s=n.child,E=e.child.memoizedState,E===null?E=gr(i):(f=E.cachePool,f!==null?(N=nt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=$c(),E={baseLanes:E.baseLanes|i,cachePool:f}),s.memoizedState=E,s.childLanes=yr(e,S,i),n.memoizedState=mr,Oi(e.child,s)):(Gn(n),i=e.child,e=i.sibling,i=un(i,{mode:"visible",children:s.children}),i.return=n,i.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=i,n.memoizedState=null,i)}function vr(e,n){return n=la({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function la(e,n){return e=It(22,e,null,n),e.lanes=0,e}function Tr(e,n,i){return gl(n,e.child,null,i),e=vr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function rf(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ls(e.return,n,i)}function xr(e,n,i,s,f,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:f,treeForkCount:h}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=i,S.tailMode=f,S.treeForkCount=h)}function uf(e,n,i){var s=n.pendingProps,f=s.revealOrder,h=s.tail;s=s.children;var S=et.current,E=(S&2)!==0;if(E?(S=S&1|2,n.flags|=128):S&=1,I(et,S),ht(e,n,s,i),s=be?Ri:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rf(e,i,n);else if(e.tag===19)rf(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&Ko(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),xr(n,!1,f,i,h,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Ko(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}xr(n,!0,i,null,h,s);break;case"together":xr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function mn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),qn|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Hl(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=un(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=un(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Sr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Go(e)))}function B0(e,n,i){switch(n.tag){case 3:We(n,n.stateNode.containerInfo),Un(n,nt,e.memoizedState.cache),cl();break;case 27:case 5:mt(n);break;case 4:We(n,n.stateNode.containerInfo);break;case 10:Un(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ys(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Gn(n),n.flags|=128,null):(i&n.child.childLanes)!==0?sf(e,n,i):(Gn(n),e=mn(e,n,i),e!==null?e.sibling:null);Gn(n);break;case 19:var f=(e.flags&128)!==0;if(s=(i&n.childLanes)!==0,s||(Hl(e,n,i,!1),s=(i&n.childLanes)!==0),f){if(s)return uf(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),I(et,et.current),s)break;return null;case 22:return n.lanes=0,ef(e,n,i,n.pendingProps);case 24:Un(n,nt,e.memoizedState.cache)}return mn(e,n,i)}function cf(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)it=!0;else{if(!Sr(e,i)&&(n.flags&128)===0)return it=!1,B0(e,n,i);it=(e.flags&131072)!==0}else it=!1,be&&(n.flags&1048576)!==0&&qc(n,Ri,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=pl(n.elementType),n.type=e,typeof e=="function")Ns(e)?(s=vl(e,s),n.tag=1,n=of(null,n,e,s,i)):(n.tag=0,n=pr(null,n,e,s,i));else{if(e!=null){var f=e.$$typeof;if(f===le){n.tag=11,n=Zd(null,n,e,s,i);break e}else if(f===J){n.tag=14,n=Wd(null,n,e,s,i);break e}}throw n=me(e)||e,Error(a(306,n,""))}}return n;case 0:return pr(e,n,n.type,n.pendingProps,i);case 1:return s=n.type,f=vl(s,n.pendingProps),of(e,n,s,f,i);case 3:e:{if(We(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;f=h.element,qs(e,n),Gi(n,s,null,i);var S=n.memoizedState;if(s=S.cache,Un(n,nt,s),s!==h.cache&&Ps(n,[nt],i,!0),Vi(),s=S.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=af(e,n,s,i);break e}else if(s!==f){f=qt(Error(a(424)),n),Ii(f),n=af(e,n,s,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ke=Yt(e.firstChild),dt=n,be=!0,wn=null,Ft=!0,i=ed(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(cl(),s===f){n=mn(e,n,i);break e}ht(e,n,s,i)}n=n.child}return n;case 26:return na(e,n),e===null?(i=Sh(n.type,null,n.pendingProps,null))?n.memoizedState=i:be||(i=n.type,e=n.pendingProps,s=Ta(ae.current).createElement(i),s[ct]=n,s[Tt]=e,pt(s,i,e),rt(s),n.stateNode=s):n.memoizedState=Sh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return mt(n),e===null&&be&&(s=n.stateNode=vh(n.type,n.pendingProps,ae.current),dt=n,Ft=!0,f=Ke,Yn(n.type)?(eu=f,Ke=Yt(s.firstChild)):Ke=f),ht(e,n,n.pendingProps.children,i),na(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&be&&((f=s=Ke)&&(s=gy(s,n.type,n.pendingProps,Ft),s!==null?(n.stateNode=s,dt=n,Ke=Yt(s.firstChild),Ft=!1,f=!0):f=!1),f||Dn(n)),mt(n),f=n.type,h=n.pendingProps,S=e!==null?e.memoizedProps:null,s=h.children,Qr(f,h)?s=null:S!==null&&Qr(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=$s(e,n,w0,null,null,i),lo._currentValue=f),na(e,n),ht(e,n,s,i),n.child;case 6:return e===null&&be&&((e=i=Ke)&&(i=yy(i,n.pendingProps,Ft),i!==null?(n.stateNode=i,dt=n,Ke=null,e=!0):e=!1),e||Dn(n)),null;case 13:return sf(e,n,i);case 4:return We(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=gl(n,null,s,i):ht(e,n,s,i),n.child;case 11:return Zd(e,n,n.type,n.pendingProps,i);case 7:return ht(e,n,n.pendingProps,i),n.child;case 8:return ht(e,n,n.pendingProps.children,i),n.child;case 12:return ht(e,n,n.pendingProps.children,i),n.child;case 10:return s=n.pendingProps,Un(n,n.type,s.value),ht(e,n,s.children,i),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,fl(n),f=ft(f),s=s(f),n.flags|=1,ht(e,n,s,i),n.child;case 14:return Wd(e,n,n.type,n.pendingProps,i);case 15:return jd(e,n,n.type,n.pendingProps,i);case 19:return uf(e,n,i);case 31:return H0(e,n,i);case 22:return ef(e,n,i,n.pendingProps);case 24:return fl(n),s=ft(nt),e===null?(f=ks(),f===null&&(f=Oe,h=Vs(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),n.memoizedState={parent:s,cache:f},Bs(n),Un(n,nt,f)):((e.lanes&i)!==0&&(qs(e,n),Gi(n,null,null,i),Vi()),f=e.memoizedState,h=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Un(n,nt,s)):(s=h.cache,Un(n,nt,s),s!==f.cache&&Ps(n,[nt],i,!0))),ht(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function gn(e){e.flags|=4}function Cr(e,n,i,s,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Gf())e.flags|=8192;else throw ml=qo,Hs}else e.flags&=-16777217}function df(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Nh(n))if(Gf())e.flags|=8192;else throw ml=qo,Hs}function ia(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?zu():536870912,e.lanes|=n,Zl|=n)}function zi(e,n){if(!be)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ye(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function q0(e,n,i){var s=n.pendingProps;switch(Is(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return Ye(n),null;case 3:return i=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),fn(nt),ze(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(kl(n)?gn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ds())),Ye(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?(gn(n),h!==null?(Ye(n),df(n,h)):(Ye(n),Cr(n,f,null,s,i))):h?h!==e.memoizedState?(gn(n),Ye(n),df(n,h)):(Ye(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&gn(n),Ye(n),Cr(n,f,e,s,i)),null;case 27:if(Qe(n),i=ae.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&gn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ye(n),null}e=ie.current,kl(n)?zc(n):(e=vh(f,s,i),n.stateNode=e,gn(n))}return Ye(n),null;case 5:if(Qe(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&gn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ye(n),null}if(h=ie.current,kl(n))zc(n);else{var S=Ta(ae.current);switch(h){case 1:h=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=S.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?S.createElement(f,{is:s.is}):S.createElement(f)}}h[ct]=n,h[Tt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=h;e:switch(pt(h,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&gn(n)}}return Ye(n),Cr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&gn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ae.current,kl(n)){if(e=n.stateNode,i=n.memoizedProps,s=null,f=dt,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[ct]=n,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||sh(e.nodeValue,i)),e||Dn(n,!0)}else e=Ta(e).createTextNode(s),e[ct]=n,n.stateNode=e}return Ye(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(s=kl(n),i!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ct]=n}else cl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),e=!1}else i=Ds(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Dt(n),n):(Dt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ye(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=kl(n),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ct]=n}else cl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),f=!1}else f=Ds(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Dt(n),n):(Dt(n),null)}return Dt(n),(n.flags&128)!==0?(n.lanes=i,n):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==f&&(s.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),ia(n,n.updateQueue),Ye(n),null);case 4:return ze(),e===null&&Fr(n.stateNode.containerInfo),Ye(n),null;case 10:return fn(n.type),Ye(n),null;case 19:if(V(et),s=n.memoizedState,s===null)return Ye(n),null;if(f=(n.flags&128)!==0,h=s.rendering,h===null)if(f)zi(s,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Ko(e),h!==null){for(n.flags|=128,zi(s,!1),e=h.updateQueue,n.updateQueue=e,ia(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)kc(i,e),i=i.sibling;return I(et,et.current&1|2),be&&cn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&je()>ua&&(n.flags|=128,f=!0,zi(s,!1),n.lanes=4194304)}else{if(!f)if(e=Ko(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,ia(n,e),zi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!be)return Ye(n),null}else 2*je()-s.renderingStartTime>ua&&i!==536870912&&(n.flags|=128,f=!0,zi(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=je(),e.sibling=null,i=et.current,I(et,f?i&1|2:i&1),be&&cn(n,s.treeForkCount),e):(Ye(n),null);case 22:case 23:return Dt(n),Ks(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(i&536870912)!==0&&(n.flags&128)===0&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),i=n.updateQueue,i!==null&&ia(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048),e!==null&&V(hl),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),fn(nt),Ye(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function O0(e,n){switch(Is(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fn(nt),ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qe(n),null;case 31:if(n.memoizedState!==null){if(Dt(n),n.alternate===null)throw Error(a(340));cl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Dt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));cl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return V(et),null;case 4:return ze(),null;case 10:return fn(n.type),null;case 22:case 23:return Dt(n),Ks(),e!==null&&V(hl),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return fn(nt),null;case 25:return null;default:return null}}function ff(e,n){switch(Is(n),n.tag){case 3:fn(nt),ze();break;case 26:case 27:case 5:Qe(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&Dt(n);break;case 13:Dt(n);break;case 19:V(et);break;case 10:fn(n.type);break;case 22:case 23:Dt(n),Ks(),e!==null&&V(hl);break;case 24:fn(nt)}}function Fi(e,n){try{var i=n.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var f=s.next;i=f;do{if((i.tag&e)===e){s=void 0;var h=i.create,S=i.inst;s=h(),S.destroy=s}i=i.next}while(i!==f)}}catch(E){Ge(n,n.return,E)}}function Hn(e,n,i){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var h=f.next;s=h;do{if((s.tag&e)===e){var S=s.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,f=n;var N=i,P=E;try{P()}catch(Q){Ge(f,N,Q)}}}s=s.next}while(s!==h)}}catch(Q){Ge(n,n.return,Q)}}function hf(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{nd(n,i)}catch(s){Ge(e,e.return,s)}}}function pf(e,n,i){i.props=vl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ge(e,n,s)}}function Ki(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(f){Ge(e,n,f)}}function nn(e,n){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(f){Ge(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){Ge(e,n,f)}else i.current=null}function mf(e){var n=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(f){Ge(e,e.return,f)}}function Er(e,n,i){try{var s=e.stateNode;cy(s,e.type,i,n),s[Tt]=n}catch(f){Ge(e,e.return,f)}}function gf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yn(e.type)||e.tag===4}function _r(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ar(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=sn));else if(s!==4&&(s===27&&Yn(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Ar(e,n,i),e=e.sibling;e!==null;)Ar(e,n,i),e=e.sibling}function oa(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(s===27&&Yn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(oa(e,n,i),e=e.sibling;e!==null;)oa(e,n,i),e=e.sibling}function yf(e){var n=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);pt(n,s,i),n[ct]=e,n[Tt]=i}catch(h){Ge(e,e.return,h)}}var yn=!1,ot=!1,Nr=!1,vf=typeof WeakSet=="function"?WeakSet:Set,ut=null;function z0(e,n){if(e=e.containerInfo,Jr=Na,e=Rc(e),Ts(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var f=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var S=0,E=-1,N=-1,P=0,Q=0,j=e,H=null;t:for(;;){for(var Y;j!==i||f!==0&&j.nodeType!==3||(E=S+f),j!==h||s!==0&&j.nodeType!==3||(N=S+s),j.nodeType===3&&(S+=j.nodeValue.length),(Y=j.firstChild)!==null;)H=j,j=Y;for(;;){if(j===e)break t;if(H===i&&++P===f&&(E=S),H===h&&++Q===s&&(N=S),(Y=j.nextSibling)!==null)break;j=H,H=j.parentNode}j=Y}i=E===-1||N===-1?null:{start:E,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for($r={focusedElem:e,selectionRange:i},Na=!1,ut=n;ut!==null;)if(n=ut,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ut=e;else for(;ut!==null;){switch(n=ut,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,f=h.memoizedProps,h=h.memoizedState,s=i.stateNode;try{var fe=vl(i.type,f);e=s.getSnapshotBeforeUpdate(fe,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Ge(i,i.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Zr(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ut=e;break}ut=n.return}}function Tf(e,n,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Tn(e,i),s&4&&Fi(5,i);break;case 1:if(Tn(e,i),s&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(S){Ge(i,i.return,S)}else{var f=vl(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Ge(i,i.return,S)}}s&64&&hf(i),s&512&&Ki(i,i.return);break;case 3:if(Tn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{nd(e,n)}catch(S){Ge(i,i.return,S)}}break;case 27:n===null&&s&4&&yf(i);case 26:case 5:Tn(e,i),n===null&&s&4&&mf(i),s&512&&Ki(i,i.return);break;case 12:Tn(e,i);break;case 31:Tn(e,i),s&4&&Cf(e,i);break;case 13:Tn(e,i),s&4&&Ef(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=W0.bind(null,i),vy(e,i))));break;case 22:if(s=i.memoizedState!==null||yn,!s){n=n!==null&&n.memoizedState!==null||ot,f=yn;var h=ot;yn=s,(ot=n)&&!h?xn(e,i,(i.subtreeFlags&8772)!==0):Tn(e,i),yn=f,ot=h}break;case 30:break;default:Tn(e,i)}}function xf(e){var n=e.alternate;n!==null&&(e.alternate=null,xf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ns(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,St=!1;function vn(e,n,i){for(i=i.child;i!==null;)Sf(e,n,i),i=i.sibling}function Sf(e,n,i){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(mi,i)}catch{}switch(i.tag){case 26:ot||nn(i,n),vn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ot||nn(i,n);var s=$e,f=St;Yn(i.type)&&($e=i.stateNode,St=!1),vn(e,n,i),eo(i.stateNode),$e=s,St=f;break;case 5:ot||nn(i,n);case 6:if(s=$e,f=St,$e=null,vn(e,n,i),$e=s,St=f,$e!==null)if(St)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(i.stateNode)}catch(h){Ge(i,n,h)}else try{$e.removeChild(i.stateNode)}catch(h){Ge(i,n,h)}break;case 18:$e!==null&&(St?(e=$e,hh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),oi(e)):hh($e,i.stateNode));break;case 4:s=$e,f=St,$e=i.stateNode.containerInfo,St=!0,vn(e,n,i),$e=s,St=f;break;case 0:case 11:case 14:case 15:Hn(2,i,n),ot||Hn(4,i,n),vn(e,n,i);break;case 1:ot||(nn(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"&&pf(i,n,s)),vn(e,n,i);break;case 21:vn(e,n,i);break;case 22:ot=(s=ot)||i.memoizedState!==null,vn(e,n,i),ot=s;break;default:vn(e,n,i)}}function Cf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{oi(e)}catch(i){Ge(n,n.return,i)}}}function Ef(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{oi(e)}catch(i){Ge(n,n.return,i)}}function F0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new vf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new vf),n;default:throw Error(a(435,e.tag))}}function aa(e,n){var i=F0(e);n.forEach(function(s){if(!i.has(s)){i.add(s);var f=j0.bind(null,e,s);s.then(f,f)}})}function Ct(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var f=i[s],h=e,S=n,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(Yn(E.type)){$e=E.stateNode,St=!1;break e}break;case 5:$e=E.stateNode,St=!1;break e;case 3:case 4:$e=E.stateNode.containerInfo,St=!0;break e}E=E.return}if($e===null)throw Error(a(160));Sf(h,S,f),$e=null,St=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_f(n,e),n=n.sibling}var Xt=null;function _f(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(n,e),Et(e),s&4&&(Hn(3,e,e.return),Fi(3,e),Hn(5,e,e.return));break;case 1:Ct(n,e),Et(e),s&512&&(ot||i===null||nn(i,i.return)),s&64&&yn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var f=Xt;if(Ct(n,e),Et(e),s&512&&(ot||i===null||nn(i,i.return)),s&4){var h=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":h=f.getElementsByTagName("title")[0],(!h||h[vi]||h[ct]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(s),f.head.insertBefore(h,f.querySelector("head > title"))),pt(h,s,i),h[ct]=e,rt(h),s=h;break e;case"link":var S=_h("link","href",f).get(s+(i.href||""));if(S){for(var E=0;E<S.length;E++)if(h=S[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){S.splice(E,1);break t}}h=f.createElement(s),pt(h,s,i),f.head.appendChild(h);break;case"meta":if(S=_h("meta","content",f).get(s+(i.content||""))){for(E=0;E<S.length;E++)if(h=S[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){S.splice(E,1);break t}}h=f.createElement(s),pt(h,s,i),f.head.appendChild(h);break;default:throw Error(a(468,s))}h[ct]=e,rt(h),s=h}e.stateNode=s}else Ah(f,e.type,e.stateNode);else e.stateNode=Eh(f,s,e.memoizedProps);else h!==s?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,s===null?Ah(f,e.type,e.stateNode):Eh(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Er(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ct(n,e),Et(e),s&512&&(ot||i===null||nn(i,i.return)),i!==null&&s&4&&Er(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ct(n,e),Et(e),s&512&&(ot||i===null||nn(i,i.return)),e.flags&32){f=e.stateNode;try{Ml(f,"")}catch(fe){Ge(e,e.return,fe)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,Er(e,f,i!==null?i.memoizedProps:f)),s&1024&&(Nr=!0);break;case 6:if(Ct(n,e),Et(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(fe){Ge(e,e.return,fe)}}break;case 3:if(Ca=null,f=Xt,Xt=xa(n.containerInfo),Ct(n,e),Xt=f,Et(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{oi(n.containerInfo)}catch(fe){Ge(e,e.return,fe)}Nr&&(Nr=!1,Af(e));break;case 4:s=Xt,Xt=xa(e.stateNode.containerInfo),Ct(n,e),Et(e),Xt=s;break;case 12:Ct(n,e),Et(e);break;case 31:Ct(n,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 13:Ct(n,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ra=je()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 22:f=e.memoizedState!==null;var N=i!==null&&i.memoizedState!==null,P=yn,Q=ot;if(yn=P||f,ot=Q||N,Ct(n,e),ot=Q,yn=P,Et(e),s&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||N||yn||ot||Tl(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){N=i=n;try{if(h=N.stateNode,f)S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=N.stateNode;var j=N.memoizedProps.style,H=j!=null&&j.hasOwnProperty("display")?j.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){Ge(N,N.return,fe)}}}else if(n.tag===6){if(i===null){N=n;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(fe){Ge(N,N.return,fe)}}}else if(n.tag===18){if(i===null){N=n;try{var Y=N.stateNode;f?ph(Y,!0):ph(N.stateNode,!1)}catch(fe){Ge(N,N.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,aa(e,i))));break;case 19:Ct(n,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 30:break;case 21:break;default:Ct(n,e),Et(e)}}function Et(e){var n=e.flags;if(n&2){try{for(var i,s=e.return;s!==null;){if(gf(s)){i=s;break}s=s.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var f=i.stateNode,h=_r(e);oa(e,h,f);break;case 5:var S=i.stateNode;i.flags&32&&(Ml(S,""),i.flags&=-33);var E=_r(e);oa(e,E,S);break;case 3:case 4:var N=i.stateNode.containerInfo,P=_r(e);Ar(e,P,N);break;default:throw Error(a(161))}}catch(Q){Ge(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Af(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Af(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Tn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tf(e,n.alternate,n),n=n.sibling}function Tl(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Hn(4,n,n.return),Tl(n);break;case 1:nn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&pf(n,n.return,i),Tl(n);break;case 27:eo(n.stateNode);case 26:case 5:nn(n,n.return),Tl(n);break;case 22:n.memoizedState===null&&Tl(n);break;case 30:Tl(n);break;default:Tl(n)}e=e.sibling}}function xn(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=e,h=n,S=h.flags;switch(h.tag){case 0:case 11:case 15:xn(f,h,i),Fi(4,h);break;case 1:if(xn(f,h,i),s=h,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Ge(s,s.return,P)}if(s=h,f=s.updateQueue,f!==null){var E=s.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)td(N[f],E)}catch(P){Ge(s,s.return,P)}}i&&S&64&&hf(h),Ki(h,h.return);break;case 27:yf(h);case 26:case 5:xn(f,h,i),i&&s===null&&S&4&&mf(h),Ki(h,h.return);break;case 12:xn(f,h,i);break;case 31:xn(f,h,i),i&&S&4&&Cf(f,h);break;case 13:xn(f,h,i),i&&S&4&&Ef(f,h);break;case 22:h.memoizedState===null&&xn(f,h,i),Ki(h,h.return);break;case 30:break;default:xn(f,h,i)}n=n.sibling}}function br(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&wi(i))}function Mr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wi(e))}function Zt(e,n,i,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nf(e,n,i,s),n=n.sibling}function Nf(e,n,i,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Zt(e,n,i,s),f&2048&&Fi(9,n);break;case 1:Zt(e,n,i,s);break;case 3:Zt(e,n,i,s),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wi(e)));break;case 12:if(f&2048){Zt(e,n,i,s),e=n.stateNode;try{var h=n.memoizedProps,S=h.id,E=h.onPostCommit;typeof E=="function"&&E(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Ge(n,n.return,N)}}else Zt(e,n,i,s);break;case 31:Zt(e,n,i,s);break;case 13:Zt(e,n,i,s);break;case 23:break;case 22:h=n.stateNode,S=n.alternate,n.memoizedState!==null?h._visibility&2?Zt(e,n,i,s):Yi(e,n):h._visibility&2?Zt(e,n,i,s):(h._visibility|=2,$l(e,n,i,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&br(S,n);break;case 24:Zt(e,n,i,s),f&2048&&Mr(n.alternate,n);break;default:Zt(e,n,i,s)}}function $l(e,n,i,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,S=n,E=i,N=s,P=S.flags;switch(S.tag){case 0:case 11:case 15:$l(h,S,E,N,f),Fi(8,S);break;case 23:break;case 22:var Q=S.stateNode;S.memoizedState!==null?Q._visibility&2?$l(h,S,E,N,f):Yi(h,S):(Q._visibility|=2,$l(h,S,E,N,f)),f&&P&2048&&br(S.alternate,S);break;case 24:$l(h,S,E,N,f),f&&P&2048&&Mr(S.alternate,S);break;default:$l(h,S,E,N,f)}n=n.sibling}}function Yi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,s=n,f=s.flags;switch(s.tag){case 22:Yi(i,s),f&2048&&br(s.alternate,s);break;case 24:Yi(i,s),f&2048&&Mr(s.alternate,s);break;default:Yi(i,s)}n=n.sibling}}var Ji=8192;function Ql(e,n,i){if(e.subtreeFlags&Ji)for(e=e.child;e!==null;)bf(e,n,i),e=e.sibling}function bf(e,n,i){switch(e.tag){case 26:Ql(e,n,i),e.flags&Ji&&e.memoizedState!==null&&Iy(i,Xt,e.memoizedState,e.memoizedProps);break;case 5:Ql(e,n,i);break;case 3:case 4:var s=Xt;Xt=xa(e.stateNode.containerInfo),Ql(e,n,i),Xt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ji,Ji=16777216,Ql(e,n,i),Ji=s):Ql(e,n,i));break;default:Ql(e,n,i)}}function Mf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $i(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];ut=s,If(s,e)}Mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rf(e),e=e.sibling}function Rf(e){switch(e.tag){case 0:case 11:case 15:$i(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:$i(e);break;case 12:$i(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sa(e)):$i(e);break;default:$i(e)}}function sa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];ut=s,If(s,e)}Mf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Hn(8,n,n.return),sa(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,sa(n));break;default:sa(n)}e=e.sibling}}function If(e,n){for(;ut!==null;){var i=ut;switch(i.tag){case 0:case 11:case 15:Hn(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:wi(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,ut=s;else e:for(i=e;ut!==null;){s=ut;var f=s.sibling,h=s.return;if(xf(s),s===i){ut=null;break e}if(f!==null){f.return=h,ut=f;break e}ut=h}}}var K0={getCacheForType:function(e){var n=ft(nt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return ft(nt).controller.signal}},Y0=typeof WeakMap=="function"?WeakMap:Map,De=0,Oe=null,Se=null,Ae=0,Ve=0,Ut=null,Bn=!1,Xl=!1,Rr=!1,Sn=0,Ze=0,qn=0,xl=0,Ir=0,Lt=0,Zl=0,Qi=null,_t=null,wr=!1,ra=0,wf=0,ua=1/0,ca=null,On=null,st=0,zn=null,Wl=null,Cn=0,Dr=0,Ur=null,Df=null,Xi=0,Lr=null;function Pt(){return(De&2)!==0&&Ae!==0?Ae&-Ae:b.T!==null?Br():Ju()}function Uf(){if(Lt===0)if((Ae&536870912)===0||be){var e=vo;vo<<=1,(vo&3932160)===0&&(vo=262144),Lt=e}else Lt=536870912;return e=wt.current,e!==null&&(e.flags|=32),Lt}function At(e,n,i){(e===Oe&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)&&(jl(e,0),Fn(e,Ae,Lt,!1)),yi(e,i),((De&2)===0||e!==Oe)&&(e===Oe&&((De&2)===0&&(xl|=i),Ze===4&&Fn(e,Ae,Lt,!1)),ln(e))}function Lf(e,n,i){if((De&6)!==0)throw Error(a(327));var s=!i&&(n&127)===0&&(n&e.expiredLanes)===0||gi(e,n),f=s?Q0(e,n):Vr(e,n,!0),h=s;do{if(f===0){Xl&&!s&&Fn(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!J0(i)){f=Vr(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var E=e;f=Qi;var N=E.current.memoizedState.isDehydrated;if(N&&(jl(E,S).flags|=256),S=Vr(E,S,!1),S!==2){if(Rr&&!N){E.errorRecoveryDisabledLanes|=h,xl|=h,f=4;break e}h=_t,_t=f,h!==null&&(_t===null?_t=h:_t.push.apply(_t,h))}f=S}if(h=!1,f!==2)continue}}if(f===1){jl(e,0),Fn(e,n,0,!0);break}e:{switch(s=e,h=f,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Fn(s,n,Lt,!Bn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=ra+300-je(),10<f)){if(Fn(s,n,Lt,!Bn),xo(s,0,!0)!==0)break e;Cn=n,s.timeoutHandle=dh(Pf.bind(null,s,i,_t,ca,wr,n,Lt,xl,Zl,Bn,h,"Throttled",-0,0),f);break e}Pf(s,i,_t,ca,wr,n,Lt,xl,Zl,Bn,h,null,-0,0)}}break}while(!0);ln(e)}function Pf(e,n,i,s,f,h,S,E,N,P,Q,j,H,Y){if(e.timeoutHandle=-1,j=n.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},bf(n,h,j);var fe=(h&62914560)===h?ra-je():(h&4194048)===h?wf-je():0;if(fe=wy(j,fe),fe!==null){Cn=h,e.cancelPendingCommit=fe(zf.bind(null,e,n,h,i,s,f,S,E,N,Q,j,null,H,Y)),Fn(e,h,S,!P);return}}zf(e,n,h,i,s,f,S,E,N)}function J0(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var f=i[s],h=f.getSnapshot;f=f.value;try{if(!Rt(h(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fn(e,n,i,s){n&=~Ir,n&=~xl,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var f=n;0<f;){var h=31-Mt(f),S=1<<h;s[h]=-1,f&=~S}i!==0&&Fu(e,i,n)}function da(){return(De&6)===0?(Zi(0),!1):!0}function Pr(){if(Se!==null){if(Ve===0)var e=Se.return;else e=Se,dn=dl=null,Zs(e),zl=null,Ui=0,e=Se;for(;e!==null;)ff(e.alternate,e),e=e.return;Se=null}}function jl(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,hy(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Cn=0,Pr(),Oe=e,Se=i=un(e.current,null),Ae=n,Ve=0,Ut=null,Bn=!1,Xl=gi(e,n),Rr=!1,Zl=Lt=Ir=xl=qn=Ze=0,_t=Qi=null,wr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var f=31-Mt(s),h=1<<f;n|=e[f],s&=~h}return Sn=n,Do(),i}function Vf(e,n){Te=null,b.H=qi,n===Ol||n===Bo?(n=Zc(),Ve=3):n===Hs?(n=Zc(),Ve=4):Ve=n===hr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ut=n,Se===null&&(Ze=1,ea(e,qt(n,e.current)))}function Gf(){var e=wt.current;return e===null?!0:(Ae&4194048)===Ae?Kt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===Kt:!1}function kf(){var e=b.H;return b.H=qi,e===null?qi:e}function Hf(){var e=b.A;return b.A=K0,e}function fa(){Ze=4,Bn||(Ae&4194048)!==Ae&&wt.current!==null||(Xl=!0),(qn&134217727)===0&&(xl&134217727)===0||Oe===null||Fn(Oe,Ae,Lt,!1)}function Vr(e,n,i){var s=De;De|=2;var f=kf(),h=Hf();(Oe!==e||Ae!==n)&&(ca=null,jl(e,n)),n=!1;var S=Ze;e:do try{if(Ve!==0&&Se!==null){var E=Se,N=Ut;switch(Ve){case 8:Pr(),S=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(n=!0);var P=Ve;if(Ve=0,Ut=null,ei(e,E,N,P),i&&Xl){S=0;break e}break;default:P=Ve,Ve=0,Ut=null,ei(e,E,N,P)}}$0(),S=Ze;break}catch(Q){Vf(e,Q)}while(!0);return n&&e.shellSuspendCounter++,dn=dl=null,De=s,b.H=f,b.A=h,Se===null&&(Oe=null,Ae=0,Do()),S}function $0(){for(;Se!==null;)Bf(Se)}function Q0(e,n){var i=De;De|=2;var s=kf(),f=Hf();Oe!==e||Ae!==n?(ca=null,ua=je()+500,jl(e,n)):Xl=gi(e,n);e:do try{if(Ve!==0&&Se!==null){n=Se;var h=Ut;t:switch(Ve){case 1:Ve=0,Ut=null,ei(e,n,h,1);break;case 2:case 9:if(Qc(h)){Ve=0,Ut=null,qf(n);break}n=function(){Ve!==2&&Ve!==9||Oe!==e||(Ve=7),ln(e)},h.then(n,n);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:Qc(h)?(Ve=0,Ut=null,qf(n)):(Ve=0,Ut=null,ei(e,n,h,7));break;case 5:var S=null;switch(Se.tag){case 26:S=Se.memoizedState;case 5:case 27:var E=Se;if(S?Nh(S):E.stateNode.complete){Ve=0,Ut=null;var N=E.sibling;if(N!==null)Se=N;else{var P=E.return;P!==null?(Se=P,ha(P)):Se=null}break t}}Ve=0,Ut=null,ei(e,n,h,5);break;case 6:Ve=0,Ut=null,ei(e,n,h,6);break;case 8:Pr(),Ze=6;break e;default:throw Error(a(462))}}X0();break}catch(Q){Vf(e,Q)}while(!0);return dn=dl=null,b.H=s,b.A=f,De=i,Se!==null?0:(Oe=null,Ae=0,Do(),Ze)}function X0(){for(;Se!==null&&!on();)Bf(Se)}function Bf(e){var n=cf(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,n===null?ha(e):Se=n}function qf(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=lf(i,n,n.pendingProps,n.type,void 0,Ae);break;case 11:n=lf(i,n,n.pendingProps,n.type.render,n.ref,Ae);break;case 5:Zs(n);default:ff(i,n),n=Se=kc(n,Sn),n=cf(i,n,Sn)}e.memoizedProps=e.pendingProps,n===null?ha(e):Se=n}function ei(e,n,i,s){dn=dl=null,Zs(n),zl=null,Ui=0;var f=n.return;try{if(k0(e,f,n,i,Ae)){Ze=1,ea(e,qt(i,e.current)),Se=null;return}}catch(h){if(f!==null)throw Se=f,h;Ze=1,ea(e,qt(i,e.current)),Se=null;return}n.flags&32768?(be||s===1?e=!0:Xl||(Ae&536870912)!==0?e=!1:(Bn=e=!0,(s===2||s===9||s===3||s===6)&&(s=wt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Of(n,e)):ha(n)}function ha(e){var n=e;do{if((n.flags&32768)!==0){Of(n,Bn);return}e=n.return;var i=q0(n.alternate,n,Sn);if(i!==null){Se=i;return}if(n=n.sibling,n!==null){Se=n;return}Se=n=e}while(n!==null);Ze===0&&(Ze=5)}function Of(e,n){do{var i=O0(e.alternate,e);if(i!==null){i.flags&=32767,Se=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Se=e;return}Se=e=i}while(e!==null);Ze=6,Se=null}function zf(e,n,i,s,f,h,S,E,N){e.cancelPendingCommit=null;do pa();while(st!==0);if((De&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=_s,Rg(e,i,h,S,E,N),e===Oe&&(Se=Oe=null,Ae=0),Wl=n,zn=e,Cn=i,Dr=h,Ur=f,Df=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ey(go,function(){return $f(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=b.T,b.T=null,f=B.p,B.p=2,S=De,De|=4;try{z0(e,n,i)}finally{De=S,B.p=f,b.T=s}}st=1,Ff(),Kf(),Yf()}}function Ff(){if(st===1){st=0;var e=zn,n=Wl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=b.T,b.T=null;var s=B.p;B.p=2;var f=De;De|=4;try{_f(n,e);var h=$r,S=Rc(e.containerInfo),E=h.focusedElem,N=h.selectionRange;if(S!==E&&E&&E.ownerDocument&&Mc(E.ownerDocument.documentElement,E)){if(N!==null&&Ts(E)){var P=N.start,Q=N.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var j=E.ownerDocument||document,H=j&&j.defaultView||window;if(H.getSelection){var Y=H.getSelection(),fe=E.textContent.length,ye=Math.min(N.start,fe),Be=N.end===void 0?ye:Math.min(N.end,fe);!Y.extend&&ye>Be&&(S=Be,Be=ye,ye=S);var D=bc(E,ye),R=bc(E,Be);if(D&&R&&(Y.rangeCount!==1||Y.anchorNode!==D.node||Y.anchorOffset!==D.offset||Y.focusNode!==R.node||Y.focusOffset!==R.offset)){var L=j.createRange();L.setStart(D.node,D.offset),Y.removeAllRanges(),ye>Be?(Y.addRange(L),Y.extend(R.node,R.offset)):(L.setEnd(R.node,R.offset),Y.addRange(L))}}}}for(j=[],Y=E;Y=Y.parentNode;)Y.nodeType===1&&j.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<j.length;E++){var W=j[E];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Na=!!Jr,$r=Jr=null}finally{De=f,B.p=s,b.T=i}}e.current=n,st=2}}function Kf(){if(st===2){st=0;var e=zn,n=Wl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=b.T,b.T=null;var s=B.p;B.p=2;var f=De;De|=4;try{Tf(e,n.alternate,n)}finally{De=f,B.p=s,b.T=i}}st=3}}function Yf(){if(st===4||st===3){st=0,pi();var e=zn,n=Wl,i=Cn,s=Df;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?st=5:(st=0,Wl=zn=null,Jf(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(On=null),es(i),n=n.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(mi,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=b.T,f=B.p,B.p=2,b.T=null;try{for(var h=e.onRecoverableError,S=0;S<s.length;S++){var E=s[S];h(E.value,{componentStack:E.stack})}}finally{b.T=n,B.p=f}}(Cn&3)!==0&&pa(),ln(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===Lr?Xi++:(Xi=0,Lr=e):Xi=0,Zi(0)}}function Jf(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,wi(n)))}function pa(){return Ff(),Kf(),Yf(),$f()}function $f(){if(st!==5)return!1;var e=zn,n=Dr;Dr=0;var i=es(Cn),s=b.T,f=B.p;try{B.p=32>i?32:i,b.T=null,i=Ur,Ur=null;var h=zn,S=Cn;if(st=0,Wl=zn=null,Cn=0,(De&6)!==0)throw Error(a(331));var E=De;if(De|=4,Rf(h.current),Nf(h,h.current,S,i),De=E,Zi(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(mi,h)}catch{}return!0}finally{B.p=f,b.T=s,Jf(e,n)}}function Qf(e,n,i){n=qt(i,n),n=fr(e.stateNode,n,2),e=Vn(e,n,2),e!==null&&(yi(e,2),ln(e))}function Ge(e,n,i){if(e.tag===3)Qf(e,e,i);else for(;n!==null;){if(n.tag===3){Qf(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(On===null||!On.has(s))){e=qt(i,e),i=Qd(2),s=Vn(n,i,2),s!==null&&(Xd(i,s,n,e),yi(s,2),ln(s));break}}n=n.return}}function Gr(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new Y0;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(i)||(Rr=!0,f.add(i),e=Z0.bind(null,e,n,i),n.then(e,e))}function Z0(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Oe===e&&(Ae&i)===i&&(Ze===4||Ze===3&&(Ae&62914560)===Ae&&300>je()-ra?(De&2)===0&&jl(e,0):Ir|=i,Zl===Ae&&(Zl=0)),ln(e)}function Xf(e,n){n===0&&(n=zu()),e=rl(e,n),e!==null&&(yi(e,n),ln(e))}function W0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Xf(e,i)}function j0(e,n){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Xf(e,i)}function ey(e,n){return nl(e,n)}var ma=null,ti=null,kr=!1,ga=!1,Hr=!1,Kn=0;function ln(e){e!==ti&&e.next===null&&(ti===null?ma=ti=e:ti=ti.next=e),ga=!0,kr||(kr=!0,ny())}function Zi(e,n){if(!Hr&&ga){Hr=!0;do for(var i=!1,s=ma;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var h=0;else{var S=s.suspendedLanes,E=s.pingedLanes;h=(1<<31-Mt(42|e)+1)-1,h&=f&~(S&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,eh(s,h))}else h=Ae,h=xo(s,s===Oe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||gi(s,h)||(i=!0,eh(s,h));s=s.next}while(i);Hr=!1}}function ty(){Zf()}function Zf(){ga=kr=!1;var e=0;Kn!==0&&fy()&&(e=Kn);for(var n=je(),i=null,s=ma;s!==null;){var f=s.next,h=Wf(s,n);h===0?(s.next=null,i===null?ma=f:i.next=f,f===null&&(ti=i)):(i=s,(e!==0||(h&3)!==0)&&(ga=!0)),s=f}st!==0&&st!==5||Zi(e),Kn!==0&&(Kn=0)}function Wf(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var S=31-Mt(h),E=1<<S,N=f[S];N===-1?((E&i)===0||(E&s)!==0)&&(f[S]=Mg(E,n)):N<=n&&(e.expiredLanes|=E),h&=~E}if(n=Oe,i=Ae,i=xo(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===n&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Nt(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||gi(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(s!==null&&Nt(s),es(i)){case 2:case 8:i=qu;break;case 32:i=go;break;case 268435456:i=Ou;break;default:i=go}return s=jf.bind(null,e),i=nl(i,s),e.callbackPriority=n,e.callbackNode=i,n}return s!==null&&s!==null&&Nt(s),e.callbackPriority=2,e.callbackNode=null,2}function jf(e,n){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(pa()&&e.callbackNode!==i)return null;var s=Ae;return s=xo(e,e===Oe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Lf(e,s,n),Wf(e,je()),e.callbackNode!=null&&e.callbackNode===i?jf.bind(null,e):null)}function eh(e,n){if(pa())return null;Lf(e,n,!0)}function ny(){py(function(){(De&6)!==0?nl(Bu,ty):Zf()})}function Br(){if(Kn===0){var e=Bl;e===0&&(e=yo,yo<<=1,(yo&261888)===0&&(yo=256)),Kn=e}return Kn}function th(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_o(""+e)}function nh(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function ly(e,n,i,s,f){if(n==="submit"&&i&&i.stateNode===f){var h=th((f[Tt]||null).action),S=s.submitter;S&&(n=(n=S[Tt]||null)?th(n.formAction):S.getAttribute("formAction"),n!==null&&(h=n,S=null));var E=new Mo("action","action",null,s,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Kn!==0){var N=S?nh(f,S):new FormData(f);ar(i,{pending:!0,data:N,method:f.method,action:h},null,N)}}else typeof h=="function"&&(E.preventDefault(),N=S?nh(f,S):new FormData(f),ar(i,{pending:!0,data:N,method:f.method,action:h},h,N))},currentTarget:f}]})}}for(var qr=0;qr<Es.length;qr++){var Or=Es[qr],iy=Or.toLowerCase(),oy=Or[0].toUpperCase()+Or.slice(1);Qt(iy,"on"+oy)}Qt(Dc,"onAnimationEnd"),Qt(Uc,"onAnimationIteration"),Qt(Lc,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(S0,"onTransitionRun"),Qt(C0,"onTransitionStart"),Qt(E0,"onTransitionCancel"),Qt(Pc,"onTransitionEnd"),Nl("onMouseEnter",["mouseout","mouseover"]),Nl("onMouseLeave",["mouseout","mouseover"]),Nl("onPointerEnter",["pointerout","pointerover"]),Nl("onPointerLeave",["pointerout","pointerover"]),il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),il("onBeforeInput",["compositionend","keypress","textInput","paste"]),il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ay=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wi));function lh(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],f=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var S=s.length-1;0<=S;S--){var E=s[S],N=E.instance,P=E.currentTarget;if(E=E.listener,N!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=P;try{h(f)}catch(Q){wo(Q)}f.currentTarget=null,h=N}else for(S=0;S<s.length;S++){if(E=s[S],N=E.instance,P=E.currentTarget,E=E.listener,N!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=P;try{h(f)}catch(Q){wo(Q)}f.currentTarget=null,h=N}}}}function Ce(e,n){var i=n[ts];i===void 0&&(i=n[ts]=new Set);var s=e+"__bubble";i.has(s)||(ih(n,e,2,!1),i.add(s))}function zr(e,n,i){var s=0;n&&(s|=4),ih(i,e,s,n)}var ya="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[ya]){e[ya]=!0,Xu.forEach(function(i){i!=="selectionchange"&&(ay.has(i)||zr(i,!1,e),zr(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ya]||(n[ya]=!0,zr("selectionchange",!1,n))}}function ih(e,n,i,s){switch(Uh(n)){case 2:var f=Ly;break;case 8:f=Py;break;default:f=ou}i=f.bind(null,n,i,e),f=void 0,!cs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function Kr(e,n,i,s,f){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var E=s.stateNode.containerInfo;if(E===f)break;if(S===4)for(S=s.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;E!==null;){if(S=El(E),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){s=h=S;continue e}E=E.parentNode}}s=s.return}rc(function(){var P=h,Q=rs(i),j=[];e:{var H=Vc.get(e);if(H!==void 0){var Y=Mo,fe=e;switch(e){case"keypress":if(No(i)===0)break e;case"keydown":case"keyup":Y=jg;break;case"focusin":fe="focus",Y=ps;break;case"focusout":fe="blur",Y=ps;break;case"beforeblur":case"afterblur":Y=ps;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=n0;break;case Dc:case Uc:case Lc:Y=Fg;break;case Pc:Y=i0;break;case"scroll":case"scrollend":Y=Hg;break;case"wheel":Y=a0;break;case"copy":case"cut":case"paste":Y=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=hc;break;case"toggle":case"beforetoggle":Y=r0}var ye=(n&4)!==0,Be=!ye&&(e==="scroll"||e==="scrollend"),D=ye?H!==null?H+"Capture":null:H;ye=[];for(var R=P,L;R!==null;){var W=R;if(L=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||L===null||D===null||(W=xi(R,D),W!=null&&ye.push(ji(R,W,L))),Be)break;R=R.return}0<ye.length&&(H=new Y(H,fe,null,i,Q),j.push({event:H,listeners:ye}))}}if((n&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",H&&i!==ss&&(fe=i.relatedTarget||i.fromElement)&&(El(fe)||fe[Cl]))break e;if((Y||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(fe=i.relatedTarget||i.toElement,Y=P,fe=fe?El(fe):null,fe!==null&&(Be=d(fe),ye=fe.tag,fe!==Be||ye!==5&&ye!==27&&ye!==6)&&(fe=null)):(Y=null,fe=P),Y!==fe)){if(ye=dc,W="onMouseLeave",D="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ye=hc,W="onPointerLeave",D="onPointerEnter",R="pointer"),Be=Y==null?H:Ti(Y),L=fe==null?H:Ti(fe),H=new ye(W,R+"leave",Y,i,Q),H.target=Be,H.relatedTarget=L,W=null,El(Q)===P&&(ye=new ye(D,R+"enter",fe,i,Q),ye.target=L,ye.relatedTarget=Be,W=ye),Be=W,Y&&fe)t:{for(ye=sy,D=Y,R=fe,L=0,W=D;W;W=ye(W))L++;W=0;for(var ge=R;ge;ge=ye(ge))W++;for(;0<L-W;)D=ye(D),L--;for(;0<W-L;)R=ye(R),W--;for(;L--;){if(D===R||R!==null&&D===R.alternate){ye=D;break t}D=ye(D),R=ye(R)}ye=null}else ye=null;Y!==null&&oh(j,H,Y,ye,!1),fe!==null&&Be!==null&&oh(j,Be,fe,ye,!0)}}e:{if(H=P?Ti(P):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Re=Sc;else if(Tc(H))if(Cc)Re=v0;else{Re=g0;var pe=m0}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?P&&as(P.elementType)&&(Re=Sc):Re=y0;if(Re&&(Re=Re(e,P))){xc(j,Re,i,Q);break e}pe&&pe(e,H,P),e==="focusout"&&P&&H.type==="number"&&P.memoizedProps.value!=null&&os(H,"number",H.value)}switch(pe=P?Ti(P):window,e){case"focusin":(Tc(pe)||pe.contentEditable==="true")&&(Dl=pe,xs=P,Mi=null);break;case"focusout":Mi=xs=Dl=null;break;case"mousedown":Ss=!0;break;case"contextmenu":case"mouseup":case"dragend":Ss=!1,Ic(j,i,Q);break;case"selectionchange":if(x0)break;case"keydown":case"keyup":Ic(j,i,Q)}var xe;if(gs)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else wl?yc(e,i)&&(Ne="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ne="onCompositionStart");Ne&&(pc&&i.locale!=="ko"&&(wl||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&wl&&(xe=uc()):(Rn=Q,ds="value"in Rn?Rn.value:Rn.textContent,wl=!0)),pe=va(P,Ne),0<pe.length&&(Ne=new fc(Ne,e,null,i,Q),j.push({event:Ne,listeners:pe}),xe?Ne.data=xe:(xe=vc(i),xe!==null&&(Ne.data=xe)))),(xe=c0?d0(e,i):f0(e,i))&&(Ne=va(P,"onBeforeInput"),0<Ne.length&&(pe=new fc("onBeforeInput","beforeinput",null,i,Q),j.push({event:pe,listeners:Ne}),pe.data=xe)),ly(j,e,P,i,Q)}lh(j,n)})}function ji(e,n,i){return{instance:e,listener:n,currentTarget:i}}function va(e,n){for(var i=n+"Capture",s=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=xi(e,i),f!=null&&s.unshift(ji(e,f,h)),f=xi(e,n),f!=null&&s.push(ji(e,f,h))),e.tag===3)return s;e=e.return}return[]}function sy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function oh(e,n,i,s,f){for(var h=n._reactName,S=[];i!==null&&i!==s;){var E=i,N=E.alternate,P=E.stateNode;if(E=E.tag,N!==null&&N===s)break;E!==5&&E!==26&&E!==27||P===null||(N=P,f?(P=xi(i,h),P!=null&&S.unshift(ji(i,P,N))):f||(P=xi(i,h),P!=null&&S.push(ji(i,P,N)))),i=i.return}S.length!==0&&e.push({event:n,listeners:S})}var ry=/\r\n?/g,uy=/\u0000|\uFFFD/g;function ah(e){return(typeof e=="string"?e:""+e).replace(ry,`
`).replace(uy,"")}function sh(e,n){return n=ah(n),ah(e)===n}function He(e,n,i,s,f,h){switch(i){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ml(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ml(e,""+s);break;case"className":Co(e,"class",s);break;case"tabIndex":Co(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Co(e,i,s);break;case"style":ac(e,s,h);break;case"data":if(n!=="object"){Co(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=_o(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&He(e,n,"name",f.name,f,null),He(e,n,"formEncType",f.formEncType,f,null),He(e,n,"formMethod",f.formMethod,f,null),He(e,n,"formTarget",f.formTarget,f,null)):(He(e,n,"encType",f.encType,f,null),He(e,n,"method",f.method,f,null),He(e,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=_o(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=sn);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=_o(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),So(e,"popover",s);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":So(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Gg.get(i)||i,So(e,i,s))}}function Yr(e,n,i,s,f,h){switch(i){case"style":ac(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Ml(e,s):(typeof s=="number"||typeof s=="bigint")&&Ml(e,""+s);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"onClick":s!=null&&(e.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zu.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),h=e[Tt]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof s=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,s,f);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):So(e,i,s)}}}function pt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var s=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var S=i[h];if(S!=null)switch(h){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:He(e,n,h,S,i,null)}}f&&He(e,n,"srcSet",i.srcSet,i,null),s&&He(e,n,"src",i.src,i,null);return;case"input":Ce("invalid",e);var E=h=S=f=null,N=null,P=null;for(s in i)if(i.hasOwnProperty(s)){var Q=i[s];if(Q!=null)switch(s){case"name":f=Q;break;case"type":S=Q;break;case"checked":N=Q;break;case"defaultChecked":P=Q;break;case"value":h=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:He(e,n,s,Q,i,null)}}nc(e,h,E,N,P,S,f,!1);return;case"select":Ce("invalid",e),s=S=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":S=E;break;case"multiple":s=E;default:He(e,n,f,E,i,null)}n=h,i=S,e.multiple=!!s,n!=null?bl(e,!!s,n,!1):i!=null&&bl(e,!!s,i,!0);return;case"textarea":Ce("invalid",e),h=f=s=null;for(S in i)if(i.hasOwnProperty(S)&&(E=i[S],E!=null))switch(S){case"value":s=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:He(e,n,S,E,i,null)}ic(e,s,f,h);return;case"option":for(N in i)if(i.hasOwnProperty(N)&&(s=i[N],s!=null))switch(N){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:He(e,n,N,s,i,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(s=0;s<Wi.length;s++)Ce(Wi[s],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(s=i[P],s!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:He(e,n,P,s,i,null)}return;default:if(as(n)){for(Q in i)i.hasOwnProperty(Q)&&(s=i[Q],s!==void 0&&Yr(e,n,Q,s,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(s=i[E],s!=null&&He(e,n,E,s,i,null))}function cy(e,n,i,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,S=null,E=null,N=null,P=null,Q=null;for(Y in i){var j=i[Y];if(i.hasOwnProperty(Y)&&j!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=j;default:s.hasOwnProperty(Y)||He(e,n,Y,null,s,j)}}for(var H in s){var Y=s[H];if(j=i[H],s.hasOwnProperty(H)&&(Y!=null||j!=null))switch(H){case"type":h=Y;break;case"name":f=Y;break;case"checked":P=Y;break;case"defaultChecked":Q=Y;break;case"value":S=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:Y!==j&&He(e,n,H,Y,s,j)}}is(e,S,E,N,P,Q,h,f);return;case"select":Y=S=E=H=null;for(h in i)if(N=i[h],i.hasOwnProperty(h)&&N!=null)switch(h){case"value":break;case"multiple":Y=N;default:s.hasOwnProperty(h)||He(e,n,h,null,s,N)}for(f in s)if(h=s[f],N=i[f],s.hasOwnProperty(f)&&(h!=null||N!=null))switch(f){case"value":H=h;break;case"defaultValue":E=h;break;case"multiple":S=h;default:h!==N&&He(e,n,f,h,s,N)}n=E,i=S,s=Y,H!=null?bl(e,!!i,H,!1):!!s!=!!i&&(n!=null?bl(e,!!i,n,!0):bl(e,!!i,i?[]:"",!1));return;case"textarea":Y=H=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:He(e,n,E,null,s,f)}for(S in s)if(f=s[S],h=i[S],s.hasOwnProperty(S)&&(f!=null||h!=null))switch(S){case"value":H=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&He(e,n,S,f,s,h)}lc(e,H,Y);return;case"option":for(var fe in i)if(H=i[fe],i.hasOwnProperty(fe)&&H!=null&&!s.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:He(e,n,fe,null,s,H)}for(N in s)if(H=s[N],Y=i[N],s.hasOwnProperty(N)&&H!==Y&&(H!=null||Y!=null))switch(N){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:He(e,n,N,H,s,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in i)H=i[ye],i.hasOwnProperty(ye)&&H!=null&&!s.hasOwnProperty(ye)&&He(e,n,ye,null,s,H);for(P in s)if(H=s[P],Y=i[P],s.hasOwnProperty(P)&&H!==Y&&(H!=null||Y!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:He(e,n,P,H,s,Y)}return;default:if(as(n)){for(var Be in i)H=i[Be],i.hasOwnProperty(Be)&&H!==void 0&&!s.hasOwnProperty(Be)&&Yr(e,n,Be,void 0,s,H);for(Q in s)H=s[Q],Y=i[Q],!s.hasOwnProperty(Q)||H===Y||H===void 0&&Y===void 0||Yr(e,n,Q,H,s,Y);return}}for(var D in i)H=i[D],i.hasOwnProperty(D)&&H!=null&&!s.hasOwnProperty(D)&&He(e,n,D,null,s,H);for(j in s)H=s[j],Y=i[j],!s.hasOwnProperty(j)||H===Y||H==null&&Y==null||He(e,n,j,H,s,Y)}function rh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var f=i[s],h=f.transferSize,S=f.initiatorType,E=f.duration;if(h&&E&&rh(S)){for(S=0,E=f.responseEnd,s+=1;s<i.length;s++){var N=i[s],P=N.startTime;if(P>E)break;var Q=N.transferSize,j=N.initiatorType;Q&&rh(j)&&(N=N.responseEnd,S+=Q*(N<E?1:(E-P)/(N-P)))}if(--s,n+=8*(h+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jr=null,$r=null;function Ta(e){return e.nodeType===9?e:e.ownerDocument}function uh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ch(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xr=null;function fy(){var e=window.event;return e&&e.type==="popstate"?e===Xr?!1:(Xr=e,!0):(Xr=null,!1)}var dh=typeof setTimeout=="function"?setTimeout:void 0,hy=typeof clearTimeout=="function"?clearTimeout:void 0,fh=typeof Promise=="function"?Promise:void 0,py=typeof queueMicrotask=="function"?queueMicrotask:typeof fh<"u"?function(e){return fh.resolve(null).then(e).catch(my)}:dh;function my(e){setTimeout(function(){throw e})}function Yn(e){return e==="head"}function hh(e,n){var i=n,s=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(f),oi(n);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")eo(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,eo(i);for(var h=i.firstChild;h;){var S=h.nextSibling,E=h.nodeName;h[vi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=S}}else i==="body"&&eo(e.ownerDocument.body);i=f}while(i);oi(n)}function ph(e,n){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Zr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Zr(i),ns(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function gy(e,n,i,s){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[vi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function yy(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Yt(e.nextSibling),e===null))return null;return e}function mh(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yt(e.nextSibling),e===null))return null;return e}function Wr(e){return e.data==="$?"||e.data==="$~"}function jr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vy(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var s=function(){n(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Yt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var eu=null;function gh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Yt(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function yh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function vh(e,n,i){switch(n=Ta(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function eo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ns(e)}var Jt=new Map,Th=new Set;function xa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=B.d;B.d={f:Ty,r:xy,D:Sy,C:Cy,L:Ey,m:_y,X:Ny,S:Ay,M:by};function Ty(){var e=En.f(),n=da();return e||n}function xy(e){var n=_l(e);n!==null&&n.tag===5&&n.type==="form"?Pd(n):En.r(e)}var ni=typeof document>"u"?null:document;function xh(e,n,i){var s=ni;if(s&&typeof n=="string"&&n){var f=Ht(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Th.has(f)||(Th.add(f),e={rel:e,crossOrigin:i,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),pt(n,"link",e),rt(n),s.head.appendChild(n)))}}function Sy(e){En.D(e),xh("dns-prefetch",e,null)}function Cy(e,n){En.C(e,n),xh("preconnect",e,n)}function Ey(e,n,i){En.L(e,n,i);var s=ni;if(s&&e&&n){var f='link[rel="preload"][as="'+Ht(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Ht(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Ht(i.imageSizes)+'"]')):f+='[href="'+Ht(e)+'"]';var h=f;switch(n){case"style":h=li(e);break;case"script":h=ii(e)}Jt.has(h)||(e=x({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Jt.set(h,e),s.querySelector(f)!==null||n==="style"&&s.querySelector(to(h))||n==="script"&&s.querySelector(no(h))||(n=s.createElement("link"),pt(n,"link",e),rt(n),s.head.appendChild(n)))}}function _y(e,n){En.m(e,n);var i=ni;if(i&&e){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ht(s)+'"][href="'+Ht(e)+'"]',h=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ii(e)}if(!Jt.has(h)&&(e=x({rel:"modulepreload",href:e},n),Jt.set(h,e),i.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(no(h)))return}s=i.createElement("link"),pt(s,"link",e),rt(s),i.head.appendChild(s)}}}function Ay(e,n,i){En.S(e,n,i);var s=ni;if(s&&e){var f=Al(s).hoistableStyles,h=li(e);n=n||"default";var S=f.get(h);if(!S){var E={loading:0,preload:null};if(S=s.querySelector(to(h)))E.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Jt.get(h))&&tu(e,i);var N=S=s.createElement("link");rt(N),pt(N,"link",e),N._p=new Promise(function(P,Q){N.onload=P,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sa(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:E},f.set(h,S)}}}function Ny(e,n){En.X(e,n);var i=ni;if(i&&e){var s=Al(i).hoistableScripts,f=ii(e),h=s.get(f);h||(h=i.querySelector(no(f)),h||(e=x({src:e,async:!0},n),(n=Jt.get(f))&&nu(e,n),h=i.createElement("script"),rt(h),pt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(f,h))}}function by(e,n){En.M(e,n);var i=ni;if(i&&e){var s=Al(i).hoistableScripts,f=ii(e),h=s.get(f);h||(h=i.querySelector(no(f)),h||(e=x({src:e,async:!0,type:"module"},n),(n=Jt.get(f))&&nu(e,n),h=i.createElement("script"),rt(h),pt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(f,h))}}function Sh(e,n,i,s){var f=(f=ae.current)?xa(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=li(i.href),i=Al(f).hoistableStyles,s=i.get(n),s||(s={type:"style",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=li(i.href);var h=Al(f).hoistableStyles,S=h.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,S),(h=f.querySelector(to(e)))&&!h._p&&(S.instance=h,S.state.loading=5),Jt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Jt.set(e,i),h||My(f,e,i,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ii(i),i=Al(f).hoistableScripts,s=i.get(n),s||(s={type:"script",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function li(e){return'href="'+Ht(e)+'"'}function to(e){return'link[rel="stylesheet"]['+e+"]"}function Ch(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function My(e,n,i,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),pt(n,"link",i),rt(n),e.head.appendChild(n))}function ii(e){return'[src="'+Ht(e)+'"]'}function no(e){return"script[async]"+e}function Eh(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Ht(i.href)+'"]');if(s)return n.instance=s,rt(s),s;var f=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),rt(s),pt(s,"style",f),Sa(s,i.precedence,e),n.instance=s;case"stylesheet":f=li(i.href);var h=e.querySelector(to(f));if(h)return n.state.loading|=4,n.instance=h,rt(h),h;s=Ch(i),(f=Jt.get(f))&&tu(s,f),h=(e.ownerDocument||e).createElement("link"),rt(h);var S=h;return S._p=new Promise(function(E,N){S.onload=E,S.onerror=N}),pt(h,"link",s),n.state.loading|=4,Sa(h,i.precedence,e),n.instance=h;case"script":return h=ii(i.src),(f=e.querySelector(no(h)))?(n.instance=f,rt(f),f):(s=i,(f=Jt.get(h))&&(s=x({},i),nu(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),rt(f),pt(f,"link",s),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Sa(s,i.precedence,e));return n.instance}function Sa(e,n,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,h=f,S=0;S<s.length;S++){var E=s[S];if(E.dataset.precedence===n)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function tu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function nu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ca=null;function _h(e,n,i){if(Ca===null){var s=new Map,f=Ca=new Map;f.set(i,s)}else f=Ca,s=f.get(i),s||(s=new Map,f.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[vi]||h[ct]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var S=h.getAttribute(n)||"";S=e+S;var E=s.get(S);E?E.push(h):s.set(S,[h])}}return s}function Ah(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Ry(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Nh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Iy(e,n,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=li(s.href),h=n.querySelector(to(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ea.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=h,rt(h);return}h=n.ownerDocument||n,s=Ch(s),(f=Jt.get(f))&&tu(s,f),h=h.createElement("link"),rt(h);var S=h;S._p=new Promise(function(E,N){S.onload=E,S.onerror=N}),pt(h,"link",s),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Ea.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var lu=0;function wy(e,n){return e.stylesheets&&e.count===0&&Aa(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&lu===0&&(lu=62500*dy());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>lu?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function Ea(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Aa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _a=null;function Aa(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_a=new Map,n.forEach(Dy,e),_a=null,Ea.call(e))}function Dy(e,n){if(!(n.state.loading&4)){var i=_a.get(e);if(i)var s=i.get(null);else{i=new Map,_a.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var S=f[h];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(i.set(S.dataset.precedence,S),s=S)}s&&i.set(null,s)}f=n.instance,S=f.getAttribute("data-precedence"),h=i.get(S)||s,h===s&&i.set(null,f),i.set(S,f),this.count++,s=Ea.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var lo={$$typeof:O,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Uy(e,n,i,s,f,h,S,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.hiddenUpdates=Wa(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function bh(e,n,i,s,f,h,S,E,N,P,Q,j){return e=new Uy(e,n,i,S,N,P,Q,j,E),n=1,h===!0&&(n|=24),h=It(3,null,null,n),e.current=h,h.stateNode=e,n=Vs(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:i,cache:n},Bs(h),e}function Mh(e){return e?(e=Pl,e):Pl}function Rh(e,n,i,s,f,h){f=Mh(f),s.context===null?s.context=f:s.pendingContext=f,s=Pn(n),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=Vn(e,s,n),i!==null&&(At(i,e,n),Pi(i,e,n))}function Ih(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function iu(e,n){Ih(e,n),(e=e.alternate)&&Ih(e,n)}function wh(e){if(e.tag===13||e.tag===31){var n=rl(e,67108864);n!==null&&At(n,e,67108864),iu(e,67108864)}}function Dh(e){if(e.tag===13||e.tag===31){var n=Pt();n=ja(n);var i=rl(e,n);i!==null&&At(i,e,n),iu(e,n)}}var Na=!0;function Ly(e,n,i,s){var f=b.T;b.T=null;var h=B.p;try{B.p=2,ou(e,n,i,s)}finally{B.p=h,b.T=f}}function Py(e,n,i,s){var f=b.T;b.T=null;var h=B.p;try{B.p=8,ou(e,n,i,s)}finally{B.p=h,b.T=f}}function ou(e,n,i,s){if(Na){var f=au(s);if(f===null)Kr(e,n,s,ba,i),Lh(e,s);else if(Gy(f,e,n,i,s))s.stopPropagation();else if(Lh(e,s),n&4&&-1<Vy.indexOf(e)){for(;f!==null;){var h=_l(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var S=ll(h.pendingLanes);if(S!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var N=1<<31-Mt(S);E.entanglements[1]|=N,S&=~N}ln(h),(De&6)===0&&(ua=je()+500,Zi(0))}}break;case 31:case 13:E=rl(h,2),E!==null&&At(E,h,2),da(),iu(h,2)}if(h=au(s),h===null&&Kr(e,n,s,ba,i),h===f)break;f=h}f!==null&&s.stopPropagation()}else Kr(e,n,s,null,i)}}function au(e){return e=rs(e),su(e)}var ba=null;function su(e){if(ba=null,e=El(e),e!==null){var n=d(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=p(n),e!==null)return e;e=null}else if(i===31){if(e=g(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ba=e,null}function Uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Za()){case Bu:return 2;case qu:return 8;case go:case Cg:return 32;case Ou:return 268435456;default:return 32}default:return 32}}var ru=!1,Jn=null,$n=null,Qn=null,io=new Map,oo=new Map,Xn=[],Vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,n){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(n.pointerId)}}function ao(e,n,i,s,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:h,targetContainers:[f]},n!==null&&(n=_l(n),n!==null&&wh(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Gy(e,n,i,s,f){switch(n){case"focusin":return Jn=ao(Jn,e,n,i,s,f),!0;case"dragenter":return $n=ao($n,e,n,i,s,f),!0;case"mouseover":return Qn=ao(Qn,e,n,i,s,f),!0;case"pointerover":var h=f.pointerId;return io.set(h,ao(io.get(h)||null,e,n,i,s,f)),!0;case"gotpointercapture":return h=f.pointerId,oo.set(h,ao(oo.get(h)||null,e,n,i,s,f)),!0}return!1}function Ph(e){var n=El(e.target);if(n!==null){var i=d(n);if(i!==null){if(n=i.tag,n===13){if(n=p(i),n!==null){e.blockedOn=n,$u(e.priority,function(){Dh(i)});return}}else if(n===31){if(n=g(i),n!==null){e.blockedOn=n,$u(e.priority,function(){Dh(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ma(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=au(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);ss=s,i.target.dispatchEvent(s),ss=null}else return n=_l(i),n!==null&&wh(n),e.blockedOn=i,!1;n.shift()}return!0}function Vh(e,n,i){Ma(e)&&i.delete(n)}function ky(){ru=!1,Jn!==null&&Ma(Jn)&&(Jn=null),$n!==null&&Ma($n)&&($n=null),Qn!==null&&Ma(Qn)&&(Qn=null),io.forEach(Vh),oo.forEach(Vh)}function Ra(e,n){e.blockedOn===n&&(e.blockedOn=null,ru||(ru=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ky)))}var Ia=null;function Gh(e){Ia!==e&&(Ia=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ia===e&&(Ia=null);for(var n=0;n<e.length;n+=3){var i=e[n],s=e[n+1],f=e[n+2];if(typeof s!="function"){if(su(s||i)===null)continue;break}var h=_l(i);h!==null&&(e.splice(n,3),n-=3,ar(h,{pending:!0,data:f,method:i.method,action:s},s,f))}}))}function oi(e){function n(N){return Ra(N,e)}Jn!==null&&Ra(Jn,e),$n!==null&&Ra($n,e),Qn!==null&&Ra(Qn,e),io.forEach(n),oo.forEach(n);for(var i=0;i<Xn.length;i++){var s=Xn[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Xn.length&&(i=Xn[0],i.blockedOn===null);)Ph(i),i.blockedOn===null&&Xn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var f=i[s],h=i[s+1],S=f[Tt]||null;if(typeof h=="function")S||Gh(i);else if(S){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,S=h[Tt]||null)E=S.formAction;else if(su(f)!==null)continue}else E=S.action;typeof E=="function"?i[s+1]=E:(i.splice(s,3),s-=3),Gh(i)}}}function kh(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function uu(e){this._internalRoot=e}wa.prototype.render=uu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,s=Pt();Rh(i,s,e,n,null,null)},wa.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Rh(e.current,2,null,e,null,null),da(),n[Cl]=null}};function wa(e){this._internalRoot=e}wa.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ju();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Xn.length&&n!==0&&n<Xn[i].priority;i++);Xn.splice(i,0,e),i===0&&Ph(e)}};var Hh=t.version;if(Hh!=="19.2.0")throw Error(a(527,Hh,"19.2.0"));B.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Hy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{mi=Da.inject(Hy),bt=Da}catch{}}return ro.createRoot=function(e,n){if(!r(e))throw Error(a(299));var i=!1,s="",f=Kd,h=Yd,S=Jd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=bh(e,1,!1,null,null,i,s,null,f,h,S,kh),e[Cl]=n.current,Fr(e),new uu(n)},ro.hydrateRoot=function(e,n,i){if(!r(e))throw Error(a(299));var s=!1,f="",h=Kd,S=Yd,E=Jd,N=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(S=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(N=i.formState)),n=bh(e,1,!0,n,i??null,s,f,N,h,S,E,kh),n.context=Mh(null),i=n.current,s=Pt(),s=ja(s),f=Pn(s),f.callback=null,Vn(i,f,s),i=s,n.current.lanes=i,yi(n,i),ln(n),e[Cl]=n.current,Fr(e),new wa(n)},ro.version="19.2.0",ro}var Qh;function Qy(){if(Qh)return fu.exports;Qh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),fu.exports=$y(),fu.exports}var Xy=Qy();const Zy=km(Xy),Wy=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.12-1.588H6.88a2.25 2.25 0 00-2.12 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"})}),Hm=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"})}),Bm=l=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})]}),qm=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663l.001.109m-11.964-4.663c1.862-1.123 4.043-1.766 6.374-1.766s4.512.645 6.374 1.766m-11.964 4.664A6.375 6.375 0 012.25 12c0-1.75.59-3.35 1.5-4.663m11.964 4.664c.909-1.313 1.5-2.913 1.5-4.664 0-1.75-.59-3.35-1.5-4.663m-1.5-4.663a9.336 9.336 0 00-3.178-.671 9.337 9.337 0 00-4.121.952 4.125 4.125 0 007.533 2.493z"})}),jy=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),ev=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),yu=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.5 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})}),tv=[{id:"businessPlan",name:"K hoch Kinh doanh",icon:Wy,indented:!1},{id:"savedPlans",name:"K hoch  lu",icon:yu,indented:!0},{id:"cashFlow",name:"Thu - Chi tin",icon:Hm,indented:!1},{id:"inventory",name:"Nhp xut hng",icon:Bm,indented:!1},{id:"salesTeam",name:"i KD & Marketing",icon:qm,indented:!1},{id:"meetingMinutes",name:"Bin bn hp",icon:ev,indented:!1}],nv=({activeModule:l,setActiveModule:t,isOpen:o})=>y.jsxs("div",{className:`fixed z-30 h-full flex flex-col w-64 bg-white shadow-lg transition-transform duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"}`,children:[y.jsxs("div",{className:"flex items-center justify-center h-16 shadow-md flex-shrink-0",children:[y.jsx(jy,{className:"h-8 w-8 text-indigo-600"}),y.jsx("h1",{className:"text-xl font-bold text-gray-800 ml-2",children:"App Qun tr"})]}),y.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:tv.map(a=>y.jsxs("button",{onClick:()=>t(a.id),className:`w-full flex items-center py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 ${a.indented?"pl-11 pr-4":"px-4"} ${l===a.id?"bg-indigo-600 text-white shadow-md":`text-gray-600 hover:bg-gray-100 hover:text-gray-800 ${a.indented?"font-normal":"font-medium"}`}`,children:[y.jsx(a.icon,{className:"h-5 w-5 mr-3 flex-shrink-0"}),y.jsx("span",{className:"flex-grow text-left",children:a.name})]},a.id))})]}),lv=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5"})}),po=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 016 0v8.25a3 3 0 01-3 3z"})}),Xh=window.SpeechRecognition||window.webkitSpeechRecognition,iv=({onTranscript:l})=>{const[t,o]=Z.useState(null),[a,r]=Z.useState(!1),[d,p]=Z.useState(!1),[g,v]=Z.useState(!1);Z.useEffect(()=>{if(Xh){const C=new Xh;C.continuous=!1,C.lang="vi-VN",C.interimResults=!1,C.onstart=()=>{v(!1),r(!0)},C.onend=()=>r(!1),C.onresult=_=>{const M=_.results[0][0].transcript;l(M)},C.onerror=_=>{console.error("Speech recognition error:",_.error),_.error==="no-speech"?(v(!0),setTimeout(()=>v(!1),2e3)):_.error==="not-allowed"?alert("Bn  t chi quyn truy cp micro. Vui lng cho php truy cp micro trong ci t trnh duyt  s dng tnh nng ny."):alert(` xy ra li khi nhn dng ging ni: ${_.error}. Vui lng th li.`),r(!1)},o(C),p(!0)}else p(!1)},[l]);const m=C=>{C.preventDefault(),t&&(a?t.stop():t.start())};if(!d)return null;const T=()=>g?"bg-yellow-400 text-white":a?"bg-red-500 text-white animate-pulse":"text-gray-400 hover:text-gray-600",x=()=>g?"Khng nghe r. Vui lng th li.":a?"Dng ghi m":"Nhp liu bng ging ni";return y.jsx("button",{type:"button",onClick:m,className:`p-1 rounded-full transition-colors focus:outline-none ${T()}`,"aria-label":a?"Dng ghi m":"Nhp liu bng ging ni",title:x(),children:y.jsx(po,{className:"h-5 w-5"})})};function ov(l){if(!l)return null;let t=l.replace(/,/g,".");t=t.replace(/[^0-9.-]/g,"");const o=t.split(".");o.length>1&&(t=o.slice(0,-1).join("")+"."+o.slice(-1));const a=parseFloat(t);return isNaN(a)?null:a}const Me=({value:l,onChange:t,onCommit:o,id:a,label:r,decimalPlaces:d=0,addon:p,srOnlyLabel:g,enableVoice:v=!1})=>{const m=z=>{const F=typeof z=="string"?parseFloat(z.replace(",",".")):z;return F==null||isNaN(F)?"":new Intl.NumberFormat("vi-VN",{minimumFractionDigits:d,maximumFractionDigits:d}).format(F)},[T,x]=Pa.useState(m(l)),C=Pa.useRef(!1);Pa.useEffect(()=>{C.current||x(m(l))},[l,d]);const _=()=>{C.current=!0,x(l===0?"":String(l).replace(".",","))},M=()=>{C.current=!1,x(m(l)),o&&o(l)},w=z=>{const F=z.target.value;if(x(F),F.trim()===""||F.trim()==="-"){t(0);return}const O=F.replace(/\./g,"").replace(",",".");if(/^-?\d*\.?\d*$/.test(O)){const le=parseFloat(O);isNaN(le)||t(le)}},k=z=>{const F=ov(z);F!==null&&(t(F),o&&o(F))};return y.jsxs("div",{children:[y.jsx("label",{htmlFor:a,className:g?"sr-only":"block text-sm font-medium text-gray-700 mb-1",children:r}),y.jsxs("div",{className:"flex rounded-md shadow-sm",children:[y.jsxs("div",{className:"relative flex-grow",children:[y.jsx("input",{id:a,type:"text",inputMode:d>0?"decimal":"numeric",value:T,onChange:w,onFocus:_,onBlur:M,className:`w-full px-3 py-2 border border-gray-300 sm:text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${p?"rounded-none rounded-l-md":"rounded-md"} ${v?"pr-10":""}`}),v&&y.jsx("div",{className:"absolute inset-y-0 right-0 pr-2 flex items-center",children:y.jsx(iv,{onTranscript:k})})]}),p&&y.jsx("span",{className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:p})]})]})},av=({exchangeRateImport:l,setExchangeRateImport:t,exchangeRateTax:o,setExchangeRateTax:a,salesSalaryRate:r,setSalesSalaryRate:d})=>y.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200",children:[y.jsxs("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-3 mb-4 flex items-center",children:[y.jsx(lv,{className:"h-5 w-5 mr-2 text-gray-500"}),"Ci t chung"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx(Me,{label:"T gi USD/VN (nhp khu)",value:l,onChange:t,id:"exchangeRateImport",enableVoice:!0}),y.jsx(Me,{label:"T gi USD/VN (tnh thu)",value:o,onChange:a,id:"exchangeRateTax",enableVoice:!0}),y.jsx(Me,{label:"T l lng NV bn hng",value:r,onChange:d,decimalPlaces:2,id:"salesSalaryRate",addon:"%",enableVoice:!0})]})]}),sv=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),za=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})}),Gt=({label:l,id:t,srOnlyLabel:o=!1,addon:a,...r})=>y.jsxs("div",{children:[y.jsx("label",{htmlFor:t,className:o?"sr-only":"block text-sm font-medium text-gray-700 mb-1",children:l}),y.jsxs("div",{className:"flex rounded-md shadow-sm",children:[y.jsx("input",{id:t,...r,className:`w-full px-3 py-2 border border-gray-300 sm:text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${a?"rounded-l-md":"rounded-md"}`}),a&&y.jsx("span",{className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:a})]})]}),Mu=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Fa=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),rv=({products:l,selectedProductCode:t,setSelectedProductCode:o,addProductToPlan:a,onAddNewProduct:r,onImportPlan:d})=>{const[p,g]=Z.useState(""),v=Z.useMemo(()=>{if(!p)return l;const ee=p.toLowerCase();return l.filter(U=>U.code.toLowerCase().includes(ee)||U.nameVI.toLowerCase().includes(ee)||U.brand.toLowerCase().includes(ee)||U.group.toLowerCase().includes(ee))},[l,p]);Z.useEffect(()=>{!v.some(U=>U.code===t)&&v.length>0&&o(v[0].code)},[v,t,o]);const m=l.find(ee=>ee.code===t),[T,x]=Z.useState(0),[C,_]=Z.useState(""),[M,w]=Z.useState(0),[k,z]=Z.useState(0);Z.useEffect(()=>{if(m){const ee=m.defaultWeightKg;x(ee),_("1"),w(m.defaultPriceUSDPerTon),z(m.defaultSellingPriceVND)}},[m]);const F=ee=>{x(ee),m&&m.defaultWeightKg>0&&!isNaN(ee)&&_((ee/m.defaultWeightKg).toFixed(2))},O=ee=>{const U=ee.target.value;_(U);const J=Number(U);m&&!isNaN(J)&&x(Math.round(J*m.defaultWeightKg))},le=()=>{a({productCode:t,quantityInKg:Number(T)||0,priceUSDPerTon:Number(M)||0,sellingPriceVNDPerKg:Number(k)||0})};return y.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200",children:[y.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[y.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[y.jsx(za,{className:"h-5 w-5 mr-2 text-gray-500"}),"Thm sn phm vo k hoch"]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"import-plan-selection",className:"cursor-pointer flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-orange-500 hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[y.jsx(Fa,{className:"h-5 w-5 mr-2"}),"Ti ln K hoch"]}),y.jsx("input",{id:"import-plan-selection",type:"file",className:"hidden",accept:".json,application/json",onChange:d})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx(Gt,{id:"product-search",label:"Tm kim sn phm (theo m, tn, thng hiu, nhm)",type:"text",placeholder:"V d: g 'tht tru' hoc 'thn'...",value:p,onChange:ee=>g(ee.target.value)}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("label",{htmlFor:"product-select",className:"block text-sm font-medium text-gray-700",children:"Chn sn phm"}),y.jsxs("button",{onClick:r,className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center space-x-1",children:[y.jsx(Mu,{className:"h-4 w-4"}),y.jsx("span",{children:"Thm mi"})]})]}),y.jsx("select",{id:"product-select",value:t,onChange:ee=>o(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:v.map(ee=>y.jsx("option",{value:ee.code,children:`${ee.brand} - ${ee.group} - ${ee.nameVI} (${ee.code})`},ee.code))})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[y.jsx(Me,{id:"quantity-kg",label:"S lng (KG)",value:T,onChange:F,enableVoice:!0}),y.jsx(Gt,{id:"quantity-cont",label:"S lng (Cont)",type:"number",value:C,onChange:O,step:"0.01"}),y.jsx(Me,{id:"price-usd",label:"Gi nhp (USD/Tn)",value:M,onChange:w,decimalPlaces:2,enableVoice:!0}),y.jsx(Me,{id:"selling-price-vnd",label:"Gi bn (VND/KG)",value:k,onChange:z,enableVoice:!0})]}),y.jsx("div",{className:"pt-2 flex justify-end",children:y.jsxs("button",{onClick:le,className:"w-full sm:w-auto flex justify-center items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:!t,children:[y.jsx(sv,{className:"h-5 w-5 mr-2"}),"Thm vo k hoch"]})})]})]})};function $(l){return l==null||isNaN(l)?"0":new Intl.NumberFormat("vi-VN").format(Math.round(l))}function Om(l){return l==null||isNaN(l)?"0.00%":`${l.toFixed(2)}%`}const ka=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),uv=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),cv=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),dv=({item:l,updateItem:t,planTotals:o,salesSalaryRate:a,setSalesSalaryRate:r,totalMonthlyIndirectSalary:d,setTotalMonthlyIndirectSalary:p,workingDaysPerMonth:g,setWorkingDaysPerMonth:v,totalMonthlyRent:m,setTotalMonthlyRent:T,totalMonthlyElectricity:x,setTotalMonthlyElectricity:C,totalMonthlyWater:_,setTotalMonthlyWater:M,totalMonthlyStationery:w,setTotalMonthlyStationery:k,totalMonthlyDepreciation:z,setTotalMonthlyDepreciation:F,totalMonthlyExternalServices:O,setTotalMonthlyExternalServices:le,totalMonthlyOtherCashExpenses:ee,setTotalMonthlyOtherCashExpenses:U,totalMonthlyFinancialCost:J,setTotalMonthlyFinancialCost:se})=>{var me,he;const{id:G,userInput:ne,calculated:te}=l,X=({label:b,value:B})=>y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsxs("span",{className:"text-gray-600",children:[b,":"]}),y.jsx("span",{className:"font-medium text-gray-800 text-right",children:B})]}),oe=({id:b,label:B,totalMonthlyCost:de,setTotalMonthlyCost:K,allocatedCost:ce=0,totalQuantityInKg:A,itemQuantityInKg:V})=>{const[I,ie]=Z.useState(de);Z.useEffect(()=>{ie(de)},[de]);const re=ae=>{ae!==de&&K(ae)};return y.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 space-y-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:B}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("label",{htmlFor:`total-cost-${b}`,className:"text-gray-600",children:"1. Tng chi ph/thng:"}),y.jsx("div",{className:"w-40",children:y.jsx(Me,{srOnlyLabel:!0,label:`Tng ${B}/thng`,id:`total-cost-${b}`,value:I,onChange:ie,onCommit:re,addon:"VND"})})]}),y.jsx(X,{label:"2. Tng s lng (kg)",value:$(A)}),y.jsx(X,{label:"3. SL sn phm (kg)",value:$(V)}),y.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"4. Chi ph phn b"}),y.jsx("span",{className:"font-bold text-gray-900",children:$(ce)})]}),y.jsx("p",{className:"text-xs text-gray-500 !mt-2 text-center italic",children:"Cng thc: Tng chi ph thng  (SL sn phm / Tng SL)"})]})};return y.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4",children:[y.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[y.jsx("h4",{className:"font-semibold text-gray-700 border-b pb-2",children:"S lng & Gi"}),y.jsx(Me,{id:`quantity-${G}`,label:"1. S lng (Kg)",value:ne.quantityInKg,onChange:b=>t(G,"quantityInKg",b),addon:y.jsxs("span",{children:["~",(me=te.containers)==null?void 0:me.toFixed(2)," cont"]})}),y.jsx(Me,{id:`priceUSD-${G}`,label:"2. Gi mua (USD/tn)",value:ne.priceUSDPerTon,onChange:b=>t(G,"priceUSDPerTon",b),decimalPlaces:2}),y.jsx(X,{label:"= Gi mua (VND/tn)",value:$(te.priceVNDPerTon)}),y.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"3. Tng gi mua (VND)"}),y.jsx("span",{className:"font-bold text-gray-900",children:$(te.importValueVND)})]}),y.jsx(Me,{id:`importVatRate-${G}`,label:"4. Thu sut GTGT NK",value:ne.costs.importVatRate,onChange:b=>t(G,"costs.importVatRate",b),decimalPlaces:2,addon:"%"}),y.jsx(Me,{id:`priceVND-${G}`,label:"6. Gi bn (VND/kg)",value:ne.sellingPriceVNDPerKg,onChange:b=>t(G,"sellingPriceVNDPerKg",b),addon:" gm VAT"}),y.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"7. Tng doanh thu (gm VAT)"}),y.jsx("span",{className:"font-bold text-gray-900",children:$(te.totalRevenueInclVAT)})]})]}),y.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[y.jsx("h4",{className:"font-semibold text-gray-700 border-b pb-2",children:"1. Chi ph thng quan & kho bi"}),y.jsx("div",{className:"p-2 bg-white rounded border border-gray-200",children:y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-gray-600",children:"Cng thc tnh (1.1+...+1.10)"}),y.jsx("span",{className:"font-bold text-gray-900 text-right",children:$(te.totalClearanceAndLogisticsCost)})]})}),y.jsx(Me,{id:`customsFee-${G}`,label:"1.1 Ph Hi quan",value:ne.costs.customsFee,onChange:b=>t(G,"costs.customsFee",b),addon:"VND"}),y.jsx(Me,{id:`quarantineFee-${G}`,label:"1.2 Ph kim dch",value:ne.costs.quarantineFee,onChange:b=>t(G,"costs.quarantineFee",b),addon:"VND"}),y.jsx(Me,{id:`containerRentalFee-${G}`,label:"1.3 Ph thu Cont",value:ne.costs.containerRentalFee,onChange:b=>t(G,"costs.containerRentalFee",b),addon:"VND"}),y.jsx(Me,{id:`portStorageFee-${G}`,label:"1.4 Ph lu kho bi cng",value:ne.costs.portStorageFee,onChange:b=>t(G,"costs.portStorageFee",b),addon:"VND"}),y.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1.5 Chi ph chung nhp kho"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Me,{srOnlyLabel:!0,label:"n gi chi ph chung",id:`generalWarehouseCostRate-${G}`,value:ne.costs.generalWarehouseCostRatePerKg,onChange:b=>t(G,"costs.generalWarehouseCostRatePerKg",b),addon:"VND/kg"}),y.jsxs("p",{className:"text-sm text-gray-600",children:["S lng (kg): ",y.jsx("span",{className:"font-semibold float-right text-gray-800",children:$(ne.quantityInKg)})]}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Cng chi ph chung nhp kho: ",y.jsx("span",{className:"font-semibold float-right text-gray-800",children:$(te.generalWarehouseCost)})]})]})]}),y.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 space-y-3",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"1.6 Chi ph li vay nhp hng"}),y.jsx(Me,{label:"1. Li sut",id:`loanInterestRate-${G}`,value:ne.costs.loanInterestRatePerYear,onChange:b=>t(G,"costs.loanInterestRatePerYear",b),decimalPlaces:2,addon:"%/nm"}),y.jsxs("div",{className:"border-t pt-3 space-y-2",children:[y.jsx("h5",{className:"font-medium text-sm text-gray-600",children:"Ln chuyn 1"}),y.jsx(Me,{label:"2. S tin chuyn ln 1",id:`loanFirstTransferUSD-${G}`,value:ne.costs.loanFirstTransferUSD,onChange:b=>t(G,"costs.loanFirstTransferUSD",b),addon:"USD",decimalPlaces:2}),y.jsx(X,{label:"= S tin (VND)",value:$(te.loanFirstTransferAmountVND)}),y.jsx(Me,{label:"3. Thi gian tnh li ln 1",id:`loanFirstTransferInterestDays-${G}`,value:ne.costs.loanFirstTransferInterestDays,onChange:b=>t(G,"costs.loanFirstTransferInterestDays",b),addon:"ngy"}),y.jsx(X,{label:"4. Chi ph li vay ln 1",value:$(te.loanInterestCostFirstTransfer)})]}),y.jsxs("div",{className:"border-t pt-3 space-y-2",children:[y.jsx("h5",{className:"font-medium text-sm text-gray-600",children:"Ln chuyn 2"}),y.jsx(X,{label:"5. S tin chuyn ln 2",value:$(te.loanSecondTransferAmountVND)}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Thi gian tnh li: ",y.jsxs("span",{className:"font-semibold float-right text-gray-800",children:[ne.costs.postClearanceStorageDays," ngy"]})]}),y.jsx(X,{label:"6. Chi ph li vay ln 2",value:$(te.loanInterestCostSecondTransfer)})]}),y.jsxs("div",{className:"border-t pt-3 space-y-2",children:[y.jsx("h5",{className:"font-medium text-sm text-gray-600",children:"Ln chuyn np thu ti Hi Quan"}),y.jsx(X,{label:"S tin np thu GTGT",value:$(te.importVAT)}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Thi gian tnh li: ",y.jsxs("span",{className:"font-semibold float-right text-gray-800",children:[ne.costs.postClearanceStorageDays," ngy"]})]}),y.jsx(X,{label:"7. Chi ph li vay np thu",value:$(te.loanInterestCostVat)})]}),y.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"8. Tng li vay"}),y.jsx("span",{className:"font-bold text-gray-900",children:$(te.importInterestCost)})]})]}),y.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1.7 Ph lu kho sau thng quan"}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsx(Me,{srOnlyLabel:!0,label:"S ngy lu kho",id:`postClearanceStorageDays-${G}`,value:ne.costs.postClearanceStorageDays,onChange:b=>t(G,"costs.postClearanceStorageDays",b),addon:"ngy"}),y.jsx(Me,{srOnlyLabel:!0,label:"n gi lu kho",id:`postClearanceStorageRate-${G}`,value:ne.costs.postClearanceStorageRatePerKgDay,onChange:b=>t(G,"costs.postClearanceStorageRatePerKgDay",b),addon:"VND/kg"})]}),y.jsxs("p",{className:"text-sm mt-2 text-gray-600",children:["Chi ph lu kho: ",y.jsx("span",{className:"font-semibold float-right text-gray-800",children:$(te.postClearanceStorageCost)})]})]}),y.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1.8 Chi ph thu dch v mua hng"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Me,{srOnlyLabel:!0,label:"n gi thu dch v mua hng",id:`purchasingServiceFee-${G}`,value:ne.costs.purchasingServiceFeeInMillionsPerCont*1e6,onChange:b=>t(G,"costs.purchasingServiceFeeInMillionsPerCont",b/1e6),addon:"VND/cont"}),y.jsxs("p",{className:"text-sm text-gray-600",children:["S lng (cont): ",y.jsx("span",{className:"font-semibold float-right text-gray-800",children:(he=te.containers)==null?void 0:he.toFixed(2)})]}),y.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Tng chi ph thu"}),y.jsx("span",{className:"font-bold text-gray-900",children:$(te.purchasingServiceFee)})]})]})]}),y.jsx(Me,{id:`buyerDeliveryFee-${G}`,label:"1.9 Ph VC n kho bn mua",value:ne.costs.buyerDeliveryFee,onChange:b=>t(G,"costs.buyerDeliveryFee",b),addon:"VND"}),y.jsx(Me,{id:`otherInternationalCosts-${G}`,label:"1.10 Chi ph khc",value:ne.costs.otherInternationalCosts,onChange:b=>t(G,"costs.otherInternationalCosts",b),addon:"VND"})]}),y.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[y.jsx("h4",{className:"font-semibold text-gray-700 border-b pb-2",children:"2. Chi ph bn hng"}),y.jsx("div",{className:"p-2 bg-white rounded border border-gray-200",children:y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-gray-600",children:"Cng thc tnh (2.1+2.2)"}),y.jsx("span",{className:"font-bold text-gray-900 text-right",children:$(te.totalSellingCost)})]})}),y.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 space-y-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"2.1 Lng nhn vin bn hng"}),y.jsx(X,{label:"1. Tng LN gp",value:$(o.totalGrossProfit)}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("label",{htmlFor:`sales-salary-rate-${G}`,className:"text-gray-600",children:"2. T l lng:"}),y.jsx("div",{className:"w-28",children:y.jsx(Me,{srOnlyLabel:!0,label:"T l lng NV bn hng",id:`sales-salary-rate-${G}`,value:a,onChange:r,decimalPlaces:2,addon:"%"})})]}),y.jsx(X,{label:"3. Tng s lng (kg)",value:$(o.totalQuantityInKg)}),y.jsx(X,{label:"4. SL sn phm (kg)",value:$(ne.quantityInKg)}),y.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"5. S tin lng"}),y.jsx("span",{className:"font-bold text-gray-900",children:$(te.salesStaffSalary)})]}),y.jsx("p",{className:"text-xs text-gray-500 !mt-2 text-center italic",children:"Cng thc: (Tng LN gp  T l lng) / Tng SL  SL sn phm"})]}),y.jsx(Me,{id:`otherSellingCosts-${G}`,label:"2.2 Chi ph khc ti ni bn",value:ne.costs.otherSellingCosts,onChange:b=>t(G,"costs.otherSellingCosts",b),addon:"VND"})]}),y.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[y.jsx("h4",{className:"font-semibold text-gray-700 border-b pb-2",children:"3. Chi ph qun l doanh nghip"}),y.jsx("div",{className:"p-2 bg-white rounded border border-gray-200",children:y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-gray-600",children:"Cng thc tnh (3.1+...+3.8)"}),y.jsx("span",{className:"font-bold text-gray-900 text-right",children:$(te.totalGaCost)})]})}),y.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 space-y-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"3.1 Lng nhn vin gin tip"}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("label",{htmlFor:`total-indirect-salary-${G}`,className:"text-gray-600",children:"1. Tng lng/thng:"}),y.jsx("div",{className:"w-40",children:y.jsx(Me,{srOnlyLabel:!0,label:"Tng lng gin tip/thng",id:`total-indirect-salary-${G}`,value:d,onChange:p,addon:"VND"})})]}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("label",{htmlFor:`working-days-${G}`,className:"text-gray-600",children:"2. S ngy cng/thng:"}),y.jsx("div",{className:"w-40",children:y.jsx(Me,{srOnlyLabel:!0,label:"S ngy cng/thng",id:`working-days-${G}`,value:g,onChange:v,addon:"ngy"})})]}),y.jsx(X,{label:"3. Lng 1 ngy (tham kho)",value:$(g>0?d/g:0)}),y.jsx(X,{label:"4. Tng s lng (kg)",value:$(o.totalQuantityInKg)}),y.jsx(X,{label:"5. SL sn phm (kg)",value:$(ne.quantityInKg)}),y.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"6. Lng phn b"}),y.jsx("span",{className:"font-bold text-gray-900",children:$(te.indirectStaffSalary)})]}),y.jsx("p",{className:"text-xs text-gray-500 !mt-2 text-center italic",children:"Cng thc: Tng lng thng  (SL sn phm / Tng SL)"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(oe,{id:`rent-${G}`,label:"3.2 Thu nh",totalMonthlyCost:m,setTotalMonthlyCost:T,allocatedCost:te.rent,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ne.quantityInKg}),y.jsx(oe,{id:`electricity-${G}`,label:"3.3 in",totalMonthlyCost:x,setTotalMonthlyCost:C,allocatedCost:te.electricity,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ne.quantityInKg}),y.jsx(oe,{id:`water-${G}`,label:"3.4 Nc",totalMonthlyCost:_,setTotalMonthlyCost:M,allocatedCost:te.water,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ne.quantityInKg}),y.jsx(oe,{id:`stationery-${G}`,label:"3.5 VPP",totalMonthlyCost:w,setTotalMonthlyCost:k,allocatedCost:te.stationery,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ne.quantityInKg}),y.jsx(oe,{id:`depreciation-${G}`,label:"3.6 Khu hao TSC",totalMonthlyCost:z,setTotalMonthlyCost:F,allocatedCost:te.depreciation,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ne.quantityInKg}),y.jsx(oe,{id:`externalServices-${G}`,label:"3.7 Dch v mua ngoi",totalMonthlyCost:O,setTotalMonthlyCost:le,allocatedCost:te.externalServices,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ne.quantityInKg}),y.jsx(oe,{id:`otherCashExpenses-${G}`,label:"3.8 Chi ph tin khc",totalMonthlyCost:ee,setTotalMonthlyCost:U,allocatedCost:te.otherCashExpenses,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ne.quantityInKg})]})]}),y.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[y.jsx("h4",{className:"font-semibold text-gray-700 border-b pb-2",children:"4. Chi ph Ti chnh"}),y.jsx(oe,{id:`financialCost-${G}`,label:"4.1 CP ti sn, nh gi...",totalMonthlyCost:J,setTotalMonthlyCost:se,allocatedCost:te.financialValuationCost,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ne.quantityInKg})]})]})})},fv=l=>{const{item:t,removeItem:o,index:a}=l,[r,d]=Z.useState(!1),{code:p,nameVI:g,brand:v,group:m,calculated:T}=t,x=C=>{C.stopPropagation(),o(t.id)};return y.jsxs(y.Fragment,{children:[y.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>d(!r),children:[y.jsx("td",{className:"pl-4 pr-2 py-4 align-top",children:y.jsxs("div",{className:"flex items-start space-x-2",children:[y.jsx("button",{onClick:x,className:"text-gray-400 hover:text-red-600 flex-shrink-0 mt-1",children:y.jsx(ka,{className:"h-5 w-5"})}),y.jsx("div",{className:"text-gray-400 mt-1",children:r?y.jsx(cv,{className:"h-5 w-5"}):y.jsx(uv,{className:"h-5 w-5"})})]})}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-500 align-top text-center",children:a+1}),y.jsxs("td",{className:"px-3 py-4 whitespace-nowrap align-top",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:`${p} - ${m} - ${g}`}),y.jsx("div",{className:"text-sm text-gray-500",children:v})]}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-green-700 align-top",children:$(T.totalRevenue)}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:$(T.totalCOGS)}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-blue-700 font-medium align-top",children:$(T.grossProfit)}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:$(T.totalSellingCost)}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:$(T.totalGaCost)}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:$(T.totalFinancialCost)}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-purple-700 font-medium align-top",children:$(T.profitBeforeTax)}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-red-700 align-top",children:$(T.corporateIncomeTax)}),y.jsx("td",{className:`px-3 py-4 whitespace-nowrap text-sm font-bold align-top ${(T.netProfit??0)<0?"text-red-600":"text-green-600"}`,children:$(T.netProfit)}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:$(T.importVAT)}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:$(T.outputVAT)}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 font-medium align-top",children:$(T.vatPayable)}),y.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-red-700 font-bold align-top",children:$(T.totalTaxPayable)}),y.jsx("td",{className:`px-3 py-4 whitespace-nowrap text-sm font-medium align-top ${(T.netProfitMargin??0)<0?"text-red-600":"text-blue-700"}`,children:Om(T.netProfitMargin)})]}),r&&y.jsx("tr",{className:"bg-gray-50",children:y.jsx("td",{colSpan:17,className:"p-0",children:y.jsx(dv,{...l})})})]})},hv=({items:l})=>{const t=l.reduce((a,r)=>(a.totalCOGS+=r.calculated.totalCOGS||0,a.totalSellingCost+=r.calculated.totalSellingCost||0,a.totalGaCost+=r.calculated.totalGaCost||0,a.totalFinancialCost+=r.calculated.totalFinancialCost||0,a.totalRevenue+=r.calculated.totalRevenue||0,a.grossProfit+=r.calculated.grossProfit||0,a.profitBeforeTax+=r.calculated.profitBeforeTax||0,a.corporateIncomeTax+=r.calculated.corporateIncomeTax||0,a.importVAT+=r.calculated.importVAT||0,a.outputVAT+=r.calculated.outputVAT||0,a.vatPayable+=r.calculated.vatPayable||0,a.netProfit+=r.calculated.netProfit||0,a.totalTaxPayable+=r.calculated.totalTaxPayable||0,a),{totalCOGS:0,totalSellingCost:0,totalGaCost:0,totalFinancialCost:0,totalRevenue:0,grossProfit:0,profitBeforeTax:0,corporateIncomeTax:0,importVAT:0,outputVAT:0,vatPayable:0,netProfit:0,totalTaxPayable:0}),o=t.totalRevenue>0?t.netProfit/t.totalRevenue*100:0;return y.jsx("tfoot",{className:"bg-gray-100 font-bold",children:y.jsxs("tr",{children:[y.jsx("td",{colSpan:3,className:"pl-4 pr-2 py-3 text-left text-sm text-gray-800 uppercase tracking-wider",children:"Tng cng"}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-green-800",children:$(t.totalRevenue)}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:$(t.totalCOGS)}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-blue-800",children:$(t.grossProfit)}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:$(t.totalSellingCost)}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:$(t.totalGaCost)}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:$(t.totalFinancialCost)}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-purple-800",children:$(t.profitBeforeTax)}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-red-800",children:$(t.corporateIncomeTax)}),y.jsx("td",{className:`px-3 py-3 text-left text-sm ${t.netProfit<0?"text-red-700":"text-green-700"}`,children:$(t.netProfit)}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:$(t.importVAT)}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:$(t.outputVAT)}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:$(t.vatPayable)}),y.jsx("td",{className:"px-3 py-3 text-left text-sm text-red-800",children:$(t.totalTaxPayable)}),y.jsx("td",{className:`px-3 py-3 text-left text-sm ${o<0?"text-red-700":"text-blue-800"}`,children:Om(o)})]})})},pv=["STT","Sn phm","Doanh thu","Gi vn hng bn","Li nhun gp","CP Bn hng","CP Qun l","CP Ti chnh","Li nhun trc thu","Thu TNDN","Li rng","Thu GTGT Mua vo","Thu GTGT Bn ra","Thu GTGT Phi np","Tng thu phi np","T l Li rng/Doanh thu"],mv=l=>{const{items:t,updateItem:o,removeItem:a,planTotals:r}=l;return y.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"w-12 pl-4 pr-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),pv.map(d=>y.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:d},d))]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((d,p)=>y.jsx(fv,{item:d,index:p,updateItem:o,removeItem:a,planTotals:r,...l},d.id))}),y.jsx(hv,{items:t})]})})})},gv=28e3,yv=22e3,vv=25e3,Tv=2e4,xv=4100,Sv=125e3,Cv=1450,Ev=48e3,_v=2500,Av=8e4,Nv=5e3,bv=15e4,q=(l,t,o,a,r="N/A")=>{let d=gv,p=xv,g=Sv;const v=a.toLowerCase();return v.includes("g")?(d=yv,p=Cv,g=Ev):v.includes("ln")?(d=vv,p=_v,g=Av):v.includes("thy hi sn")&&(d=Tv,p=Nv,g=bv),{code:l,nameEN:r,nameVI:t,brand:o,group:a,defaultWeightKg:d,defaultPriceUSDPerTon:p,defaultSellingPriceVND:g}},Mv=[{...q("46-ALANA","Thn ngoi","Alana","Tht tru"),nameEN:"Striploin C",defaultPriceUSDPerTon:4675},{...q("47-BLACKGOLD","Bp ra ng x","Black Gold","Tht tru"),nameEN:"Kasila IWP",defaultPriceUSDPerTon:4275},{...q("25-BLACKGOLD","Nm bng ri","Black Gold","Tht ln"),nameEN:"Flank IWP",defaultPriceUSDPerTon:2625},{...q("123-AMBER","D sn ng ri","Amber","Tht tru"),nameEN:"Ribmeat",defaultPriceUSDPerTon:3100},{...q("64-ALANA","Bp c lc","Alana","Tht tru"),nameEN:"Chuck tender",defaultPriceUSDPerTon:4675},{...q("65-ALANA","Nc vai","Alana","Tht tru"),nameEN:"Blade",defaultPriceUSDPerTon:4275},{...q("60A-ALANA","Bp hoa ng x","Alana","Tht tru"),nameEN:"Shin shank IWP",defaultPriceUSDPerTon:4675},{...q("M41-ALANA","Nc i","Alana","Tht tru"),nameEN:"Chuck Tender",defaultPriceUSDPerTon:4450},{...q("M42-ALANA","i ng","Alana","Tht tru"),nameEN:"Blade / Top Blade",defaultPriceUSDPerTon:4450},{...q("M44-ALANA","Thn l c","Alana","Tht tru"),nameEN:"Rib Meat",defaultPriceUSDPerTon:4450},{...q("M45-ALANA","Nc mng","Alana","Tht tru"),nameEN:"Shin/Shank",defaultPriceUSDPerTon:4450},q("9-ALANA","Gn ch Y","Alana","Tht tru"),q("11-ALANA","Nm","Alana","Tht tru"),q("19-ALANA","Nm bng","Alana","Tht tru"),q("222-ALANA","Vn","Alana","Tht tru"),q("31-ALANA","Thn ni","Alana","Tht tru"),q("41-ALANA-OLD","Nc i","Alana","Tht tru"),q("42-ALANA-OLD","i g","Alana","Tht tru"),q("44-ALANA-OLD","Tht thn","Alana","Tht tru"),q("45-ALANA-OLD","Nc mng","Alana","Tht tru"),q("57-ALANA","ui","Alana","Tht tru"),q("58-ALANA","D sn","Alana","Tht tru"),q("60S-ALANA-OLD","Bp hoa","Alana","Tht tru"),q("67-ALANA","u thn ngoi","Alana","Tht tru"),q("67-AMBER","Dim thn","Amber","Tht tru"),q("123-BLACKGOLD","D sn","Black Gold","Tht tru"),q("60S-BLACKGOLD","Bp hoa","Black Gold","Tht tru"),q("57-BLACKGOLD","ui","Black Gold","Tht tru"),q("19-BLACKGOLD","Nm","Black Gold","Tht tru"),q("19-ALSAMI","Nm","Alsami","Tht tru"),q("45-ALSAMI","Nc mng","Alsami","Tht tru"),q("13-MINHA","Nm gin","Minha","Tht tru"),q("31-TOURO","Thn ni","Touro","Tht tru"),q("60B-TOURO","Bp ra","Touro","Tht tru"),q("09-TOURO","Gn","Touro","Tht tru"),q("52-TOURO","Gn ngn","Touro","Tht tru"),q("42-TOURO","i g","Touro","Tht tru"),q("44-TOURO","Tht thn l c","Touro","Tht tru"),q("45-TOURO","Nc mng","Touro","Tht tru"),q("65-TOURO","Nm vai","Touro","Tht tru"),q("19-TOURO","Nm bng","Touro","Tht tru"),q("MA-LON-TOURO","M ln","Touro","Tht tru"),q("60S-MKEEN","Bp hoa","Mkeen","Tht tru"),q("19-ALHILAL","Nm bng","AL-HILAL","Tht tru"),q("46-ALHILAL","Thn ngoi","AL-HILAL","Tht tru"),q("42-ALHABIBI","i g","AL-HABIBI","Tht tru"),q("41-ALHABIBI","Tht i","AL-HABIBI","Tht tru"),q("65-ALHABIBI","Nm vai","AL-HABIBI","Tht tru"),q("19-ALHABIBI","Nm bng","AL-HABIBI","Tht tru"),q("46-ALHABIBI","Thn ngoi","AL-HABIBI","Tht tru"),q("67-ALHABIBI","u thn ngoi","AL-HABIBI","Tht tru"),q("44-ALHABIBI","Thn l c","AL-HABIBI","Tht tru"),q("45-ALHABIBI","Tht mng","AL-HABIBI","Tht tru"),q("11-ALHABIBI","Tht vn","AL-HABIBI","Tht tru"),q("31-ALHABIBI","Thn ni","AL-HABIBI","Tht tru"),q("17-ALHABIBI","Tht c","AL-HABIBI","Tht tru"),q("07-SAHIBA","Gn Y cng to","Sahiba","Tht tru"),q("152-SAHIBA","Tht vn","Sahiba","Tht tru"),q("86-SAHIBA","Li","Sahiba","Tht tru"),q("70-SAHIBA","Bp ra","Sahiba","Tht tru"),q("57-SAHIBA","ui","Sahiba","Tht tru"),q("46-SAHIBA","Thn ngoi","Sahiba","Tht tru"),q("123-SAHIBA","D sn","Sahiba","Tht tru"),q("64-IAF","Bp c lc","IAF","Tht tru"),q("64-ZAKIYAH","Bp c lc","ZAKIYAH","Tht tru"),q("MACAN-MIRATORG","Ba ch C da - C Xng","Miratorg","Tht ln"),q("MACAN-APK-VLMK","Ba ch C da - Rt xng","APK/VLMK","Tht ln"),q("MACAN-RUSAGO","Ba ch C da - Rt xng","RUSAGO","Tht ln"),q("MACAN-CHANGIO","Chn gi trc nguyn ci","Generic","Tht ln"),q("MACAN-M3Q6","Da heo lng M3/Q6","M3/Q6","Tht ln"),q("MACAN-APK","Khoanh trc APK","APK","Tht ln"),q("MACAN-BZAXIN","Khoanh trc Bzaxin Palmali ng ti","Bzaxin Palmali ng ti","Tht ln"),q("MACAN-VLMK-SAU","Khoanh sau VLMK","VLMK","Tht ln"),q("MACAN-VLMK-TRUOC","Khoanh trc VLMK","VLMK","Tht ln"),q("MACAN-OLYMEL","Khoanh trc Olymel","Olymel","Tht ln"),q("LUOIHEO-TONNIES","Li heo - khng c cung","Tonnies","Tht ln"),q("MUIHEO-TONNIES","Mi heo Tonnies","Tonnies","Tht ln"),q("MACAN-MIKABALAN","M heo Mika Balan - khng c Da","Mika Balan","Tht ln"),q("MONGSAUDAI-TONNIES","Mng sau di - Tonnies","Tonnies","Tht ln"),q("MONGSAU-YONNONI","Mng sau  Onnoni - p"," Onnoni","Tht ln"),q("MONGSAUNGAN-Y","Mng sau ngn - Y","Y","Tht ln"),q("MONGTRUOC-MIKAB","Mng trc Mika B","Mika B","Tht ln"),q("MONGTRUOC-NWT","Mng trc NWT","NWT","Tht ln"),q("MONGTRUOC-M77","Mng trc M77","M77","Tht ln"),q("MONGTRUOC-APK","Mng trc - APK - trng p","APK","Tht ln"),q("MONGTRUOC-Y","Mng trc ","Y","Tht ln"),q("MOHEOCAT-ANIMEX","M heo ct Animex","Animex","Tht ln"),q("MACAN-MOHEOLUNG","M heo lng","Generic","Tht ln"),q("NACMONG-FRIMESA","Nc mng - Frimesa","Frimesa","Tht ln"),q("MACAN-NACMONG-APK","Nc mng - APK","APK","Tht ln"),q("MACAN-NACVAI-MIRATOG","Nc vai - Miratog","Miratog","Tht ln"),q("NACVAI-SEARA","Nc vai - Seara","Seara","Tht ln"),q("SCB-TONIS","Sn cnh bum Tonis","Tonis","Tht ln"),q("SCB-DANISH","Sn cnh bum Danish","Danish","Tht ln"),q("MACAN-SCB-RAINHA","Sn cnh bum Rainha - Nhiu Tht","Rainha","Tht ln"),q("SVT-CDS","Sn vng trng CDS","CDS","Tht ln"),q("SUNNON-NWT","Sn non c NWT","NWT","Tht ln"),q("MACAN-TAITAYXANH","Tai ty xanh Zamesky","Zamesky","Tht ln"),q("MACAN-TAI-M77A","Tai M77 Loi A","M77","Tht ln"),q("MACAN-TAI-APKA","Tai APK loi A","APK","Tht ln"),q("MACAN-TAI-M3Q6","Tai M3(Q6)","M3(Q6)","Tht ln"),q("MACAN-TIMHEO-TBN","Tim heo TBN - RETXACH","TBN - RETXACH","Tht ln"),q("XOS-NIPOK-MIKA","Xng ng sau Nipok v Mika","Nipok v Mika","Tht ln"),{...q("L-CHICKEN","G Hn Quc (L)","Generic","Tht g"),nameEN:"L Size FROZEN WHOLE CHICKEN",defaultPriceUSDPerTon:1500},{...q("M-CHICKEN","G Hn Quc (M)","Generic","Tht g"),nameEN:"M Size FROZEN WHOLE CHICKEN",defaultPriceUSDPerTon:1450},{...q("S-CHICKEN","G Hn Quc (S)","Generic","Tht g"),nameEN:"S Size FROZEN WHOLE CHICKEN",defaultPriceUSDPerTon:1400},q("DUIMAI-LAMEX","i Mi Lamex","Lamex","Tht g"),q("DUIMAI-SHINWOO","i Mi ma Shinwoo","Shinwoo","Tht g"),q("DUIMAITO-SHINWOO","i Mi Shin Woo - to p","Shinwoo","Tht g"),q("DUITRONG-SHINWOO","i Trng Shin Woo - to p","Shinwoo","Tht g"),q("DUITRONG-TIPTOP","i Trng TipTop","TipTop","Tht g"),q("DUINON-MOUTE","i non Moute ( i mm)","Moute","Tht g"),q("DUITOI-SANDERSON","i ti Sanderson size 4-5 ci/kg","Sanderson","Tht g"),q("DUITOI-MOUNTAIRE","i ti Mountaire size 4-5 ci/kg","Mountaire","Tht g"),q("DUITOI-TYSON","i ti Tyson size 5-6 ci/kg","Tyson","Tht g"),q("CGNC-XEPROI","Cnh g nguyn ci  xp ri","Generic","Tht g"),q("CGNC-CEDAL","Cnh g nguyn ci  xp lp CEDAL","CEDAL","Tht g"),q("CGNC-SINGREEN","Cnh g nguyn ci  Cnh g gi Singreen","Singreen","Tht g"),q("CG-KHUCGIUA","Cnh g - Khc gia","Generic","Tht g"),q("CHANGA-HUNGARY-A35","Chn g Hungary A 35gr+","Hungary","Tht g"),q("CHANGA-KZEROA-35","Chn g KZEROA 35gr +","KZEROA","Tht g"),q("CHANGA-THANHTUNG-50","Chn g Thanh Tng 50gr+","Thanh Tng","Tht g"),q("CGRX-NET5","Chn g rt xng net 5","Generic","Tht g"),q("CGRX-NET9","Chn g rt xng net 9","Generic","Tht g"),q("10D2-SHINWOO","G 10con (120-129kg/thng)","Shinwoo","Tht g"),q("10D3N-SHINWOO","G 10con (130-134kg/thng) - nh","Shinwoo","Tht g"),q("10D3T-SHINWOO","G 10con (135-139kg/thng)  to","Shinwoo","Tht g"),q("10D4N-SHINWOO","G 10con (140-144kg/thng) - nh","Shinwoo","Tht g"),q("10D4T-SHINWOO","G 10con (145-149kg/thng)  to","Shinwoo","Tht g"),q("10D5-SHINWOO","G 10con (150-159kg/thng)","Shinwoo","Tht g"),q("10D6N-SHINWOO","G 10con (160-164kg/thng) - nh","Shinwoo","Tht g"),q("10D6T-SHINWOO","G 10con (165-169kg/thng) - to","Shinwoo","Tht g"),q("10D7-SHINWOO","G 10con (170-179kg/thng)","Shinwoo","Tht g"),q("12D911-SHINWOO","G 12con (90-110kg/thng)","Shinwoo","Tht g"),q("12D234-SHINWOO","G 12con (120-149kg/thng)","Shinwoo","Tht g"),q("GAXAY-PALET-SHINWOO","Tht g xay Shinwoo - Palet","Shinwoo","Tht g"),q("GAXAY-CATON-SHINWOO","Tht g xay Shinwoo - Thng Caton","Shinwoo","Tht g"),q("SUNUCGA-HUNGARY","Sn c g Hungary","Hungary","Tht g"),q("THITUC-PALET-SHINWOO","Tht c g ShinWoo - palet","Shinwoo","Tht g"),q("THITUC-CATON-SHINWOO","Tht c g Shin Woo - thng caton","Shinwoo","Tht g"),q("BASA-KHUC-GODACO","C Basa ct khc","GoDaCo","Thy hi sn"),q("BASA-KHUC-NAVICO","C Basa ct khc","NaViCo","Thy hi sn"),q("BASA-FILE-NAVICO","C Basa File","NaViCo","Thy hi sn"),q("CANUC-NHAT","C Nc Nht 200/300g","Nht","Thy hi sn"),q("BASA-NGUYENCON-VN","C Basa nguyn con","Vit Nam","Thy hi sn")].sort((l,t)=>l.brand.localeCompare(t.brand)||l.nameVI.localeCompare(t.nameVI)),Rv=.2,Iv=.1,wv=.6,Dv=.3;function Uv(l,t){const{defaultWeightKg:o,userInput:a}=l,{costs:r,quantityInKg:d}=a,p=(r.importVatRate||0)/100,g=d>0&&o>0?d/o:0,v=a.priceUSDPerTon/1e3,m=d*v,T=m*t.importRate,x=d*v*t.taxRate*p,C=a.priceUSDPerTon*t.importRate,_=a.sellingPriceVNDPerKg*d,M=r.loanInterestRatePerYear/100/365,w=r.loanFirstTransferUSD*t.importRate,k=w*M*r.loanFirstTransferInterestDays,z=T>w?T-w:0,F=(w+z)*M*r.postClearanceStorageDays,O=(x??0)*M*r.postClearanceStorageDays,le=k+F+O,ee=d*r.generalWarehouseCostRatePerKg,U=d*r.postClearanceStorageDays*r.postClearanceStorageRatePerKgDay,J=g*r.purchasingServiceFeeInMillionsPerCont*1e6,se=r.otherInternationalCosts,G=r.customsFee+r.quarantineFee+r.containerRentalFee+r.portStorageFee+ee+le+U+J+r.buyerDeliveryFee+se,ne=a.sellingPriceVNDPerKg/(1+p),te=ne*d,X=T+G,oe=te-X;return l.calculated={...l.calculated,containers:g,priceUSDPerKg:v,importValueUSD:m,importValueVND:T,importVAT:x,priceVNDPerTon:C,totalRevenueInclVAT:_,totalClearanceAndLogisticsCost:G,generalWarehouseCost:ee,importInterestCost:le,loanFirstTransferAmountVND:w,loanInterestCostFirstTransfer:k,loanSecondTransferAmountVND:z,loanInterestCostSecondTransfer:F,loanInterestCostVat:O,postClearanceStorageCost:U,purchasingServiceFee:J,otherInternationalPurchaseCost:se,sellingPriceExclVAT:ne,totalRevenue:te,totalCOGS:X,grossProfit:oe},l}function Lv(l,t,o){const{userInput:a}=l,{costs:r,quantityInKg:d}=a,p=(r.importVatRate||0)/100,g=t.totalGrossProfit*(o.salesSalaryRate/100),v=ce=>t.totalQuantityInKg>0?ce*(d/t.totalQuantityInKg):0,m=v(g),T=v(o.totalMonthlyIndirectSalary),x=v(o.totalMonthlyRent),C=v(o.totalMonthlyElectricity),_=v(o.totalMonthlyWater),M=v(o.totalMonthlyStationery),w=v(o.totalMonthlyDepreciation),k=v(o.totalMonthlyExternalServices),z=v(o.totalMonthlyOtherCashExpenses),F=v(o.totalMonthlyFinancialCost),O=m+r.otherSellingCosts,le=T+x+C+_+M+w+k+z,ee=F,U=(l.calculated.totalRevenue??0)*p,J=U-(l.calculated.importVAT??0),se=d>0?(l.calculated.totalCOGS??0)/d:0,G=O+le,ne=(l.calculated.totalCOGS??0)+G+ee,te=(l.calculated.totalRevenue??0)-ne,X=te*Rv,oe=te-X,me=X+(J??0),he=l.calculated.totalRevenue??0,b=he>0?oe/he*100:0,B=oe>0?oe*Iv:0,de=oe>0?oe*wv:0,K=oe>0?oe*Dv:0;return l.calculated={...l.calculated,salesStaffSalary:m,indirectStaffSalary:T,rent:x,electricity:C,water:_,stationery:M,depreciation:w,externalServices:k,otherCashExpenses:z,financialValuationCost:F,totalSellingCost:O,totalGaCost:le,totalFinancialCost:ee,outputVAT:U,vatPayable:J,cogsPerKg:se,totalOperatingCost:G,totalPreTaxCost:ne,profitBeforeTax:te,corporateIncomeTax:X,netProfit:oe,netProfitMargin:b,totalTaxPayable:me,retainedForProvision:B,retainedForBusiness:de,dividends:K},l}function zm(l,t){if(l.length===0)return[];const o=l.map(d=>Uv(JSON.parse(JSON.stringify(d)),t)),a=o.reduce((d,p)=>(d.totalGrossProfit+=p.calculated.grossProfit||0,d.totalQuantityInKg+=p.userInput.quantityInKg||0,d),{totalGrossProfit:0,totalQuantityInKg:0});return o.map(d=>Lv(d,a,t))}const Pv=l=>l.reduce((t,o)=>(t.importValueVND+=o.calculated.importValueVND||0,t.totalClearanceAndLogisticsCost+=o.calculated.totalClearanceAndLogisticsCost||0,t.totalSellingCost+=o.calculated.totalSellingCost||0,t.totalGaCost+=o.calculated.totalGaCost||0,t.totalFinancialCost+=o.calculated.totalFinancialCost||0,t.totalRevenue+=o.calculated.totalRevenue||0,t.grossProfit+=o.calculated.grossProfit||0,t.profitBeforeTax+=o.calculated.profitBeforeTax||0,t.corporateIncomeTax+=o.calculated.corporateIncomeTax||0,t.importVAT+=o.calculated.importVAT||0,t.outputVAT+=o.calculated.outputVAT||0,t.vatPayable+=o.calculated.vatPayable||0,t.netProfit+=o.calculated.netProfit||0,t.importInterestCost+=o.calculated.importInterestCost||0,t.totalCOGS+=o.calculated.totalCOGS||0,t.totalTaxPayable+=o.calculated.totalTaxPayable||0,t),{importValueVND:0,totalClearanceAndLogisticsCost:0,totalSellingCost:0,totalGaCost:0,totalFinancialCost:0,totalRevenue:0,grossProfit:0,profitBeforeTax:0,corporateIncomeTax:0,importVAT:0,outputVAT:0,vatPayable:0,netProfit:0,importInterestCost:0,totalCOGS:0,totalTaxPayable:0}),Ue=(l,t,o=!1)=>`
  <div class="flex justify-between py-2 border-b border-gray-200">
    <span class="text-sm ${o?"text-gray-500":"text-gray-600"}">${l}</span>
    <span class="text-sm font-semibold text-gray-800 text-right">${t}</span>
  </div>
`,Wt=(l,t)=>`
  <div class="flex justify-between py-2 border-b-2 border-gray-400">
    <span class="text-sm font-bold text-gray-800">${l}</span>
    <span class="text-sm font-bold text-gray-900 text-right">${t}</span>
  </div>
`,at=(l,t,o,a,r,d=!1,p=!1)=>{const g=a!==null?$(a):"",v=r!==0&&a!==null?`${(a/r*100).toFixed(2)}%`:"",m=p?"pl-8":"pl-4",T=d?"font-bold":"";return`
    <tr class="border-b">
      <td class="py-3 ${m} pr-2 text-sm text-gray-800 ${T}">${l}</td>
      <td class="py-3 px-2 text-center text-sm text-gray-600">${t}</td>
      <td class="py-3 px-2 text-center text-sm text-gray-600">${o}</td>
      <td class="py-3 px-4 text-right text-sm text-gray-900 ${T}">${g}</td>
      <td class="py-3 pl-2 pr-4 text-right text-sm text-gray-500">${v}</td>
    </tr>
  `},Fm=(l,t,o,a)=>{const r=Pv(l),d=r.totalRevenue>0?r.netProfit/r.totalRevenue*100:0,p=new Date().toLocaleString("vi-VN"),g=r.totalRevenue,v=0,m=r.vatPayable,T=g-v,x=r.totalCOGS,C=T-x,_=0,M=r.totalFinancialCost,w=r.importInterestCost,k=r.totalSellingCost,z=r.totalGaCost,F=C+(_-M)-k-z,O=0,le=0,ee=O-le,U=F+ee,J=U*.2,se=0,G=U-J-se,ne=J+m,te=`
    <div class="mb-12 break-after-page">
      <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-2">PHNG N KINH DOANH</h1>
        <p class="text-gray-600">n v tnh: VND</p>
      </div>
      
      <div class="overflow-hidden border rounded-lg">
        <table class="min-w-full">
          <thead class="bg-gray-100">
            <tr class="border-b">
              <th class="py-3 pl-4 pr-2 text-left text-xs font-bold text-gray-600 uppercase tracking-wider w-1/2">Ch tiu</th>
              <th class="py-3 px-2 text-center text-xs font-bold text-gray-600 uppercase tracking-wider">M s</th>
              <th class="py-3 px-2 text-center text-xs font-bold text-gray-600 uppercase tracking-wider">Chi tit ly d liu</th>
              <th class="py-3 px-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider">S tin</th>
              <th class="py-3 pl-2 pr-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider">T l</th>
            </tr>
          </thead>
          <tbody class="bg-white">
            ${at("1. Doanh thu bn hng v cung cp dch v","01","Tng hp",g,T,!0)}
            ${at("2. Cc khon gim tr doanh thu","02","",v,T,!1)}
            ${at("3. Doanh thu thun v bn hng v cung cp dch v (10 = 01 - 02)","10","[01] - [02]",T,T,!1)}
            ${at("4. Gi vn hng bn","11","Tng hp",x,T,!0)}
            ${at("5. Li nhun gp v bn hng v cung cp dch v (20 = 10 - 11)","20","[10] - [11]",C,T,!0)}
            ${at("6. Doanh thu hot ng ti chnh","21","",_,T,!1)}
            ${at("7. Chi ph ti chnh","22","Tng hp",M,T,!1)}
            ${at("8. Chi ph li vay  tnh vo gi vn","23","Tng hp",w,T,!1,!0)}
            ${at("9. Chi ph bn hng","25","Tng hp",k,T,!1)}
            ${at("10. Chi ph qun l doanh nghip","26","Tng hp",z,T,!1)}
            ${at("11. Li nhun thun t hot ng kinh doanh (30 = 20 + (21 - 22)  25  26)","30","[20] + ([21]-[22]) - [25] - [26]",F,T,!0)}
            ${at("12. Thu nhp khc","31","",O,T,!1)}
            ${at("13. Chi ph khc","32","",le,T,!1)}
            ${at("14. Li nhun khc (40 = 31 - 32)","40","[31] - [32]",ee,T,!1)}
            ${at("15. Tng li nhun k ton trc thu (50 = 30 + 40)","50","[30] + [40]",U,T,!0)}
            ${at("16. Chi ph thu TNDN hin hnh (20% x 50)","51","[50] x 20%",J,T,!1)}
            ${at("17. Chi ph thu TNDN hon li","52","",se,T,!1)}
            ${at("18. Li nhun sau thu thu nhp doanh nghip (60 = 50 - 51 - 52)","60","[50] - [51] - [52]",G,T,!0)}
            ${at("19. Thu GTGT phi np nh nc","70","Tng hp",m,T,!1)}
            ${at("20. Tng thu phi np cho nh nc","80","[51] + [70]",ne,T,!0)}
          </tbody>
        </table>
      </div>
      <div class="flex justify-between items-start mt-12">
        <p class="text-gray-600 text-sm italic">Ngy to bo co: ${p}</p>
        <div class="text-center w-64">
            <p class="font-bold text-gray-800">Ngi lp bo co</p>
            <p class="italic text-sm text-gray-600 mb-12">(K, h tn)</p>
        </div>
      </div>
    </div>
  `,X=l.reduce((I,ie)=>{const re=ie.userInput.costs,ae=ie.calculated;return I.customsFee+=re.customsFee||0,I.quarantineFee+=re.quarantineFee||0,I.containerRentalFee+=re.containerRentalFee||0,I.portStorageFee+=re.portStorageFee||0,I.generalWarehouseCost+=ae.generalWarehouseCost||0,I.importInterestCost+=ae.importInterestCost||0,I.postClearanceStorageCost+=ae.postClearanceStorageCost||0,I.purchasingServiceFee+=ae.purchasingServiceFee||0,I.buyerDeliveryFee+=re.buyerDeliveryFee||0,I.otherInternationalPurchaseCost+=ae.otherInternationalPurchaseCost||0,I.salesStaffSalary+=ae.salesStaffSalary||0,I.otherSellingCosts+=re.otherSellingCosts||0,I.indirectStaffSalary+=ae.indirectStaffSalary||0,I.rent+=ae.rent||0,I.electricity+=ae.electricity||0,I.water+=ae.water||0,I.stationery+=ae.stationery||0,I.depreciation+=ae.depreciation||0,I.externalServices+=ae.externalServices||0,I.otherCashExpenses+=ae.otherCashExpenses||0,I.financialValuationCost+=ae.financialValuationCost||0,I},{customsFee:0,quarantineFee:0,containerRentalFee:0,portStorageFee:0,generalWarehouseCost:0,importInterestCost:0,postClearanceStorageCost:0,purchasingServiceFee:0,buyerDeliveryFee:0,otherInternationalPurchaseCost:0,salesStaffSalary:0,otherSellingCosts:0,indirectStaffSalary:0,rent:0,electricity:0,water:0,stationery:0,depreciation:0,externalServices:0,otherCashExpenses:0,financialValuationCost:0}),oe=r.totalClearanceAndLogisticsCost,me=oe+k+z+M,b=`(Lu kho ~${(l.length>0?l.reduce((I,ie)=>I+ie.userInput.costs.postClearanceStorageDays,0)/l.length:0).toFixed(0)} ngy)`,B=(I,ie,re,ae,Ee="",We=!1,ze=!1,mt=!1)=>{const Qe=ae>0?`${(re/ae*100).toFixed(2)}%`:"0.00%",Fe=We?"pl-8":"pl-4",_e=ze||mt?"font-bold":"";return`
          <tr class="border-b ${mt?"bg-gray-100":"bg-white"}">
              <td class="py-2 px-2 text-center text-sm ${_e}">${I}</td>
              <td class="py-2 ${Fe} pr-2 text-sm ${mt?"text-gray-900":"text-gray-800"} ${_e}">${ie}</td>
              <td class="py-2 px-4 text-right text-sm text-gray-900 ${_e}">${$(re)}</td>
              <td class="py-2 px-4 text-right text-sm ${ze||mt?"font-semibold text-gray-800":"text-gray-600"}">${Qe}</td>
              <td class="py-2 px-4 text-sm text-gray-600">${Ee}</td>
          </tr>
      `},de=`
    <div class="mb-12 break-after-page">
      <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-2">BNG TNG HP CHI PH</h1>
        <p class="text-gray-600">n v tnh: VND</p>
      </div>
      
      <div class="overflow-hidden border rounded-lg">
        <table class="min-w-full">
          <thead class="bg-gray-100">
            <tr class="border-b">
              <th class="py-3 px-2 text-center text-xs font-bold text-gray-600 uppercase tracking-wider w-16">STT</th>
              <th class="py-3 pl-4 pr-2 text-left text-xs font-bold text-gray-600 uppercase tracking-wider w-2/5">Cc loi chi ph</th>
              <th class="py-3 px-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider">S tin</th>
              <th class="py-3 px-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider">T l %/Doanh thu thun</th>
              <th class="py-3 px-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Ghi ch</th>
            </tr>
          </thead>
          <tbody class="bg-white">
            ${B("1","Chi ph Thng quan & Vn hnh (c tnh vo gi vn)",oe,T,"",!1,!0)}
            ${B("1.1","Ph Hi quan",X.customsFee,T,"",!0)}
            ${B("1.2","Ph kim dch",X.quarantineFee,T,"",!0)}
            ${B("1.3","Ph thu Cont",X.containerRentalFee,T,"",!0)}
            ${B("1.4","Ph lu kho bi cng",X.portStorageFee,T,"",!0)}
            ${B("1.5","Chi ph chung nhp kho",X.generalWarehouseCost,T,"",!0)}
            ${B("1.6","Li vay nhp hng",X.importInterestCost,T,"",!0)}
            ${B("1.7","Ph lu kho sau TQ",X.postClearanceStorageCost,T,b,!0)}
            ${B("1.8","DV mua hng",X.purchasingServiceFee,T,"",!0)}
            ${B("1.9","Ph VC n bn mua",X.buyerDeliveryFee,T,"",!0)}
            ${B("1.10","Chi ph khc",X.otherInternationalPurchaseCost,T,"",!0)}
            
            ${B("2","Chi ph Bn hng",k,T,"",!1,!0)}
            ${B("2.1","Lng nhn vin bn hng",X.salesStaffSalary,T,"",!0)}
            ${B("2.2","Chi ph khc",X.otherSellingCosts,T,"",!0)}

            ${B("3","Chi ph Qun l doanh nghip",z,T,"",!1,!0)}
            ${B("3.1","Lng nhn vin gin tip",X.indirectStaffSalary,T,"",!0)}
            ${B("3.2","Thu nh",X.rent,T,"",!0)}
            ${B("3.3","in",X.electricity,T,"",!0)}
            ${B("3.4","Nc",X.water,T,"",!0)}
            ${B("3.5","VPP",X.stationery,T,"",!0)}
            ${B("3.6","Khu hao TSC",X.depreciation,T,"",!0)}
            ${B("3.7","Dch v mua ngoi",X.externalServices,T,"",!0)}
            ${B("3.8","Chi ph tin khc",X.otherCashExpenses,T,"",!0)}

            ${B("4","Chi ph Ti chnh",M,T,"",!1,!0)}
            ${B("4.1","Chi ph ti sn, nh gi...",X.financialValuationCost,T,"",!0)}
          </tbody>
          <tfoot class="bg-gray-100 font-bold">
             ${B("","Tng Cng",me,T,"",!1,!1,!0)}
          </tfoot>
        </table>
      </div>
       <div class="flex justify-between items-start mt-12">
            <p class="text-gray-600 text-sm italic">Ngy to bo co: ${p}</p>
            <div class="text-center w-64">
                <p class="font-bold text-gray-800">Ngi lp bo co</p>
                <p class="italic text-sm text-gray-600 mb-12">(K, h tn)</p>
            </div>
          </div>
    </div>
  `,ce=`
    <div class="mb-12 break-after-page">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">BO CO TNG HP THEO SN PHM</h1>
        <div class="overflow-x-auto border rounded-lg">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-100">
                    <tr>
                        ${["STT","Sn phm","Doanh thu","Gi vn hng bn","Li nhun gp","CP Bn hng","CP Qun l","CP Ti chnh","Li nhun trc thu","Thu TNDN","Li rng","Thu GTGT Mua vo","Thu GTGT Bn ra","Thu GTGT Phi np","Tng thu phi np","T l Li rng/Doanh thu"].map(I=>`<th scope="col" class="px-3 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider whitespace-nowrap">${I}</th>`).join("")}
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    ${l.map((I,ie)=>`
                        <tr>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500 text-center">${ie+1}</td>
                            <td class="px-3 py-4 whitespace-nowrap">
                                <div class="text-sm font-medium text-gray-900">${I.code} - ${I.group} - ${I.nameVI}</div>
                                <div class="text-sm text-gray-500">${I.brand}</div>
                            </td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-green-700 text-right">${$(I.calculated.totalRevenue)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${$(I.calculated.totalCOGS)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-blue-700 font-medium text-right">${$(I.calculated.grossProfit)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${$(I.calculated.totalSellingCost)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${$(I.calculated.totalGaCost)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${$(I.calculated.totalFinancialCost)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-purple-700 font-medium text-right">${$(I.calculated.profitBeforeTax)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-red-700 text-right">${$(I.calculated.corporateIncomeTax)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm font-bold text-right ${I.calculated.netProfit&&I.calculated.netProfit<0?"text-red-600":"text-green-600"}">${$(I.calculated.netProfit)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${$(I.calculated.importVAT)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${$(I.calculated.outputVAT)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 font-medium text-right">${$(I.calculated.vatPayable)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-red-700 font-bold text-right">${$(I.calculated.totalTaxPayable)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-right ${I.calculated.netProfitMargin&&I.calculated.netProfitMargin<0?"text-red-600":"text-blue-700"}">${(I.calculated.netProfitMargin??0).toFixed(2)}%</td>
                        </tr>
                    `).join("")}
                </tbody>
                <tfoot class="bg-gray-100 font-bold">
                    <tr>
                        <td class="px-3 py-3 text-left text-sm text-gray-800 uppercase tracking-wider" colSpan="2">Tng cng</td>
                        <td class="px-3 py-3 text-right text-sm text-green-800">${$(r.totalRevenue)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${$(r.totalCOGS)}</td>
                        <td class="px-3 py-3 text-right text-sm text-blue-800">${$(r.grossProfit)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${$(r.totalSellingCost)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${$(r.totalGaCost)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${$(r.totalFinancialCost)}</td>
                        <td class="px-3 py-3 text-right text-sm text-purple-800">${$(r.profitBeforeTax)}</td>
                        <td class="px-3 py-3 text-right text-sm text-red-800">${$(r.corporateIncomeTax)}</td>
                        <td class="px-3 py-3 text-right text-sm ${r.netProfit<0?"text-red-700":"text-green-700"}">${$(r.netProfit)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${$(r.importVAT)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${$(r.outputVAT)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${$(r.vatPayable)}</td>
                        <td class="px-3 py-3 text-right text-sm text-red-800">${$(r.totalTaxPayable)}</td>
                        <td class="px-3 py-3 text-right text-sm font-bold ${d<0?"text-red-700":"text-blue-800"}">${d.toFixed(2)}%</td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
  `,A=`
    <div>
      <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">BO CO K HOCH KINH DOANH CHI TIT</h1>
      ${l.map(I=>`
        <div class="mb-8 p-6 border rounded-lg break-inside-avoid bg-white shadow-sm">
           <h2 class="text-2xl font-semibold text-indigo-700 mb-1">${I.group} - ${I.nameVI} (${I.code})</h2>
           <p class="text-md text-gray-500 mb-2"><strong>Tn ting Anh:</strong> ${I.nameEN}</p>
           <p class="text-md text-gray-500 mb-6"><strong>Thng hiu:</strong> ${I.brand}</p>
           
           <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
             <div class="space-y-4">
                <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Chi ph nhp khu & Thu</h3>
                ${Ue("S lng (Kg)",$(I.userInput.quantityInKg))}
                ${Ue("Gi (USD)/Kg",(I.calculated.priceUSDPerKg||0).toFixed(3))}
                ${Ue("T gi USD/VN",$(t))}
                ${Ue("Gi nhp (USD)",$(I.calculated.importValueUSD))}
                ${Wt("Gi nhp (VN)",$(I.calculated.importValueVND))}
                ${Ue("Thu sut GTGT","5%")}
                ${Ue("T gi USD/VN tnh thu",$(o))}
                ${Wt("Thu GTGT nhp khu",$(I.calculated.importVAT))}
             </div>
             
             <div class="space-y-4">
                <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Chi ph Thng quan & Vn hnh</h3>
                ${Ue("1.1 Ph Hi quan",$(I.userInput.costs.customsFee),!0)}
                ${Ue("1.2 Ph kim dch",$(I.userInput.costs.quarantineFee),!0)}
                ${Ue("1.3 Ph thu Cont",$(I.userInput.costs.containerRentalFee),!0)}
                ${Ue("1.4 Ph lu kho bi cng",$(I.userInput.costs.portStorageFee),!0)}
                ${Ue("1.5 Chi ph chung nhp kho",$(I.calculated.generalWarehouseCost),!0)}
                ${Ue("1.6 Li vay nhp hng",$(I.calculated.importInterestCost),!0)}
                ${Ue("1.7 Ph lu kho sau TQ",$(I.calculated.postClearanceStorageCost),!0)}
                ${Ue("1.8 DV mua hng",$(I.calculated.purchasingServiceFee),!0)}
                ${Ue("1.9 Ph VC n bn mua",$(I.userInput.costs.buyerDeliveryFee),!0)}
                ${Ue("1.10 Chi ph khc",$(I.calculated.otherInternationalPurchaseCost),!0)}
                ${Wt("Tng Chi ph TQ & Kho",$(I.calculated.totalClearanceAndLogisticsCost))}
             </div>
             
             <div class="space-y-4">
                <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Gi vn & Doanh thu</h3>
                ${Ue("Gi nhp (VN)",$(I.calculated.importValueVND))}
                ${Ue("Tng Chi ph TQ & Kho",$(I.calculated.totalClearanceAndLogisticsCost))}
                ${Wt("Tng gi vn hng bn",$(I.calculated.totalCOGS))}
                ${Wt("Gi vn/kg",$(I.calculated.cogsPerKg))}
                 <div class="pt-4">
                    ${Ue("Gi bn/kg (c VAT)",$(I.userInput.sellingPriceVNDPerKg))}
                    ${Ue("Gi bn/kg (ko VAT)",$(I.calculated.sellingPriceExclVAT))}
                    ${Wt("Tng doanh thu",$(I.calculated.totalRevenue))}
                    ${Ue("Thu GTGT u ra (5%)",$(I.calculated.outputVAT))}
                    ${Wt("Thu GTGT phi np",$(I.calculated.vatPayable))}
                 </div>
             </div>
           </div>
           
           <hr class="my-6 border-t-2 rounded"/>

           <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
              <div>
                  <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Chi ph Hot ng</h3>
                  ${Ue("CP Bn hng",$(I.calculated.totalSellingCost))}
                  ${Ue("CP Qun l DN",$(I.calculated.totalGaCost))}
                  ${Ue("CP Ti chnh",$(I.calculated.totalFinancialCost))}
                  ${Wt("Tng chi ph hot ng",$((I.calculated.totalOperatingCost||0)+(I.calculated.totalFinancialCost||0)))}
              </div>
              <div>
                  <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Phn tch Li nhun</h3>
                  ${Ue("Doanh thu",$(I.calculated.totalRevenue))}
                  ${Ue("Gi vn hng bn",`-${$(I.calculated.totalCOGS)}`)}
                  ${Wt("Li nhun gp",$(I.calculated.grossProfit))}
                  ${Ue("Tng chi ph hot ng",`-${$((I.calculated.totalOperatingCost||0)+(I.calculated.totalFinancialCost||0))}`)}
                  ${Wt("Li nhun trc thu",$(I.calculated.profitBeforeTax))}
                  ${Ue("Thu TNDN (20%)",`-${$(I.calculated.corporateIncomeTax)}`)}
                  <div class="mt-2 p-2 rounded-lg bg-green-100">
                    ${Wt("Li rng",$(I.calculated.netProfit))}
                  </div>
              </div>
               <div>
                  <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Phn chia Li nhun</h3>
                  ${Ue("Trch lp d phng (10%)",$(I.calculated.retainedForProvision))}
                  ${Ue("B sung vn KD (60%)",$(I.calculated.retainedForBusiness))}
                  ${Ue("Chia c ng (30%)",$(I.calculated.dividends))}
              </div>
           </div>
        </div>
      `).join("")}
    </div>
  `,V=a?`
    <div class="break-inside-avoid">
      <h1 class="text-3xl font-bold text-center text-gray-800 mb-8 mt-12">PHN TCH & NH GI K HOCH (AI)</h1>
      <div class="analysis-content p-6 border rounded-lg bg-white shadow-sm text-gray-800">
        ${a}
      </div>
    </div>
  `:"";return`
    <!DOCTYPE html>
    <html lang="vi">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Bo co K hoch Kinh doanh</title>
        <script src="https://cdn.tailwindcss.com"><\/script>
        <style>
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            .no-print { display: none; }
            .break-after-page { page-break-after: always; }
            .break-inside-avoid { page-break-inside: avoid; }
          }
          .analysis-content h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5em; margin-bottom: 0.5em; padding-bottom: 0.25em; border-bottom: 1px solid #e5e7eb; color: #1e3a8a; }
          .analysis-content p { margin-bottom: 1em; line-height: 1.6; }
          .analysis-content ul { list-style-position: inside; padding-left: 1em; margin-bottom: 1em; }
          .analysis-content li { margin-bottom: 0.5em; }
          .analysis-content strong { font-weight: 600; color: #1f2937; }
        </style>
    </head>
    <body class="bg-gray-100 font-sans">
      <div class="container mx-auto p-4 sm:p-8 bg-white shadow-lg my-8">
        ${te}
        ${de}
        ${ce}
        ${A}
        ${V}
      </div>
    </body>
    </html>
  `},Ha=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Ru=l=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639l4.43-4.43a1.012 1.012 0 011.431 0l4.43 4.43a1.012 1.012 0 010 .639l-4.43 4.43a1.012 1.012 0 01-1.431 0l-4.43-4.43z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Km=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.75 18l1.197-.398a3.375 3.375 0 002.456-2.456L16.5 14.25l.398 1.197a3.375 3.375 0 002.456 2.456L20.25 18l-1.197.398a3.375 3.375 0 00-2.456 2.456z"})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Vv,Gv;function kv(){return{geminiUrl:Vv,vertexUrl:Gv}}function Hv(l,t,o,a){var r,d;if(!(l!=null&&l.baseUrl)){const p=kv();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return l.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An{}function ue(l,t){const o=/\{([^}]+)\}/g;return l.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(l,t,o){for(let d=0;d<t.length-1;d++){const p=t[d];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in l))if(Array.isArray(o))l[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(l[g])){const v=l[g];if(Array.isArray(o))for(let m=0;m<v.length;m++){const T=v[m];c(T,t.slice(d+1),o[m])}else for(const m of v)c(m,t.slice(d+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in l||(l[g]=[{}]);const v=l[g];c(v[0],t.slice(d+1),o);return}(!l[p]||typeof l[p]!="object")&&(l[p]={}),l=l[p]}const a=t[t.length-1],r=l[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(l,o):l[a]=o}function u(l,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return l;for(let a=0;a<t.length;a++){if(typeof l!="object"||l===null)return o;const r=t[a];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in l){const p=l[d];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else l=l[r]}return l}catch(a){if(a instanceof TypeError)return o;throw a}}function Bv(l,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),d=a.split("."),p=new Set;let g=-1;for(let v=0;v<r.length;v++)if(r[v]==="*"){g=v;break}if(g!==-1&&d.length>g)for(let v=g;v<d.length;v++){const m=d[v];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}vu(l,r,d,0,p)}}function vu(l,t,o,a,r){if(a>=t.length||typeof l!="object"||l===null)return;const d=t[a];if(d.endsWith("[]")){const p=d.slice(0,-2),g=l;if(p in g&&Array.isArray(g[p]))for(const v of g[p])vu(v,t,o,a+1,r)}else if(d==="*"){if(typeof l=="object"&&l!==null&&!Array.isArray(l)){const p=l,g=Object.keys(p).filter(m=>!m.startsWith("_")&&!r.has(m)),v={};for(const m of g)v[m]=p[m];for(const[m,T]of Object.entries(v)){const x=[];for(const C of o.slice(a))C==="*"?x.push(m):x.push(C);c(p,x,T)}for(const m of g)delete p[m]}}else{const p=l;d in p&&vu(p[d],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iu(l){if(typeof l!="string")throw new Error("fromImageBytes must be a string");return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qv(l){const t={},o=u(l,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(l,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function Ov(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],Fv(p)),t}function zv(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response"]);return p!=null&&c(t,["response"],Kv(p)),t}function Fv(l){const t={},o=u(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Yv(p))),c(t,["generatedVideos"],d)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Kv(l){const t={},o=u(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Jv(p))),c(t,["generatedVideos"],d)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Yv(l){const t={},o=u(l,["video"]);return o!=null&&c(t,["video"],jv(o)),t}function Jv(l){const t={},o=u(l,["_self"]);return o!=null&&c(t,["video"],eT(o)),t}function $v(l){const t={},o=u(l,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Qv(l){const t={},o=u(l,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Xv(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response"]);return p!=null&&c(t,["response"],Zv(p)),t}function Zv(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Ym(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response"]);return p!=null&&c(t,["response"],Wv(p)),t}function Wv(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function jv(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Iu(a));const r=u(l,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function eT(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Iu(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zh;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Zh||(Zh={}));var Wh;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(Wh||(Wh={}));var jh;(function(l){l.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT"})(jh||(jh={}));var qe;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL"})(qe||(qe={}));var ep;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(ep||(ep={}));var tp;(function(l){l.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",l.SIMPLE_SEARCH="SIMPLE_SEARCH",l.ELASTIC_SEARCH="ELASTIC_SEARCH"})(tp||(tp={}));var np;(function(l){l.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",l.NO_AUTH="NO_AUTH",l.API_KEY_AUTH="API_KEY_AUTH",l.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",l.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",l.OAUTH="OAUTH",l.OIDC_AUTH="OIDC_AUTH"})(np||(np={}));var lp;(function(l){l.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",l.HTTP_IN_QUERY="HTTP_IN_QUERY",l.HTTP_IN_HEADER="HTTP_IN_HEADER",l.HTTP_IN_PATH="HTTP_IN_PATH",l.HTTP_IN_BODY="HTTP_IN_BODY",l.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(lp||(lp={}));var ip;(function(l){l.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",l.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",l.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",l.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ip||(ip={}));var op;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",l.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",l.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",l.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",l.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(op||(op={}));var ap;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(ap||(ap={}));var sp;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})(sp||(sp={}));var rp;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY",l.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",l.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",l.NO_IMAGE="NO_IMAGE"})(rp||(rp={}));var up;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(up||(up={}));var cp;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(cp||(cp={}));var dp;(function(l){l.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",l.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",l.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",l.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",l.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(dp||(dp={}));var fp;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.IMAGE_SAFETY="IMAGE_SAFETY",l.MODEL_ARMOR="MODEL_ARMOR",l.JAILBREAK="JAILBREAK"})(fp||(fp={}));var hp;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(hp||(hp={}));var ho;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})(ho||(ho={}));var pp;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pp||(pp={}));var mp;(function(l){l.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",l.TUNING_MODE_FULL="TUNING_MODE_FULL",l.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(mp||(mp={}));var gp;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gp||(gp={}));var Tu;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Tu||(Tu={}));var yp;(function(l){l.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",l.TUNING_TASK_I2V="TUNING_TASK_I2V",l.TUNING_TASK_T2V="TUNING_TASK_T2V",l.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yp||(yp={}));var vp;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(vp||(vp={}));var Tp;(function(l){l.UNSPECIFIED="UNSPECIFIED",l.BLOCKING="BLOCKING",l.NON_BLOCKING="NON_BLOCKING"})(Tp||(Tp={}));var xp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(xp||(xp={}));var Sp;(function(l){l.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",l.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Sp||(Sp={}));var Cp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE",l.VALIDATED="VALIDATED"})(Cp||(Cp={}));var Ep;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(Ep||(Ep={}));var _p;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(_p||(_p={}));var Ap;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi",l.zh="zh",l.pt="pt",l.es="es"})(Ap||(Ap={}));var Np;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Np||(Np={}));var bp;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bp||(bp={}));var Mp;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Mp||(Mp={}));var Rp;(function(l){l.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",l.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",l.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",l.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",l.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",l.EDIT_MODE_STYLE="EDIT_MODE_STYLE",l.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",l.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Rp||(Rp={}));var Ip;(function(l){l.FOREGROUND="FOREGROUND",l.BACKGROUND="BACKGROUND",l.PROMPT="PROMPT",l.SEMANTIC="SEMANTIC",l.INTERACTIVE="INTERACTIVE"})(Ip||(Ip={}));var wp;(function(l){l.ASSET="ASSET",l.STYLE="STYLE"})(wp||(wp={}));var Dp;(function(l){l.INSERT="INSERT",l.REMOVE="REMOVE",l.REMOVE_STATIC="REMOVE_STATIC",l.OUTPAINT="OUTPAINT"})(Dp||(Dp={}));var Up;(function(l){l.OPTIMIZED="OPTIMIZED",l.LOSSLESS="LOSSLESS"})(Up||(Up={}));var Lp;(function(l){l.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",l.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Lp||(Lp={}));var Pp;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.STATE_PENDING="STATE_PENDING",l.STATE_ACTIVE="STATE_ACTIVE",l.STATE_FAILED="STATE_FAILED"})(Pp||(Pp={}));var Vp;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(Vp||(Vp={}));var Gp;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(Gp||(Gp={}));var kp;(function(l){l.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.RESPONSE_REJECTED="RESPONSE_REJECTED",l.NEED_MORE_INPUT="NEED_MORE_INPUT"})(kp||(kp={}));var Hp;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(Hp||(Hp={}));var Bp;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Bp||(Bp={}));var qp;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(qp||(qp={}));var Op;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(Op||(Op={}));var zp;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zp||(zp={}));var Fp;(function(l){l.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",l.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",l.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",l.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",l.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",l.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",l.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",l.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",l.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",l.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",l.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",l.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",l.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Fp||(Fp={}));var Kp;(function(l){l.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",l.QUALITY="QUALITY",l.DIVERSITY="DIVERSITY",l.VOCALIZATION="VOCALIZATION"})(Kp||(Kp={}));var ai;(function(l){l.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",l.PLAY="PLAY",l.PAUSE="PAUSE",l.STOP="STOP",l.RESET_CONTEXT="RESET_CONTEXT"})(ai||(ai={}));class xu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class uo{get text(){var t,o,a,r,d,p,g,v;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",T=!1;const x=[];for(const C of(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[_,M]of Object.entries(C))_!=="text"&&_!=="thought"&&(M!==null||M!==void 0)&&x.push(_);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;T=!0,m+=C.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?m:void 0}get data(){var t,o,a,r,d,p,g,v;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const T=[];for(const x of(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[C,_]of Object.entries(x))C!=="inlineData"&&(_!==null||_!==void 0)&&T.push(C);x.inlineData&&typeof x.inlineData.data=="string"&&(m+=atob(x.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,a,r,d,p,g,v;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,o,a,r,d,p,g,v,m;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((T==null?void 0:T.length)!==0)return(m=T==null?void 0:T[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,a,r,d,p,g,v,m;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(v=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((T==null?void 0:T.length)!==0)return(m=T==null?void 0:T[0])===null||m===void 0?void 0:m.output}}class Yp{}class Jp{}class tT{}class nT{}class lT{}class iT{}class $p{}class Qp{}class Xp{}class oT{}class Ba{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ba;let r;const d=t;return o?r=zv(d):r=Ov(d),Object.assign(a,r),a}}class Zp{}class Wp{}class jp{}class aT{}class sT{}class rT{}class wu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new wu,d=Xv(t);return Object.assign(a,d),a}}class uT{}class cT{}class dT{}class em{}class fT{get text(){var t,o,a;let r="",d=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[v,m]of Object.entries(g))v!=="text"&&v!=="thought"&&m!==null&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,o,a;let r="";const d=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&v!==null&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class hT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Du{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Du,d=Ym(t);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function we(l,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(l.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Jm(l,t){const o=we(l,t);return o?o.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}`:o.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${o}`:o:""}function $m(l){return Array.isArray(l)?l.map(t=>qa(t)):[qa(l)]}function qa(l){if(typeof l=="object"&&l!==null)return l;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof l}`)}function Qm(l){const t=qa(l);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Xm(l){const t=qa(l);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function tm(l){if(l==null)throw new Error("PartUnion is required");if(typeof l=="object")return l;if(typeof l=="string")return{text:l};throw new Error(`Unsupported part type: ${typeof l}`)}function Zm(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("PartListUnion is required");return Array.isArray(l)?l.map(t=>tm(t)):[tm(l)]}function Su(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function nm(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function lm(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function yt(l){if(l==null)throw new Error("ContentUnion is required");return Su(l)?l:{role:"user",parts:Zm(l)}}function Uu(l,t){if(!t)return[];if(l.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=yt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(l.isVertexAI()){const o=yt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>yt(o)):[yt(t)]}function $t(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("contents are required");if(!Array.isArray(l)){if(nm(l)||lm(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yt(l)]}const t=[],o=[],a=Su(l[0]);for(const r of l){const d=Su(r);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(nm(r)||lm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:Zm(o)}),t}function pT(l,t){l.includes("null")&&(t.nullable=!0);const o=l.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(qe).includes(o[0].toUpperCase())?o[0].toUpperCase():qe.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(qe).includes(a.toUpperCase())?a.toUpperCase():qe.TYPE_UNSPECIFIED})}}function si(l){const t={},o=["items"],a=["anyOf"],r=["properties"];if(l.type&&l.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=l.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,l=d[1]):d[1].type==="null"&&(t.nullable=!0,l=d[0])),l.type instanceof Array&&pT(l.type,t);for(const[p,g]of Object.entries(l))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(qe).includes(g.toUpperCase())?g.toUpperCase():qe.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=si(g);else if(a.includes(p)){const v=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}v.push(si(m))}t[p]=v}else if(r.includes(p)){const v={};for(const[m,T]of Object.entries(g))v[m]=si(T);t[p]=v}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Lu(l){return si(l)}function Pu(l){if(typeof l=="object")return l;if(typeof l=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:l}}};throw new Error(`Unsupported speechConfig type: ${typeof l}`)}function Vu(l){if("multiSpeakerVoiceConfig"in l)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return l}function ci(l){if(l.functionDeclarations)for(const t of l.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=si(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=si(t.response));return l}function di(l){if(l==null)throw new Error("tools is required");if(!Array.isArray(l))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of l)t.push(o);return t}function mT(l,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return l.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${l.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${t}`:r?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Nn(l,t){if(typeof t!="string")throw new Error("name must be a string");return mT(l,t,"cachedContents")}function Wm(l){switch(l){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return l}}function Wn(l){return Iu(l)}function gT(l){return l!=null&&typeof l=="object"&&"name"in l}function yT(l){return l!=null&&typeof l=="object"&&"video"in l}function vT(l){return l!=null&&typeof l=="object"&&"uri"in l}function jm(l){var t;let o;if(gT(l)&&(o=l.name),!(vT(l)&&(o=l.uri,o===void 0))&&!(yT(l)&&(o=(t=l.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof l=="string"&&(o=l),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function eg(l,t){let o;return l.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function tg(l){for(const t of["models","tunedModels","publisherModels"])if(TT(l,t))return l[t];return[]}function TT(l,t){return l!==null&&typeof l=="object"&&t in l}function xT(l,t={}){const o=l,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function ST(l,t={}){const o=[],a=new Set;for(const r of l){const d=r.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const p=xT(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function ng(l,t){let o;if(typeof t=="string")if(l.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(l.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(l.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function CT(l){if(typeof l!="string")return l;const t=l;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function lg(l){if(typeof l!="object"||l===null)return{};const t=l,o=t.inlinedResponses;if(typeof o!="object"||o===null)return l;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return l;let d=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const v=p.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),l}function fi(l,t){const o=t;if(!l.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function ig(l){const t=l;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ET(l){const t={},o=u(l,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(l,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>ex(p))),c(t,["inlinedResponses"],d)}const r=u(l,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["inlinedEmbedContentResponses"],d)}return t}function _T(l){const t={},o=u(l,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(l,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(l,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function AT(l){const t={},o=u(l,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(l,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(l,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(l,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Va(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["metadata","state"]);r!=null&&c(t,["state"],ig(r));const d=u(l,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const p=u(l,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(l,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const v=u(l,["metadata","model"]);v!=null&&c(t,["model"],v);const m=u(l,["metadata","output"]);return m!=null&&c(t,["dest"],ET(lg(m))),t}function Cu(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["state"]);r!=null&&c(t,["state"],ig(r));const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(l,["startTime"]);g!=null&&c(t,["startTime"],g);const v=u(l,["endTime"]);v!=null&&c(t,["endTime"],v);const m=u(l,["updateTime"]);m!=null&&c(t,["updateTime"],m);const T=u(l,["model"]);T!=null&&c(t,["model"],T);const x=u(l,["inputConfig"]);x!=null&&c(t,["src"],NT(x));const C=u(l,["outputConfig"]);C!=null&&c(t,["dest"],_T(lg(C)));const _=u(l,["completionStats"]);return _!=null&&c(t,["completionStats"],_),t}function NT(l){const t={},o=u(l,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(l,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(l,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function bT(l,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>jT(l,p))),c(o,["requests","requests"],d)}return o}function MT(l){const t={},o=u(l,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(l,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(l,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function RT(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function IT(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function wT(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function DT(l){const t={},o=u(l,["content"]);o!=null&&c(t,["content"],o);const a=u(l,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],UT(a));const r=u(l,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(l,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(l,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(l,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const v=u(l,["index"]);v!=null&&c(t,["index"],v);const m=u(l,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const T=u(l,["safetyRatings"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(_=>_)),c(t,["safetyRatings"],C)}const x=u(l,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function UT(l){const t={},o=u(l,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function og(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>sx(d))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function LT(l,t){const o={},a=u(l,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(l,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function PT(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],AT(CT(r))),o}function im(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],bT(l,ng(l,r)));const d=u(t,["config"]);return d!=null&&LT(d,o),o}function VT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],we(l,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],MT(ng(l,r)));const d=u(t,["config"]);return d!=null&&PT(d,o),o}function GT(l,t){const o={},a=u(l,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function kT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],KT(l,r));const d=u(t,["config"]);return d!=null&&GT(d,o),o}function HT(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function BT(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function qT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);return d!=null&&c(t,["error"],d),t}function OT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);return d!=null&&c(t,["error"],d),t}function zT(l,t){const o={},a=u(t,["contents"]);if(a!=null){let d=Uu(l,a);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],FT(r,o)),Bv(o,{"requests[].*":"requests[].request.*"})),o}function FT(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(l,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function KT(l,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],zT(l,r)),o}function YT(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function JT(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],og(yt(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const T=u(t,["stopSequences"]);T!=null&&c(a,["stopSequences"],T);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const C=u(t,["logprobs"]);C!=null&&c(a,["logprobs"],C);const _=u(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const k=u(t,["responseMimeType"]);k!=null&&c(a,["responseMimeType"],k);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Lu(z));const F=u(t,["responseJsonSchema"]);if(F!=null&&c(a,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let X=O;Array.isArray(X)&&(X=X.map(oe=>rx(oe))),c(o,["safetySettings"],X)}const le=u(t,["tools"]);if(o!==void 0&&le!=null){let X=di(le);Array.isArray(X)&&(X=X.map(oe=>ux(ci(oe)))),c(o,["tools"],X)}const ee=u(t,["toolConfig"]);if(o!==void 0&&ee!=null&&c(o,["toolConfig"],ee),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=u(t,["cachedContent"]);o!==void 0&&U!=null&&c(o,["cachedContent"],Nn(l,U));const J=u(t,["responseModalities"]);J!=null&&c(a,["responseModalities"],J);const se=u(t,["mediaResolution"]);se!=null&&c(a,["mediaResolution"],se);const G=u(t,["speechConfig"]);if(G!=null&&c(a,["speechConfig"],Pu(G)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=u(t,["thinkingConfig"]);ne!=null&&c(a,["thinkingConfig"],ne);const te=u(t,["imageConfig"]);return te!=null&&c(a,["imageConfig"],te),a}function $T(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(m=>DT(m))),c(t,["candidates"],v)}const r=u(l,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(l,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(l,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(l,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function QT(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function XT(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function ZT(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function WT(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function jT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],we(l,a));const r=u(t,["contents"]);if(r!=null){let g=$t(r);Array.isArray(g)&&(g=g.map(v=>og(v))),c(o,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],JT(l,p,u(o,["request"],{}))),o}function ex(l){const t={},o=u(l,["response"]);o!=null&&c(t,["response"],$T(o));const a=u(l,["error"]);return a!=null&&c(t,["error"],a),t}function tx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(l,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function nx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(l,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),o}function lx(l){const t={},o=u(l,["config"]);return o!=null&&tx(o,t),t}function ix(l){const t={},o=u(l,["config"]);return o!=null&&nx(o,t),t}function ox(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Va(p))),c(t,["batchJobs"],d)}return t}function ax(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Cu(p))),c(t,["batchJobs"],d)}return t}function sx(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(t,["fileData"],YT(d));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(t,["inlineData"],RT(g));const v=u(l,["text"]);v!=null&&c(t,["text"],v);const m=u(l,["thought"]);m!=null&&c(t,["thought"],m);const T=u(l,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const x=u(l,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function rx(l){const t={},o=u(l,["category"]);if(o!=null&&c(t,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(l,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function ux(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(t,["functionDeclarations"],T)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],ZT(g));const v=u(l,["googleSearch"]);v!=null&&c(t,["googleSearch"],WT(v));const m=u(l,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _n;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents",l.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",l.PAGED_ITEM_DOCUMENTS="documents"})(_n||(_n={}));class Sl{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,d;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cx extends An{constructor(t){super(),this.apiClient=t,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new Sl(_n.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}createInlinedGenerateContentRequest(t){const o=im(this.apiClient,t),a=o._url,r=ue("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,v=g.requests,m=[];for(const T of v){const x=Object.assign({},T);if(x.systemInstruction){const C=x.systemInstruction;delete x.systemInstruction;const _=x.request;_.systemInstruction=C,x.request=_}m.push(x)}return g.requests=m,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const d=this.getGcsUri(t),p=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=VT(this.apiClient,t);return g=ue("batchPredictionJobs",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>Cu(T))}else{const m=im(this.apiClient,t);return g=ue("{model}:batchGenerateContent",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>Va(T))}}async createEmbeddingsInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=kT(this.apiClient,t);return d=ue("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>Va(v))}}async get(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=XT(this.apiClient,t);return g=ue("batchPredictionJobs/{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>Cu(T))}else{const m=QT(this.apiClient,t);return g=ue("batches/{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>Va(T))}}async cancel(t){var o,a,r,d;let p="",g={};if(this.apiClient.isVertexAI()){const v=wT(this.apiClient,t);p=ue("batchPredictionJobs/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const v=IT(this.apiClient,t);p=ue("batches/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=ix(t);return g=ue("batchPredictionJobs",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=ax(T),C=new em;return Object.assign(C,x),C})}else{const m=lx(t);return g=ue("batches",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=ox(T),C=new em;return Object.assign(C,x),C})}}async delete(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=BT(this.apiClient,t);return g=ue("batchPredictionJobs/{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>OT(T))}else{const m=HT(this.apiClient,t);return g=ue("batches/{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>qT(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dx(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function om(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>Dx(d))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function fx(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(l,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(l,["contents"]);if(t!==void 0&&p!=null){let T=$t(p);Array.isArray(T)&&(T=T.map(x=>om(x))),c(t,["contents"],T)}const g=u(l,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],om(yt(g)));const v=u(l,["tools"]);if(t!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(x=>Ux(x))),c(t,["tools"],T)}const m=u(l,["toolConfig"]);if(t!==void 0&&m!=null&&c(t,["toolConfig"],m),u(l,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function hx(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(l,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(l,["contents"]);if(t!==void 0&&p!=null){let x=$t(p);Array.isArray(x)&&(x=x.map(C=>C)),c(t,["contents"],x)}const g=u(l,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],yt(g));const v=u(l,["tools"]);if(t!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(C=>Lx(C))),c(t,["tools"],x)}const m=u(l,["toolConfig"]);t!==void 0&&m!=null&&c(t,["toolConfig"],m);const T=u(l,["kmsKeyName"]);return t!==void 0&&T!=null&&c(t,["encryption_spec","kmsKeyName"],T),o}function px(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Jm(l,a));const r=u(t,["config"]);return r!=null&&fx(r,o),o}function mx(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Jm(l,a));const r=u(t,["config"]);return r!=null&&hx(r,o),o}function gx(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Nn(l,a)),o}function yx(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Nn(l,a)),o}function vx(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Tx(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function xx(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Sx(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function Cx(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Nn(l,a)),o}function Ex(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Nn(l,a)),o}function _x(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function Ax(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function Nx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function bx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function Mx(l){const t={},o=u(l,["config"]);return o!=null&&Nx(o,t),t}function Rx(l){const t={},o=u(l,["config"]);return o!=null&&bx(o,t),t}function Ix(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function wx(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function Dx(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(t,["fileData"],xx(d));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(t,["inlineData"],dx(g));const v=u(l,["text"]);v!=null&&c(t,["text"],v);const m=u(l,["thought"]);m!=null&&c(t,["thought"],m);const T=u(l,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const x=u(l,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function Ux(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(t,["functionDeclarations"],T)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],_x(g));const v=u(l,["googleSearch"]);v!=null&&c(t,["googleSearch"],Ax(v));const m=u(l,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function Lx(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(C=>Sx(C))),c(t,["functionDeclarations"],x)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(l,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const v=u(l,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const m=u(l,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const T=u(l,["urlContext"]);return T!=null&&c(t,["urlContext"],T),t}function Px(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function Vx(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function Gx(l,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],Nn(l,a));const r=u(t,["config"]);return r!=null&&Px(r,o),o}function kx(l,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],Nn(l,a));const r=u(t,["config"]);return r!=null&&Vx(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hx extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Sl(_n.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=mx(this.apiClient,t);return g=ue("cachedContents",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const m=px(this.apiClient,t);return g=ue("cachedContents",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async get(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=Ex(this.apiClient,t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const m=Cx(this.apiClient,t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async delete(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=yx(this.apiClient,t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=Tx(T),C=new Wp;return Object.assign(C,x),C})}else{const m=gx(this.apiClient,t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=vx(T),C=new Wp;return Object.assign(C,x),C})}}async update(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=kx(this.apiClient,t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const m=Gx(this.apiClient,t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async listInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=Rx(t);return g=ue("cachedContents",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=wx(T),C=new jp;return Object.assign(C,x),C})}else{const m=Mx(t);return g=ue("cachedContents",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=Ix(T),C=new jp;return Object.assign(C,x),C})}}}function am(l){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&l[t],a=0;if(o)return o.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&a>=l.length&&(l=void 0),{value:l&&l[a++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Je(l){return this instanceof Je?(this.v=l,this):new Je(l)}function ri(l,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(l,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(_){return function(M){return Promise.resolve(M).then(_,x)}}function g(_,M){a[_]&&(r[_]=function(w){return new Promise(function(k,z){d.push([_,w,k,z])>1||v(_,w)})},M&&(r[_]=M(r[_])))}function v(_,M){try{m(a[_](M))}catch(w){C(d[0][3],w)}}function m(_){_.value instanceof Je?Promise.resolve(_.value.v).then(T,x):C(d[0][2],_)}function T(_){v("next",_)}function x(_){v("throw",_)}function C(_,M){_(M),d.shift(),d.length&&v(d[0][0],d[0][1])}}function co(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=l[Symbol.asyncIterator],o;return t?t.call(l):(l=typeof am=="function"?am(l):l[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=l[d]&&function(p){return new Promise(function(g,v){p=l[d](p),r(g,v,p.done,p.value)})}}function r(d,p,g,v){Promise.resolve(v).then(function(m){d({value:m,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bx(l){var t;if(l.candidates==null||l.candidates.length===0)return!1;const o=(t=l.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:ag(o)}function ag(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const t of l.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function qx(l){if(l.length!==0){for(const t of l)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function sm(l){if(l===void 0||l.length===0)return[];const t=[],o=l.length;let a=0;for(;a<o;)if(l[a].role==="user")t.push(l[a]),a++;else{const r=[];let d=!0;for(;a<o&&l[a].role==="model";)r.push(l[a]),d&&!ag(l[a])&&(d=!1),a++;d?t.push(...r):t.pop()}return t}class Ox{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new zx(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class zx{constructor(t,o,a,r={},d=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),qx(d)}async sendMessage(t){var o;await this.sendPromise;const a=yt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,g;const v=await r,m=(p=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,T=v.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let C=[];T!=null&&(C=(g=T.slice(x))!==null&&g!==void 0?g:[]);const _=m?[m]:[];this.recordHistory(a,_,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=yt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,a)}getHistory(t=!1){const o=t?sm(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){var a,r;return ri(this,arguments,function*(){var p,g,v,m;const T=[];try{for(var x=!0,C=co(t),_;_=yield Je(C.next()),p=_.done,!p;x=!0){m=_.value,x=!1;const M=m;if(Bx(M)){const w=(r=(a=M.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;w!==void 0&&T.push(w)}yield yield Je(M)}}catch(M){g={error:M}}finally{try{!x&&!p&&(v=C.return)&&(yield Je(v.call(C)))}finally{if(g)throw g.error}}this.recordHistory(o,T)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...sm(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ka extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ka.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fx(l){const t={},o=u(l,["file"]);return o!=null&&c(t,["file"],o),t}function Kx(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Yx(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","file"],jm(o)),t}function Jx(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function $x(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","file"],jm(o)),t}function Qx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function Xx(l){const t={},o=u(l,["config"]);return o!=null&&Qx(o,t),t}function Zx(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wx extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Sl(_n.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Xx(t);return d=ue("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:v.headers},T})),r.then(v=>{const m=Zx(v),T=new uT;return Object.assign(T,m),T})}}async createInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Fx(t);return d=ue("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const m=Kx(v),T=new cT;return Object.assign(T,m),T})}}async get(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$x(t);return d=ue("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Yx(t);return d=ue("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:v.headers},T})),r.then(v=>{const m=Jx(v),T=new dT;return Object.assign(T,m),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ga(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function jx(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>pS(d))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function eS(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function tS(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function nS(l){const t={},o=u(l,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(l,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(l,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(l,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(l,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(l,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const v=u(l,["logprobs"]);v!=null&&c(t,["logprobs"],v);const m=u(l,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const T=u(l,["mediaResolution"]);T!=null&&c(t,["mediaResolution"],T);const x=u(l,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const C=u(l,["responseLogprobs"]);C!=null&&c(t,["responseLogprobs"],C);const _=u(l,["responseMimeType"]);_!=null&&c(t,["responseMimeType"],_);const M=u(l,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const w=u(l,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const k=u(l,["routingConfig"]);k!=null&&c(t,["routingConfig"],k);const z=u(l,["seed"]);z!=null&&c(t,["seed"],z);const F=u(l,["speechConfig"]);F!=null&&c(t,["speechConfig"],sg(F));const O=u(l,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const le=u(l,["temperature"]);le!=null&&c(t,["temperature"],le);const ee=u(l,["thinkingConfig"]);ee!=null&&c(t,["thinkingConfig"],ee);const U=u(l,["topK"]);U!=null&&c(t,["topK"],U);const J=u(l,["topP"]);if(J!=null&&c(t,["topP"],J),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function lS(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function iS(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function oS(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(l,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const m=u(l,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const T=u(l,["seed"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","seed"],T);const x=u(l,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Vu(x));const C=u(l,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const _=u(l,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const M=u(l,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],jx(yt(M)));const w=u(l,["tools"]);if(t!==void 0&&w!=null){let U=di(w);Array.isArray(U)&&(U=U.map(J=>gS(ci(J)))),c(t,["setup","tools"],U)}const k=u(l,["sessionResumption"]);t!==void 0&&k!=null&&c(t,["setup","sessionResumption"],mS(k));const z=u(l,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(l,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const O=u(l,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const le=u(l,["contextWindowCompression"]);t!==void 0&&le!=null&&c(t,["setup","contextWindowCompression"],le);const ee=u(l,["proactivity"]);return t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee),o}function aS(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],nS(a));const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(l,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const m=u(l,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const T=u(l,["seed"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","seed"],T);const x=u(l,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],sg(Vu(x)));const C=u(l,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const _=u(l,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const M=u(l,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],yt(M));const w=u(l,["tools"]);if(t!==void 0&&w!=null){let U=di(w);Array.isArray(U)&&(U=U.map(J=>yS(ci(J)))),c(t,["setup","tools"],U)}const k=u(l,["sessionResumption"]);t!==void 0&&k!=null&&c(t,["setup","sessionResumption"],k);const z=u(l,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(l,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const O=u(l,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const le=u(l,["contextWindowCompression"]);t!==void 0&&le!=null&&c(t,["setup","contextWindowCompression"],le);const ee=u(l,["proactivity"]);return t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee),o}function sS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],we(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],oS(r,o)),o}function rS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],we(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],aS(r,o)),o}function uS(l){const t={},o=u(l,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function cS(l){const t={},o=u(l,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function dS(l){const t={},o=u(l,["media"]);if(o!=null){let m=$m(o);Array.isArray(m)&&(m=m.map(T=>Ga(T))),c(t,["mediaChunks"],m)}const a=u(l,["audio"]);a!=null&&c(t,["audio"],Ga(Xm(a)));const r=u(l,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(l,["video"]);d!=null&&c(t,["video"],Ga(Qm(d)));const p=u(l,["text"]);p!=null&&c(t,["text"],p);const g=u(l,["activityStart"]);g!=null&&c(t,["activityStart"],g);const v=u(l,["activityEnd"]);return v!=null&&c(t,["activityEnd"],v),t}function fS(l){const t={},o=u(l,["media"]);if(o!=null){let m=$m(o);Array.isArray(m)&&(m=m.map(T=>T)),c(t,["mediaChunks"],m)}const a=u(l,["audio"]);a!=null&&c(t,["audio"],Xm(a));const r=u(l,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(l,["video"]);d!=null&&c(t,["video"],Qm(d));const p=u(l,["text"]);p!=null&&c(t,["text"],p);const g=u(l,["activityStart"]);g!=null&&c(t,["activityStart"],g);const v=u(l,["activityEnd"]);return v!=null&&c(t,["activityEnd"],v),t}function hS(l){const t={},o=u(l,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(l,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(l,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(l,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const p=u(l,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],vS(p));const g=u(l,["goAway"]);g!=null&&c(t,["goAway"],g);const v=u(l,["sessionResumptionUpdate"]);return v!=null&&c(t,["sessionResumptionUpdate"],v),t}function pS(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(t,["fileData"],eS(d));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(t,["inlineData"],Ga(g));const v=u(l,["text"]);v!=null&&c(t,["text"],v);const m=u(l,["thought"]);m!=null&&c(t,["thought"],m);const T=u(l,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const x=u(l,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function mS(l){const t={},o=u(l,["handle"]);if(o!=null&&c(t,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function sg(l){const t={},o=u(l,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=u(l,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function gS(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(t,["functionDeclarations"],T)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],lS(g));const v=u(l,["googleSearch"]);v!=null&&c(t,["googleSearch"],iS(v));const m=u(l,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function yS(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(C=>tS(C))),c(t,["functionDeclarations"],x)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(l,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const v=u(l,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const m=u(l,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const T=u(l,["urlContext"]);return T!=null&&c(t,["urlContext"],T),t}function vS(l){const t={},o=u(l,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(l,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(l,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(l,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const p=u(l,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(l,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const v=u(l,["promptTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(M=>M)),c(t,["promptTokensDetails"],_)}const m=u(l,["cacheTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(M=>M)),c(t,["cacheTokensDetails"],_)}const T=u(l,["candidatesTokensDetails"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(M=>M)),c(t,["responseTokensDetails"],_)}const x=u(l,["toolUsePromptTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(M=>M)),c(t,["toolUsePromptTokensDetails"],_)}const C=u(l,["trafficType"]);return C!=null&&c(t,["trafficType"],C),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TS(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function xS(l){const t={},o=u(l,["content"]);o!=null&&c(t,["content"],o);const a=u(l,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],SS(a));const r=u(l,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(l,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(l,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(l,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const v=u(l,["index"]);v!=null&&c(t,["index"],v);const m=u(l,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const T=u(l,["safetyRatings"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(_=>_)),c(t,["safetyRatings"],C)}const x=u(l,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function SS(l){const t={},o=u(l,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function CS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["contents"]);if(r!=null){let d=$t(r);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["contents"],d)}return o}function ES(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function _S(l){const t={},o=u(l,["values"]);o!=null&&c(t,["values"],o);const a=u(l,["statistics"]);return a!=null&&c(t,["statistics"],AS(a)),t}function AS(l){const t={},o=u(l,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(l,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Ya(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>IC(d))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function NS(l){const t={},o=u(l,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(l,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function bS(l){const t={};if(u(l,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(l,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(l,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function MS(l,t){const o={},a=u(l,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],yt(a));const r=u(l,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>fg(g))),c(t,["tools"],p)}const d=u(l,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],yC(d)),o}function RS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["contents"]);if(r!=null){let p=$t(r);Array.isArray(p)&&(p=p.map(g=>Ya(g))),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&bS(d),o}function IS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["contents"]);if(r!=null){let p=$t(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&MS(d,o),o}function wS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(l,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function DS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function US(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],we(l,a)),o}function LS(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],we(l,a)),o}function PS(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function VS(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function GS(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(l,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(l,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(l,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const v=u(l,["seed"]);t!==void 0&&v!=null&&c(t,["parameters","seed"],v);const m=u(l,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const T=u(l,["personGeneration"]);t!==void 0&&T!=null&&c(t,["parameters","personGeneration"],T);const x=u(l,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const C=u(l,["includeRaiReason"]);t!==void 0&&C!=null&&c(t,["parameters","includeRaiReason"],C);const _=u(l,["language"]);t!==void 0&&_!=null&&c(t,["parameters","language"],_);const M=u(l,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const w=u(l,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const k=u(l,["addWatermark"]);t!==void 0&&k!=null&&c(t,["parameters","addWatermark"],k);const z=u(l,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const F=u(l,["editMode"]);t!==void 0&&F!=null&&c(t,["parameters","editMode"],F);const O=u(l,["baseSteps"]);return t!==void 0&&O!=null&&c(t,["parameters","editConfig","baseSteps"],O),o}function kS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>VC(v))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&GS(p,o),o}function HS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Ja(d))),c(t,["generatedImages"],r)}return t}function BS(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(l,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function qS(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(l,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const p=u(l,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(l,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function OS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["contents"]);if(r!=null){let g=Uu(l,r);Array.isArray(g)&&(g=g.map(v=>v)),c(o,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&BS(d,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],we(l,p)),o}function zS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["contents"]);if(r!=null){let p=Uu(l,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const d=u(t,["config"]);return d!=null&&qS(d,o),o}function FS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["embeddings"],d)}const r=u(l,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function KS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>_S(p))),c(t,["embeddings"],d)}const r=u(l,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function YS(l){const t={},o=u(l,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(l,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function JS(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function $S(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function QS(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Ya(yt(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const T=u(t,["stopSequences"]);T!=null&&c(a,["stopSequences"],T);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const C=u(t,["logprobs"]);C!=null&&c(a,["logprobs"],C);const _=u(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const k=u(t,["responseMimeType"]);k!=null&&c(a,["responseMimeType"],k);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Lu(z));const F=u(t,["responseJsonSchema"]);if(F!=null&&c(a,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let X=O;Array.isArray(X)&&(X=X.map(oe=>GC(oe))),c(o,["safetySettings"],X)}const le=u(t,["tools"]);if(o!==void 0&&le!=null){let X=di(le);Array.isArray(X)&&(X=X.map(oe=>zC(ci(oe)))),c(o,["tools"],X)}const ee=u(t,["toolConfig"]);if(o!==void 0&&ee!=null&&c(o,["toolConfig"],ee),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=u(t,["cachedContent"]);o!==void 0&&U!=null&&c(o,["cachedContent"],Nn(l,U));const J=u(t,["responseModalities"]);J!=null&&c(a,["responseModalities"],J);const se=u(t,["mediaResolution"]);se!=null&&c(a,["mediaResolution"],se);const G=u(t,["speechConfig"]);if(G!=null&&c(a,["speechConfig"],Pu(G)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=u(t,["thinkingConfig"]);ne!=null&&c(a,["thinkingConfig"],ne);const te=u(t,["imageConfig"]);return te!=null&&c(a,["imageConfig"],te),a}function XS(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],yt(r));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const T=u(t,["stopSequences"]);T!=null&&c(a,["stopSequences"],T);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const C=u(t,["logprobs"]);C!=null&&c(a,["logprobs"],C);const _=u(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const k=u(t,["responseMimeType"]);k!=null&&c(a,["responseMimeType"],k);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Lu(z));const F=u(t,["responseJsonSchema"]);F!=null&&c(a,["responseJsonSchema"],F);const O=u(t,["routingConfig"]);O!=null&&c(a,["routingConfig"],O);const le=u(t,["modelSelectionConfig"]);le!=null&&c(a,["modelConfig"],le);const ee=u(t,["safetySettings"]);if(o!==void 0&&ee!=null){let b=ee;Array.isArray(b)&&(b=b.map(B=>B)),c(o,["safetySettings"],b)}const U=u(t,["tools"]);if(o!==void 0&&U!=null){let b=di(U);Array.isArray(b)&&(b=b.map(B=>fg(ci(B)))),c(o,["tools"],b)}const J=u(t,["toolConfig"]);o!==void 0&&J!=null&&c(o,["toolConfig"],J);const se=u(t,["labels"]);o!==void 0&&se!=null&&c(o,["labels"],se);const G=u(t,["cachedContent"]);o!==void 0&&G!=null&&c(o,["cachedContent"],Nn(l,G));const ne=u(t,["responseModalities"]);ne!=null&&c(a,["responseModalities"],ne);const te=u(t,["mediaResolution"]);te!=null&&c(a,["mediaResolution"],te);const X=u(t,["speechConfig"]);X!=null&&c(a,["speechConfig"],dg(Pu(X)));const oe=u(t,["audioTimestamp"]);oe!=null&&c(a,["audioTimestamp"],oe);const me=u(t,["thinkingConfig"]);me!=null&&c(a,["thinkingConfig"],me);const he=u(t,["imageConfig"]);return he!=null&&c(a,["imageConfig"],he),a}function rm(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["contents"]);if(r!=null){let p=$t(r);Array.isArray(p)&&(p=p.map(g=>Ya(g))),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],QS(l,d,o)),o}function um(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["contents"]);if(r!=null){let p=$t(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],XS(l,d,o)),o}function cm(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(m=>xS(m))),c(t,["candidates"],v)}const r=u(l,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(l,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(l,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(l,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function dm(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(T=>T)),c(t,["candidates"],m)}const r=u(l,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(l,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const p=u(l,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(l,["responseId"]);g!=null&&c(t,["responseId"],g);const v=u(l,["usageMetadata"]);return v!=null&&c(t,["usageMetadata"],v),t}function ZS(l,t){const o={};if(u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(l,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(l,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(l,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(l,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const v=u(l,["includeSafetyAttributes"]);t!==void 0&&v!=null&&c(t,["parameters","includeSafetyAttributes"],v);const m=u(l,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const T=u(l,["language"]);t!==void 0&&T!=null&&c(t,["parameters","language"],T);const x=u(l,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const C=u(l,["outputCompressionQuality"]);if(t!==void 0&&C!=null&&c(t,["parameters","outputOptions","compressionQuality"],C),u(l,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=u(l,["imageSize"]);if(t!==void 0&&_!=null&&c(t,["parameters","sampleImageSize"],_),u(l,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function WS(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(l,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(l,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(l,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const v=u(l,["seed"]);t!==void 0&&v!=null&&c(t,["parameters","seed"],v);const m=u(l,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const T=u(l,["personGeneration"]);t!==void 0&&T!=null&&c(t,["parameters","personGeneration"],T);const x=u(l,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const C=u(l,["includeRaiReason"]);t!==void 0&&C!=null&&c(t,["parameters","includeRaiReason"],C);const _=u(l,["language"]);t!==void 0&&_!=null&&c(t,["parameters","language"],_);const M=u(l,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const w=u(l,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const k=u(l,["addWatermark"]);t!==void 0&&k!=null&&c(t,["parameters","addWatermark"],k);const z=u(l,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const F=u(l,["imageSize"]);t!==void 0&&F!=null&&c(t,["parameters","sampleImageSize"],F);const O=u(l,["enhancePrompt"]);return t!==void 0&&O!=null&&c(t,["parameters","enhancePrompt"],O),o}function jS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&ZS(d,o),o}function eC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&WS(d,o),o}function tC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>hC(p))),c(t,["generatedImages"],d)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],ug(r)),t}function nC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Ja(p))),c(t,["generatedImages"],d)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],cg(r)),t}function lC(l,t){const o={},a=u(l,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(l,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(l,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const p=u(l,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(l,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(l,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=u(l,["negativePrompt"]);t!==void 0&&v!=null&&c(t,["parameters","negativePrompt"],v);const m=u(l,["enhancePrompt"]);if(t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m),u(l,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=u(l,["lastFrame"]);t!==void 0&&T!=null&&c(t,["instances[0]","lastFrame"],$a(T));const x=u(l,["referenceImages"]);if(t!==void 0&&x!=null){let C=x;Array.isArray(C)&&(C=C.map(_=>nE(_))),c(t,["instances[0]","referenceImages"],C)}if(u(l,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(l,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function iC(l,t){const o={},a=u(l,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(l,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const p=u(l,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(l,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const v=u(l,["aspectRatio"]);t!==void 0&&v!=null&&c(t,["parameters","aspectRatio"],v);const m=u(l,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const T=u(l,["personGeneration"]);t!==void 0&&T!=null&&c(t,["parameters","personGeneration"],T);const x=u(l,["pubsubTopic"]);t!==void 0&&x!=null&&c(t,["parameters","pubsubTopic"],x);const C=u(l,["negativePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","negativePrompt"],C);const _=u(l,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const M=u(l,["generateAudio"]);t!==void 0&&M!=null&&c(t,["parameters","generateAudio"],M);const w=u(l,["lastFrame"]);t!==void 0&&w!=null&&c(t,["instances[0]","lastFrame"],jt(w));const k=u(l,["referenceImages"]);if(t!==void 0&&k!=null){let O=k;Array.isArray(O)&&(O=O.map(le=>lE(le))),c(t,["instances[0]","referenceImages"],O)}const z=u(l,["mask"]);t!==void 0&&z!=null&&c(t,["instances[0]","mask"],tE(z));const F=u(l,["compressionQuality"]);return t!==void 0&&F!=null&&c(t,["parameters","compressionQuality"],F),o}function oC(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],uC(p)),t}function aC(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response"]);return p!=null&&c(t,["response"],cC(p)),t}function sC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],$a(d));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],hg(p));const g=u(t,["source"]);g!=null&&dC(g,o);const v=u(t,["config"]);return v!=null&&lC(v,o),o}function rC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],jt(d));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],pg(p));const g=u(t,["source"]);g!=null&&fC(g,o);const v=u(t,["config"]);return v!=null&&iC(v,o),o}function uC(l){const t={},o=u(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>mC(p))),c(t,["generatedVideos"],d)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function cC(l){const t={},o=u(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>gC(p))),c(t,["generatedVideos"],d)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function dC(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],$a(r));const d=u(l,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],hg(d)),o}function fC(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],jt(r));const d=u(l,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],pg(d)),o}function hC(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["image"],CC(o));const a=u(l,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(l,["_self"]);return r!=null&&c(t,["safetyAttributes"],ug(r)),t}function Ja(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["image"],rg(o));const a=u(l,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(l,["_self"]);r!=null&&c(t,["safetyAttributes"],cg(r));const d=u(l,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function pC(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["mask"],rg(o));const a=u(l,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function mC(l){const t={},o=u(l,["video"]);return o!=null&&c(t,["video"],jC(o)),t}function gC(l){const t={},o=u(l,["_self"]);return o!=null&&c(t,["video"],eE(o)),t}function yC(l){const t={},o=u(l,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(l,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(l,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(l,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(l,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(l,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const v=u(l,["logprobs"]);v!=null&&c(t,["logprobs"],v);const m=u(l,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const T=u(l,["mediaResolution"]);T!=null&&c(t,["mediaResolution"],T);const x=u(l,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const C=u(l,["responseLogprobs"]);C!=null&&c(t,["responseLogprobs"],C);const _=u(l,["responseMimeType"]);_!=null&&c(t,["responseMimeType"],_);const M=u(l,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const w=u(l,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const k=u(l,["routingConfig"]);k!=null&&c(t,["routingConfig"],k);const z=u(l,["seed"]);z!=null&&c(t,["seed"],z);const F=u(l,["speechConfig"]);F!=null&&c(t,["speechConfig"],dg(F));const O=u(l,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const le=u(l,["temperature"]);le!=null&&c(t,["temperature"],le);const ee=u(l,["thinkingConfig"]);ee!=null&&c(t,["thinkingConfig"],ee);const U=u(l,["topK"]);U!=null&&c(t,["topK"],U);const J=u(l,["topP"]);if(J!=null&&c(t,["topP"],J),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function vC(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],we(l,a)),o}function TC(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],we(l,a)),o}function xC(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function SC(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function CC(l){const t={},o=u(l,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Wn(o));const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function rg(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Wn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function $a(l){const t={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(l,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Wn(o));const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function jt(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Wn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function EC(l,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],eg(l,g)),a}function _C(l,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],eg(l,g)),a}function AC(l,t){const o={},a=u(t,["config"]);return a!=null&&EC(l,a,o),o}function NC(l,t){const o={},a=u(t,["config"]);return a!=null&&_C(l,a,o),o}function bC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["_self"]);if(r!=null){let d=tg(r);Array.isArray(d)&&(d=d.map(p=>Eu(p))),c(t,["models"],d)}return t}function MC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["_self"]);if(r!=null){let d=tg(r);Array.isArray(d)&&(d=d.map(p=>_u(p))),c(t,["models"],d)}return t}function RC(l){const t={},o=u(l,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(l,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(l,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Eu(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);r!=null&&c(t,["description"],r);const d=u(l,["version"]);d!=null&&c(t,["version"],d);const p=u(l,["_self"]);p!=null&&c(t,["tunedModelInfo"],FC(p));const g=u(l,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const v=u(l,["outputTokenLimit"]);v!=null&&c(t,["outputTokenLimit"],v);const m=u(l,["supportedGenerationMethods"]);return m!=null&&c(t,["supportedActions"],m),t}function _u(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);r!=null&&c(t,["description"],r);const d=u(l,["versionId"]);d!=null&&c(t,["version"],d);const p=u(l,["deployedModels"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(C=>YS(C))),c(t,["endpoints"],x)}const g=u(l,["labels"]);g!=null&&c(t,["labels"],g);const v=u(l,["_self"]);v!=null&&c(t,["tunedModelInfo"],KC(v));const m=u(l,["defaultCheckpointId"]);m!=null&&c(t,["defaultCheckpointId"],m);const T=u(l,["checkpoints"]);if(T!=null){let x=T;Array.isArray(x)&&(x=x.map(C=>C)),c(t,["checkpoints"],x)}return t}function IC(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(t,["fileData"],JS(d));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(t,["inlineData"],TS(g));const v=u(l,["text"]);v!=null&&c(t,["text"],v);const m=u(l,["thought"]);m!=null&&c(t,["thought"],m);const T=u(l,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const x=u(l,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function wC(l){const t={},o=u(l,["productImage"]);return o!=null&&c(t,["image"],jt(o)),t}function DC(l,t){const o={},a=u(l,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","editConfig","baseSteps"],r);const d=u(l,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const p=u(l,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(l,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=u(l,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const m=u(l,["addWatermark"]);t!==void 0&&m!=null&&c(t,["parameters","addWatermark"],m);const T=u(l,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const x=u(l,["outputCompressionQuality"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","compressionQuality"],x);const C=u(l,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const _=u(l,["labels"]);return t!==void 0&&_!=null&&c(t,["labels"],_),o}function UC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["source"]);r!=null&&PC(r,o);const d=u(t,["config"]);return d!=null&&DC(d,o),o}function LC(l){const t={},o=u(l,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Ja(r))),c(t,["generatedImages"],a)}return t}function PC(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],jt(r));const d=u(l,["productImages"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>wC(g))),c(t,["instances[0]","productImages"],p)}return o}function VC(l){const t={},o=u(l,["referenceImage"]);o!=null&&c(t,["referenceImage"],jt(o));const a=u(l,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(l,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(l,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],RC(d));const p=u(l,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],NS(p));const g=u(l,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const v=u(l,["subjectImageConfig"]);return v!=null&&c(t,["subjectImageConfig"],v),t}function ug(l){const t={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(l,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(l,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function cg(l){const t={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(l,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(l,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function GC(l){const t={},o=u(l,["category"]);if(o!=null&&c(t,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(l,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function kC(l){const t={},o=u(l,["image"]);return o!=null&&c(t,["image"],jt(o)),t}function HC(l,t){const o={},a=u(l,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(l,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(l,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const p=u(l,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(l,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const v=u(l,["labels"]);return t!==void 0&&v!=null&&c(t,["labels"],v),o}function BC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["source"]);r!=null&&OC(r,o);const d=u(t,["config"]);return d!=null&&HC(d,o),o}function qC(l){const t={},o=u(l,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>pC(r))),c(t,["generatedMasks"],a)}return t}function OC(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],jt(r));const d=u(l,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],kC(d)),o}function dg(l){const t={},o=u(l,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=u(l,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function zC(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(t,["functionDeclarations"],T)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],xC(g));const v=u(l,["googleSearch"]);v!=null&&c(t,["googleSearch"],SC(v));const m=u(l,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function fg(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(C=>$S(C))),c(t,["functionDeclarations"],x)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(l,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const v=u(l,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const m=u(l,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const T=u(l,["urlContext"]);return T!=null&&c(t,["urlContext"],T),t}function FC(l){const t={},o=u(l,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(l,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(l,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function KC(l){const t={},o=u(l,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(l,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(l,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function YC(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(l,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function JC(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(l,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function $C(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],we(l,a));const r=u(t,["config"]);return r!=null&&YC(r,o),o}function QC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["config"]);return r!=null&&JC(r,o),o}function XC(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(l,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const p=u(l,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(l,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const v=u(l,["outputCompressionQuality"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","compressionQuality"],v);const m=u(l,["enhanceInputImage"]);t!==void 0&&m!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],m);const T=u(l,["imagePreservationFactor"]);t!==void 0&&T!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],T);const x=u(l,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const C=u(l,["numberOfImages"]);t!==void 0&&C!=null&&c(t,["parameters","sampleCount"],C);const _=u(l,["mode"]);return t!==void 0&&_!=null&&c(t,["parameters","mode"],_),o}function ZC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],we(l,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],jt(r));const d=u(t,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=u(t,["config"]);return p!=null&&XC(p,o),o}function WC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Ja(d))),c(t,["generatedImages"],r)}return t}function jC(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Wn(a));const r=u(l,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function eE(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Wn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function tE(l){const t={},o=u(l,["image"]);o!=null&&c(t,["_self"],jt(o));const a=u(l,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function nE(l){const t={},o=u(l,["image"]);o!=null&&c(t,["image"],$a(o));const a=u(l,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function lE(l){const t={},o=u(l,["image"]);o!=null&&c(t,["image"],jt(o));const a=u(l,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function hg(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Wn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function pg(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Wn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iE="Content-Type",oE="X-Server-Timeout",aE="User-Agent",Au="x-goog-api-client",sE="1.29.0",rE=`google-genai-sdk/${sE}`,uE="v1beta1",cE="v1beta",fm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class dE{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:uE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:cE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(o))typeof d=="object"?a[r]=Object.assign(Object.assign({},a[r]),d):d!==void 0&&(a[r]=d);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const d=new AbortController,p=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=p}return o&&o.extraBody!==null&&fE(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await hm(r),new xu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await hm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var o;return ri(this,arguments,function*(){const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:v}=yield Je(r.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=d.decode(v,{stream:!0});try{const x=JSON.parse(m);if("error"in x){const C=JSON.parse(JSON.stringify(x.error)),_=C.status,M=C.code,w=`got status: ${_}. ${JSON.stringify(x)}`;if(M>=400&&M<600)throw new Ka({message:w,status:M})}}catch(x){if(x.name==="ApiError")throw x}p+=m;let T=p.match(fm);for(;T;){const x=T[1];try{const C=new Response(x,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Je(new xu(C)),p=p.slice(T[0].length),T=p.match(fm)}catch(C){throw new Error(`exception parsing stream chunk ${x}. ${C}`)}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=rE+" "+this.clientOptions.userAgentExtra;return t[aE]=o,t[Au]=o,t[iE]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))a.append(r,d);t.timeout&&t.timeout>0&&a.append(oE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,p=await d.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const v={file:r},m=this.getFileName(t),T=ue("upload/v1beta/files",v._url),x=await this.fetchUploadUrl(T,r.sizeBytes,r.mimeType,m,v,o==null?void 0:o.httpOptions);return d.upload(t,x,this)}async uploadFileToFileSearchStore(t,o,a){var r;const d=this.clientOptions.uploader,p=await d.stat(o),g=String(p.size),v=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,T=this.getFileName(o),x={};a!=null&&a.customMetadata&&(x.customMetadata=a.customMetadata),a!=null&&a.chunkingConfig&&(x.chunkingConfig=a.chunkingConfig);const C=await this.fetchUploadUrl(m,g,v,T,x,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(o,C,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,d,p){var g;let v={};p?v=p:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:v});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const T=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(T===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return T}}async function hm(l){var t;if(l===void 0)throw new Error("response is undefined");if(!l.ok){const o=l.status;let a;!((t=l.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await l.json():a={error:{message:await l.text(),code:l.status,status:l.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Ka({message:r,status:o}):new Error(r)}}function fE(l,t){if(!t||Object.keys(t).length===0)return;if(l.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof l.body=="string"&&l.body.length>0)try{const d=JSON.parse(l.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,p){const g=Object.assign({},d);for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v)){const m=p[v],T=g[v];m&&typeof m=="object"&&!Array.isArray(m)&&T&&typeof T=="object"&&!Array.isArray(T)?g[v]=a(T,m):(T&&m&&typeof T!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof T}, New type: ${typeof m}. Overwriting.`),g[v]=m)}return g}const r=a(o,t);l.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hE="mcp_used/unknown";let pE=!1;function mg(l){for(const t of l)if(mE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return pE}function gg(l){var t;const o=(t=l[Au])!==null&&t!==void 0?t:"";l[Au]=(o+` ${hE}`).trimStart()}function mE(l){return l!==null&&typeof l=="object"&&l instanceof Gu}function gE(l,t=100){return ri(this,arguments,function*(){let a,r=0;for(;r<t;){const d=yield Je(l.listTools({cursor:a}));for(const p of d.tools)yield yield Je(p),r++;if(!d.nextCursor)break;a=d.nextCursor}})}class Gu{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Gu(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const d={},p=[];for(const T of this.mcpClients)try{for(var g=!0,v=(o=void 0,co(gE(T))),m;m=await v.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const x=r;p.push(x);const C=x.name;if(d[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);d[C]=T}}catch(x){o={error:x}}finally{try{!g&&!t&&(a=v.return)&&await a.call(v)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),ST(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yE(l,t,o){const a=new hT;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class vE{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=SE(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const T=new Promise(O=>{m=O}),x=t.callbacks,C=function(){m({})},_=this.apiClient,M={onopen:C,onmessage:O=>{yE(_,x.onmessage,O)},onerror:(o=x==null?void 0:x.onerror)!==null&&o!==void 0?o:function(O){},onclose:(a=x==null?void 0:x.onclose)!==null&&a!==void 0?a:function(O){}},w=this.webSocketFactory.create(v,xE(p),M);w.connect(),await T;const F={setup:{model:we(this.apiClient,t.model)}};return w.send(JSON.stringify(F)),new TE(w,this.apiClient)}}class TE{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=cS(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=uS(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(ai.PLAY)}pause(){this.sendPlaybackControl(ai.PAUSE)}stop(){this.sendPlaybackControl(ai.STOP)}resetContext(){this.sendPlaybackControl(ai.RESET_CONTEXT)}close(){this.conn.close()}}function xE(l){const t={};return l.forEach((o,a)=>{t[a]=o}),t}function SE(l){const t=new Headers;for(const[o,a]of Object.entries(l))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function EE(l,t,o){const a=new fT;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(l.isVertexAI()){const p=hS(d);Object.assign(a,p)}else Object.assign(a,d);t(a)}class _E{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new vE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,d,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let T;const x=this.apiClient.getHeaders();t.config&&t.config.tools&&mg(t.config.tools)&&gg(x);const C=ME(x);if(this.apiClient.isVertexAI())T=`${v}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,T);else{const G=this.apiClient.getApiKey();let ne="BidiGenerateContent",te="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ne="BidiGenerateContentConstrained",te="access_token"),T=`${v}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ne}?${te}=${G}`}let _=()=>{};const M=new Promise(G=>{_=G}),w=t.callbacks,k=function(){var G;(G=w==null?void 0:w.onopen)===null||G===void 0||G.call(w),_({})},z=this.apiClient,F={onopen:k,onmessage:G=>{EE(z,w.onmessage,G)},onerror:(o=w==null?void 0:w.onerror)!==null&&o!==void 0?o:function(G){},onclose:(a=w==null?void 0:w.onclose)!==null&&a!==void 0?a:function(G){}},O=this.webSocketFactory.create(T,bE(C),F);O.connect(),await M;let le=we(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&le.startsWith("publishers/")){const G=this.apiClient.getProject(),ne=this.apiClient.getLocation();le=`projects/${G}/locations/${ne}/`+le}let ee={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ho.AUDIO]}:t.config.responseModalities=[ho.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],J=[];for(const G of U)if(this.isCallableTool(G)){const ne=G;J.push(await ne.tool())}else J.push(G);J.length>0&&(t.config.tools=J);const se={model:le,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ee=rS(this.apiClient,se):ee=sS(this.apiClient,se),delete ee.config,O.send(JSON.stringify(ee)),new NE(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const AE={turnComplete:!0};class NE{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=$t(o.turns),t.isVertexAI()||(a=a.map(r=>Ya(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(CE)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},AE),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:fS(t)}:o={realtimeInput:dS(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function bE(l){const t={};return l.forEach((o,a)=>{t[a]=o}),t}function ME(l){const t=new Headers;for(const[o,a]of Object.entries(l))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pm=10;function mm(l){var t,o,a;if(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=l==null?void 0:l.tools)!==null&&o!==void 0?o:[])if(ui(p)){r=!0;break}if(!r)return!0;const d=(a=l==null?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function ui(l){return"callTool"in l&&typeof l.callTool=="function"}function RE(l){var t,o,a;return(a=(o=(t=l.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>ui(r)))!==null&&a!==void 0?a:!1}function gm(l){var t;const o=[];return!((t=l==null?void 0:l.config)===null||t===void 0)&&t.tools&&l.config.tools.forEach((a,r)=>{if(ui(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(r)}),o}function ym(l){var t;return!(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IE extends An{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,d,p,g;const v=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!RE(o)||mm(o.config))return await this.generateContentInternal(v);const m=gm(o);if(m.length>0){const w=m.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let T,x;const C=$t(v.contents),_=(d=(r=(a=v.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:pm;let M=0;for(;M<_&&(T=await this.generateContentInternal(v),!(!T.functionCalls||T.functionCalls.length===0));){const w=T.candidates[0].content,k=[];for(const z of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(ui(z)){const O=await z.callTool(T.functionCalls);k.push(...O)}M++,x={role:"user",parts:k},v.contents=$t(v.contents),v.contents.push(w),v.contents.push(x),ym(v.config)&&(C.push(w),C.push(x))}return ym(v.config)&&(T.automaticFunctionCallingHistory=C),T},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),mm(o.config)){const r=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(r)}const a=gm(o);if(a.length>0){const r=a.map(d=>`tools[${d}]`).join(", ");throw new Error(`Incompatible tools found at ${r}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let d;const p=[];if(a!=null&&a.generatedImages)for(const v of a.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((r=v==null?void 0:v.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=v==null?void 0:v.safetyAttributes:p.push(v);let g;return d?g={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Sl(_n.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,d,p,g,v;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(d=o.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((v=(g=o.source)===null||g===void 0?void 0:g.video)===null||v===void 0)&&v.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const d=(o=t.config)===null||o===void 0?void 0:o.tools;if(!d)return t;const p=await Promise.all(d.map(async v=>ui(v)?await v.tool():v)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&mg(t.config.tools)){const v=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},v);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),gg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var o,a,r;const d=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(ui(p)){const g=p,v=await g.tool();for(const m of(r=v.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(d.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);d.set(m.name,g)}}return d}async processAfcStream(t){var o,a,r;const d=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:pm;let p=!1,g=0;const v=await this.initAfcToolsMap(t);return(function(m,T,x){var C,_;return ri(this,arguments,function*(){for(var M,w,k,z;g<d;){p&&(g++,p=!1);const ee=yield Je(m.processParamsMaybeAddMcpUsage(x)),U=yield Je(m.generateContentStreamInternal(ee)),J=[],se=[];try{for(var F=!0,O=(w=void 0,co(U)),le;le=yield Je(O.next()),M=le.done,!M;F=!0){z=le.value,F=!1;const G=z;if(yield yield Je(G),G.candidates&&(!((C=G.candidates[0])===null||C===void 0)&&C.content)){se.push(G.candidates[0].content);for(const ne of(_=G.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(g<d&&ne.functionCall){if(!ne.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(ne.functionCall.name)){const te=yield Je(T.get(ne.functionCall.name).callTool([ne.functionCall]));J.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${ne.functionCall.name}`)}}}}catch(G){w={error:G}}finally{try{!F&&!M&&(k=O.return)&&(yield Je(k.call(O)))}finally{if(w)throw w.error}}if(J.length>0){p=!0;const G=new uo;G.candidates=[{content:{role:"user",parts:J}}],yield yield Je(G);const ne=[];ne.push(...se),ne.push({role:"user",parts:J});const te=$t(x.contents).concat(ne);x.contents=te}else break}})})(this,v,t)}async generateContentInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=um(this.apiClient,t);return g=ue("{model}:generateContent",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=dm(T),C=new uo;return Object.assign(C,x),C})}else{const m=rm(this.apiClient,t);return g=ue("{model}:generateContent",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=cm(T),C=new uo;return Object.assign(C,x),C})}}async generateContentStreamInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=um(this.apiClient,t);return g=ue("{model}:streamGenerateContent?alt=sse",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(x){return ri(this,arguments,function*(){var C,_,M,w;try{for(var k=!0,z=co(x),F;F=yield Je(z.next()),C=F.done,!C;k=!0){w=F.value,k=!1;const O=w,le=dm(yield Je(O.json()));le.sdkHttpResponse={headers:O.headers};const ee=new uo;Object.assign(ee,le),yield yield Je(ee)}}catch(O){_={error:O}}finally{try{!k&&!C&&(M=z.return)&&(yield Je(M.call(z)))}finally{if(_)throw _.error}}})})}else{const m=rm(this.apiClient,t);return g=ue("{model}:streamGenerateContent?alt=sse",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(x){return ri(this,arguments,function*(){var C,_,M,w;try{for(var k=!0,z=co(x),F;F=yield Je(z.next()),C=F.done,!C;k=!0){w=F.value,k=!1;const O=w,le=cm(yield Je(O.json()));le.sdkHttpResponse={headers:O.headers};const ee=new uo;Object.assign(ee,le),yield yield Je(ee)}}catch(O){_={error:O}}finally{try{!k&&!C&&(M=z.return)&&(yield Je(M.call(z)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=zS(this.apiClient,t);return g=ue("{model}:predict",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=KS(T),C=new Yp;return Object.assign(C,x),C})}else{const m=OS(this.apiClient,t);return g=ue("{model}:batchEmbedContents",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=FS(T),C=new Yp;return Object.assign(C,x),C})}}async generateImagesInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=eC(this.apiClient,t);return g=ue("{model}:predict",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=nC(T),C=new Jp;return Object.assign(C,x),C})}else{const m=jS(this.apiClient,t);return g=ue("{model}:predict",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=tC(T),C=new Jp;return Object.assign(C,x),C})}}async editImageInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=kS(this.apiClient,t);return d=ue("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:v.headers},T})),r.then(v=>{const m=HS(v),T=new tT;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=ZC(this.apiClient,t);return d=ue("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:v.headers},T})),r.then(v=>{const m=WC(v),T=new nT;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=UC(this.apiClient,t);return d=ue("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const m=LC(v),T=new lT;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=BC(this.apiClient,t);return d=ue("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const m=qC(v),T=new iT;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=TC(this.apiClient,t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>_u(T))}else{const m=vC(this.apiClient,t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>Eu(T))}}async listInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=NC(this.apiClient,t);return g=ue("{models_url}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=MC(T),C=new $p;return Object.assign(C,x),C})}else{const m=AC(this.apiClient,t);return g=ue("{models_url}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=bC(T),C=new $p;return Object.assign(C,x),C})}}async update(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=QC(this.apiClient,t);return g=ue("{model}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>_u(T))}else{const m=$C(this.apiClient,t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>Eu(T))}}async delete(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=LS(this.apiClient,t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=VS(T),C=new Qp;return Object.assign(C,x),C})}else{const m=US(this.apiClient,t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=PS(T),C=new Qp;return Object.assign(C,x),C})}}async countTokens(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=IS(this.apiClient,t);return g=ue("{model}:countTokens",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=DS(T),C=new Xp;return Object.assign(C,x),C})}else{const m=RS(this.apiClient,t);return g=ue("{model}:countTokens",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=wS(T),C=new Xp;return Object.assign(C,x),C})}}async computeTokens(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=CS(this.apiClient,t);return d=ue("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:v.headers},T})),r.then(v=>{const m=ES(v),T=new oT;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=rC(this.apiClient,t);return g=ue("{model}:predictLongRunning",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>{const x=aC(T),C=new Ba;return Object.assign(C,x),C})}else{const m=sC(this.apiClient,t);return g=ue("{model}:predictLongRunning",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>{const x=oC(T),C=new Ba;return Object.assign(C,x),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wE extends An{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=Qv(t);return g=ue("{operationName}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p}else{const m=$v(t);return g=ue("{operationName}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=qv(t);return d=ue("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DE(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function UE(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>qE(d))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function LE(l,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],BE(l,g));const v=u(t,["lockAdditionalFields"]);return o!==void 0&&v!=null&&c(o,["fieldMask"],v),a}function PE(l,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],LE(l,a,o)),o}function VE(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function GE(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function kE(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function HE(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(l,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const m=u(l,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const T=u(l,["seed"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","seed"],T);const x=u(l,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Vu(x));const C=u(l,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const _=u(l,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const M=u(l,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],UE(yt(M)));const w=u(l,["tools"]);if(t!==void 0&&w!=null){let U=di(w);Array.isArray(U)&&(U=U.map(J=>zE(ci(J)))),c(t,["setup","tools"],U)}const k=u(l,["sessionResumption"]);t!==void 0&&k!=null&&c(t,["setup","sessionResumption"],OE(k));const z=u(l,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(l,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const O=u(l,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const le=u(l,["contextWindowCompression"]);t!==void 0&&le!=null&&c(t,["setup","contextWindowCompression"],le);const ee=u(l,["proactivity"]);return t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee),o}function BE(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],we(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],HE(r,o)),o}function qE(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(t,["fileData"],VE(d));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(t,["inlineData"],DE(g));const v=u(l,["text"]);v!=null&&c(t,["text"],v);const m=u(l,["thought"]);m!=null&&c(t,["thought"],m);const T=u(l,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const x=u(l,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function OE(l){const t={},o=u(l,["handle"]);if(o!=null&&c(t,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function zE(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(t,["functionDeclarations"],T)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],GE(g));const v=u(l,["googleSearch"]);v!=null&&c(t,["googleSearch"],kE(v));const m=u(l,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FE(l){const t=[];for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)){const a=l[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(d=>`${o}.${d}`);t.push(...r)}else t.push(o)}return t.join(",")}function KE(l,t){let o=null;const a=l.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(l.bidiGenerateContentSetup=d,o=d):delete l.bidiGenerateContentSetup}else a!==void 0&&delete l.bidiGenerateContentSetup;const r=l.fieldMask;if(o){const d=FE(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?l.fieldMask=d:delete l.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>p.includes(m)?`generationConfig.${m}`:m));const v=[];d&&v.push(d),g.length>0&&v.push(...g),v.length>0?l.fieldMask=v.join(","):delete l.fieldMask}else delete l.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?l.fieldMask=r.join(","):delete l.fieldMask;return l}class YE extends An{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=PE(this.apiClient,t);d=ue("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const v=KE(g,t.config);return r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JE(l,t){const o={},a=u(l,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function $E(l){const t={},o=u(l,["config"]);return o!=null&&JE(o,t),t}function QE(l,t){const o={},a=u(l,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function XE(l){const t={},o=u(l,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(l,["config"]);return a!=null&&QE(a,t),t}function ZE(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","name"],o),t}function WE(l,t){const o={},a=u(l,["customMetadata"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["customMetadata"],d)}const r=u(l,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function jE(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response"]);return p!=null&&c(t,["response"],t_(p)),t}function e_(l){const t={},o=u(l,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(l,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(l,["config"]);return r!=null&&WE(r,t),t}function t_(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function n_(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function l_(l){const t={},o=u(l,["config"]);return o!=null&&n_(o,t),t}function i_(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["fileSearchStores"],d)}return t}function o_(l,t){const o={},a=u(l,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(l,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(l,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["customMetadata"],g)}const p=u(l,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function a_(l){const t={},o=u(l,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(l,["config"]);return a!=null&&o_(a,t),t}function s_(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r_(l,t){const o={},a=u(l,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function u_(l){const t={},o=u(l,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(l,["config"]);return a!=null&&r_(a,t),t}function c_(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","name"],o),t}function d_(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function f_(l){const t={},o=u(l,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(l,["config"]);return a!=null&&d_(a,t),t}function h_(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p_ extends An{constructor(t){super(),this.apiClient=t,this.list=async o=>new Sl(_n.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=c_(t);return d=ue("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var o,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=u_(t);r=ue("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=f_(t);return d=ue("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const m=h_(v),T=new aT;return Object.assign(T,m),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m_ extends An{constructor(t,o=new p_(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new Sl(_n.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$E(t);return d=ue("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async get(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ZE(t);return d=ue("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var o,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=XE(t);r=ue("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=l_(t);return d=ue("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const m=i_(v),T=new sT;return Object.assign(T,m),T})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=a_(t);return d=ue("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const m=s_(v),T=new rT;return Object.assign(T,m),T})}}async importFile(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=e_(t);return d=ue("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const m=jE(v),T=new wu;return Object.assign(T,m),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function y_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function v_(l,t,o){const a={};if(u(l,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(l,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(l,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(l,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const p=u(l,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(l,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(l,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(l,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(l,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const v=u(l,["learningRate"]);if(t!==void 0&&v!=null&&c(t,["tuningTask","hyperparameters","learningRate"],v),u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(l,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function T_(l,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const _=u(l,["validationDataset"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec"],vm(_))}else if(r==="PREFERENCE_TUNING"){const _=u(l,["validationDataset"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec"],vm(_))}const d=u(l,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const p=u(l,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const _=u(l,["epochCount"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(g==="PREFERENCE_TUNING"){const _=u(l,["epochCount"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const _=u(l,["learningRateMultiplier"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(v==="PREFERENCE_TUNING"){const _=u(l,["learningRateMultiplier"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const _=u(l,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(m==="PREFERENCE_TUNING"){const _=u(l,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let T=u(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const _=u(l,["adapterSize"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(T==="PREFERENCE_TUNING"){const _=u(l,["adapterSize"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(u(l,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(l,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=u(l,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const C=u(l,["beta"]);return t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],C),a}function x_(l,t){const o={},a=u(l,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(l,["trainingDataset"]);d!=null&&w_(d);const p=u(l,["config"]);return p!=null&&v_(p,o),o}function S_(l,t){const o={},a=u(l,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(l,["trainingDataset"]);d!=null&&D_(d,o,t);const p=u(l,["config"]);return p!=null&&T_(p,o,t),o}function C_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function E_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function __(l,t,o){const a={},r=u(l,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(l,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(l,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function A_(l,t,o){const a={},r=u(l,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(l,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(l,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function N_(l,t){const o={},a=u(l,["config"]);return a!=null&&__(a,o),o}function b_(l,t){const o={},a=u(l,["config"]);return a!=null&&A_(a,o),o}function M_(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(l,["tunedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>yg(g))),c(o,["tuningJobs"],p)}return o}function R_(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(l,["tuningJobs"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Nu(g))),c(o,["tuningJobs"],p)}return o}function I_(l,t){const o={},a=u(l,["name"]);a!=null&&c(o,["model"],a);const r=u(l,["name"]);return r!=null&&c(o,["endpoint"],r),o}function w_(l,t){const o={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(l,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(l,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["examples","examples"],r)}return o}function D_(l,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(l,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(l,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let d=u(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=u(l,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(d==="PREFERENCE_TUNING"){const p=u(l,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(l,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function yg(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["state"]);d!=null&&c(o,["state"],Wm(d));const p=u(l,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(l,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const v=u(l,["tuningTask","completeTime"]);v!=null&&c(o,["endTime"],v);const m=u(l,["updateTime"]);m!=null&&c(o,["updateTime"],m);const T=u(l,["description"]);T!=null&&c(o,["description"],T);const x=u(l,["baseModel"]);x!=null&&c(o,["baseModel"],x);const C=u(l,["_self"]);return C!=null&&c(o,["tunedModel"],I_(C)),o}function Nu(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["state"]);d!=null&&c(o,["state"],Wm(d));const p=u(l,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(l,["startTime"]);g!=null&&c(o,["startTime"],g);const v=u(l,["endTime"]);v!=null&&c(o,["endTime"],v);const m=u(l,["updateTime"]);m!=null&&c(o,["updateTime"],m);const T=u(l,["error"]);T!=null&&c(o,["error"],T);const x=u(l,["description"]);x!=null&&c(o,["description"],x);const C=u(l,["baseModel"]);C!=null&&c(o,["baseModel"],C);const _=u(l,["tunedModel"]);_!=null&&c(o,["tunedModel"],_);const M=u(l,["preTunedModel"]);M!=null&&c(o,["preTunedModel"],M);const w=u(l,["supervisedTuningSpec"]);w!=null&&c(o,["supervisedTuningSpec"],w);const k=u(l,["preferenceOptimizationSpec"]);k!=null&&c(o,["preferenceOptimizationSpec"],k);const z=u(l,["tuningDataStats"]);z!=null&&c(o,["tuningDataStats"],z);const F=u(l,["encryptionSpec"]);F!=null&&c(o,["encryptionSpec"],F);const O=u(l,["partnerModelTuningSpec"]);O!=null&&c(o,["partnerModelTuningSpec"],O);const le=u(l,["customBaseModel"]);le!=null&&c(o,["customBaseModel"],le);const ee=u(l,["experiment"]);ee!=null&&c(o,["experiment"],ee);const U=u(l,["labels"]);U!=null&&c(o,["labels"],U);const J=u(l,["outputUri"]);J!=null&&c(o,["outputUri"],J);const se=u(l,["pipelineJob"]);se!=null&&c(o,["pipelineJob"],se);const G=u(l,["serviceAccount"]);G!=null&&c(o,["serviceAccount"],G);const ne=u(l,["tunedModelDisplayName"]);ne!=null&&c(o,["tunedModelDisplayName"],ne);const te=u(l,["veoTuningSpec"]);return te!=null&&c(o,["veoTuningSpec"],te),o}function U_(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(l,["done"]);p!=null&&c(o,["done"],p);const g=u(l,["error"]);return g!=null&&c(o,["error"],g),o}function vm(l,t){const o={},a=u(l,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(l,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L_ extends An{constructor(t){super(),this.apiClient=t,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Sl(_n.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:Tu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=E_(t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>Nu(T))}else{const m=C_(t);return g=ue("{name}",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>yg(T))}}async listInternal(t){var o,a,r,d;let p,g="",v={};if(this.apiClient.isVertexAI()){const m=b_(t);return g=ue("tuningJobs",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=R_(T),C=new Zp;return Object.assign(C,x),C})}else{const m=N_(t);return g=ue("tunedModels",m._url),v=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=M_(T),C=new Zp;return Object.assign(C,x),C})}}async cancel(t){var o,a,r,d;let p="",g={};if(this.apiClient.isVertexAI()){const v=y_(t);p=ue("{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const v=g_(t);p=ue("{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=S_(t,t);return d=ue("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:v.headers},T})),r.then(v=>Nu(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=x_(t);return d=ue("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:v.headers},T})),r.then(v=>U_(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P_{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const V_=1024*1024*8,G_=3,k_=1e3,H_=2,Oa="x-goog-upload-status";async function B_(l,t,o){var a;const r=await vg(l,t,o),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Oa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function q_(l,t,o){var a;const r=await vg(l,t,o),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Oa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Ym(d),g=new Du;return Object.assign(g,p),g}async function vg(l,t,o){var a,r;let d=0,p=0,g=new xu(new Response),v="upload";for(d=l.size;p<d;){const m=Math.min(V_,d-p),T=l.slice(p,p+m);p+m>=d&&(v+=", finalize");let x=0,C=k_;for(;x<G_&&(g=await o.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Oa]));)x++,await z_(C),C=C*H_;if(p+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Oa])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function O_(l){return{size:l.size,type:l.type}}function z_(l){return new Promise(t=>setTimeout(t,l))}class F_{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await B_(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await q_(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await O_(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K_{create(t,o,a){return new Y_(t,o,a)}}class Y_{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tm="x-goog-api-key";class J_{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Tm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Tm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $_="gl-node/";class ku{constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=Hv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const r=new J_(this.apiKey);this.apiClient=new dE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:$_+"web",uploader:new F_,downloader:new P_}),this.models=new IE(this.apiClient),this.live=new _E(this.apiClient,r,new K_),this.batches=new cx(this.apiClient),this.chats=new Ox(this.models,this.apiClient),this.caches=new Hx(this.apiClient),this.files=new Wx(this.apiClient),this.operations=new wE(this.apiClient),this.authTokens=new YE(this.apiClient),this.tunings=new L_(this.apiClient),this.fileSearchStores=new m_(this.apiClient)}}const Hu=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),Q_=l=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3H5.25A2.25 2.25 0 003 5.25v1.5"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V1.5a1.5 1.5 0 00-3 0v2.25"})]}),mo=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),X_=l=>l.reduce((t,o)=>(t.totalRevenue+=o.calculated.totalRevenue||0,t.grossProfit+=o.calculated.grossProfit||0,t.profitBeforeTax+=o.calculated.profitBeforeTax||0,t.netProfit+=o.calculated.netProfit||0,t.totalSellingCost+=o.calculated.totalSellingCost||0,t.totalGaCost+=o.calculated.totalGaCost||0,t.totalCOGS+=o.calculated.totalCOGS||0,t.totalFinancialCost+=o.calculated.totalFinancialCost||0,t),{totalRevenue:0,grossProfit:0,profitBeforeTax:0,netProfit:0,totalSellingCost:0,totalGaCost:0,totalCOGS:0,totalFinancialCost:0}),Z_=({items:l,uncalculatedItems:t,settings:o,onOpenAiAssistant:a})=>{const[r,d]=Z.useState(!1),[p,g]=Z.useState(0),[v,m]=Z.useState(""),[T,x]=Z.useState(!1),[C,_]=Z.useState(!1),[M,w]=Z.useState(""),k=U=>{if(l.length===0)return r||alert("Vui lng thm t nht mt sn phm vo k hoch  to bo co."),null;const J=Fm(l,o.exchangeRateImport,o.exchangeRateTax,U);return new Blob([J],{type:"text/html"})},z=()=>{const U=k();if(U){const J=URL.createObjectURL(U);window.open(J,"_blank")}},F=()=>{l.length===0||r||(d(!0),x(!0),g(0),m("ang chun b file..."),setTimeout(()=>{const U=k();if(U){g(100),m("Hon tt! ang ti xung...");const J=URL.createObjectURL(U),se=document.createElement("a");se.href=J,se.download="KeHoachKinhDoanh.html",document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(J),setTimeout(()=>{x(!1),d(!1)},2e3)}else x(!1),d(!1)},300))},O=()=>{if(l.length===0){alert("Vui lng thm t nht mt sn phm vo k hoch  lu.");return}_(!0)},le=()=>{if(!M.trim()){alert("Vui lng nhp tn cho k hoch.");return}try{const U={id:`plan-${Date.now()}`,name:M.trim(),createdAt:new Date().toISOString(),planItems:t,settings:o},J=localStorage.getItem("savedBusinessPlans"),se=J?JSON.parse(J):[];se.push(U),localStorage.setItem("savedBusinessPlans",JSON.stringify(se)),alert(` lu thnh cng k hoch "${U.name}"!`),w(""),_(!1)}catch(U){console.error("Failed to save plan:",U),alert(" c li xy ra khi lu k hoch. Vui lng th li.")}},ee=async()=>{if(l.length===0){alert("Vui lng thm t nht mt sn phm vo k hoch  to phn tch.");return}d(!0),x(!0),g(10),m("Bt u qu trnh...");try{const U=X_(l),J=U.totalRevenue,se=J>0?(U.grossProfit/J*100).toFixed(2):"0",G=J>0?(U.netProfit/J*100).toFixed(2):"0";g(30),m("ang chun b d liu cho AI...");const ne=`
          **Bi cnh:**
          ng vai mt AI chuyn ngnh phn tch ti chnh doanh nghip vi nhiu nm kinh nghim trong lnh vc nh gi v nh gi hiu qu hot ng kinh doanh.
          
          **Nhim v:**
          Da vo d liu tm tt t mt k hoch kinh doanh di y, hy c v phn tch bo co kt qu kinh doanh. Hy trnh by mt bn phn tch chuyn su, logic, v c lun c r rng.

          **D liu k hoch kinh doanh:**
          - **Tng Doanh thu thun:** ${$(J)} VND
          - **Tng Gi vn hng bn (COGS):** ${$(U.totalCOGS)} VND
          - **Tng Li nhun gp:** ${$(U.grossProfit)} VND
          - **Tng Chi ph hot ng (Bn hng + QLDN):** ${$(U.totalSellingCost+U.totalGaCost)} VND
          - **Tng Chi ph ti chnh:** ${$(U.totalFinancialCost)} VND
          - **Tng Li nhun trc thu:** ${$(U.profitBeforeTax)} VND
          - **Tng Li nhun rng (sau thu):** ${$(U.netProfit)} VND

          **Cc ch s hiu sut chnh:**
          - **T sut li nhun gp:** ${se}%
          - **T sut li nhun rng:** ${G}%
          - **C cu chi ph trn doanh thu:**
            - T l Gi vn: ${(J>0?U.totalCOGS/J*100:0).toFixed(2)}%
            - T l Chi ph hot ng: ${(J>0?(U.totalSellingCost+U.totalGaCost)/J*100:0).toFixed(2)}%
          - **S lng sn phm trong k hoch:** ${l.length}

          **Lu  cc k quan trng v d liu:**
          Bo co ny CH cung cp d liu t Bo co kt qu hot ng kinh doanh (P&L). Hon ton KHNG c d liu t Bng cn i k ton (Ti sn, N, Vn ch s hu) hoc Bo co lu chuyn tin t. Do , khi c yu cu phn tch cc ch s nh ROE, ROA, P/E, h s n, kh nng thanh ton, vng quay vn, vng quay hng tn kho, bn PHI nu r l khng c  d liu v phi a ra cc gi nh hp l  c tnh v phn tch mt cch nh tnh. V d: "Gi s tng ti sn l X v vn ch s hu l Y...". Ghi ch r rng v cc gi nh ny.

          **Yu cu cu trc v ni dung phn tch:**
          Bn phn tch cn c cc mc sau:
          1.  **Phn tch tng quan:** Tm tt ngn gn v doanh nghip (ngnh thng mi nhp khu thc phm ng lnh), lnh vc hot ng v quy m da trn doanh thu.
          2.  **nh gi kt qu kinh doanh:**
              - Phn tch doanh thu, li nhun gp, li nhun thun, chi ph hot ng v cc bin li nhun.
              - So snh (c tnh) kt qu hin ti vi cc doanh nghip cng ngnh thng mi nhp khu bn hng thc phm ng lnh ti Vit Nam.
          3.  **Phn tch im ha vn (Break-even Point):**
              - c tnh im ha vn bng cch phn loi chi ph (gi vn, chi ph bn hng...) thnh bin ph v nh ph. Nu r gi nh phn loi ca bn.
              - nh gi mi quan h gia im ha vn v cu trc chi ph ca doanh nghip.
              - Nhn xt v mc  an ton ti chnh v nng lc sinh li.
          4.  **Phn tch cc ch s ti chnh chnh (Da trn gi nh):**
              - ROE, ROA, EPS, P/E, h s n/vn, kh nng thanh ton.
              - Vng quay ca vn, vng quay ca hng tn kho (da trn gi nh v thi gian, v d: k hoch ny cho 1 thng hay 1 qu).
              - Tnh ton thi gian 1 nm quay c my vng v hiu qu t l % li nhun.
          5.  **Nhn nh v d bo:**
              - nh gi xu hng ti chnh, cc ri ro v c hi tim nng ca ngnh hng ny.
          6.  **Kt lun:** Tm tt sc khe ti chnh tng th v trin vng tng lai ca doanh nghip da trn k hoch ny.

          **Yu cu trnh by:**
          - Tr v di dng HTML. Ch s dng cc th sau: \`<h3>\` cho tiu  mc, \`<p>\` cho on vn, \`<ul>\`, \`<li>\` cho danh sch, \`<strong>\`  nhn mnh, v \`<table>\`, \`<thead>\`, \`<tbody>\`, \`<tr>\`, \`<th>\`, \`<td>\` cho bng. Khng bao gm th \`<html>\`, \`<body>\` hay \`<head>\`.
          - Ngn ng chuyn nghip, r rng, sc tch v mang phong cch hc thut.
        `;g(50),m("ang gi yu cu n AI...");const oe=(await new ku({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:ne})).text;g(85),m("AI  phn tch xong, ang to file bo co...");const me=k(oe);if(me){const he=URL.createObjectURL(me),b=document.createElement("a");b.href=he,b.download="KeHoachKinhDoanh_CoPhanTich.html",document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(he)}g(100),m("Hon tt! Bo co  c ti xung."),setTimeout(()=>{x(!1),d(!1)},3e3)}catch(U){console.error("Error generating AI analysis:",U),g(100),m(" c li xy ra! Vui lng th li."),setTimeout(()=>{x(!1),d(!1)},4e3)}};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200",children:[y.jsxs("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-3 mb-4 flex items-center",children:[y.jsx(Ha,{className:"h-5 w-5 mr-2 text-gray-500"}),"Bo co & Phn tch"]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Lu, to bo co tng hp, chi tit v phn tch k hoch kinh doanh bng AI."}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Chn mt trong cc ty chn di y  xem trc hoc ti v."})]}),y.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[y.jsxs("button",{onClick:z,disabled:l.length===0||r,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-200 disabled:cursor-not-allowed",children:[y.jsx(Ru,{className:"h-5 w-5 mr-2"}),"Xem trc"]}),y.jsxs("button",{onClick:a,disabled:l.length===0||r,className:"w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-300 disabled:cursor-not-allowed",children:[y.jsx(Hu,{className:"h-5 w-5 mr-2"}),"Yu cu chnh sa"]}),y.jsxs("button",{onClick:O,disabled:l.length===0||r,className:"w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-gray-300 disabled:cursor-not-allowed",children:[y.jsx(Q_,{className:"h-5 w-5 mr-2"}),"Lu K hoch"]}),y.jsxs("button",{onClick:F,disabled:l.length===0||r,className:"w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-gray-300 disabled:cursor-not-allowed",children:[y.jsx(Ha,{className:"h-5 w-5 mr-2"}),"Ti V"]}),y.jsx("div",{className:"hidden sm:block"}),y.jsxs("button",{onClick:ee,disabled:l.length===0||r,className:"col-span-2 sm:col-span-3 w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-300 disabled:cursor-not-allowed",children:[y.jsx(Km,{className:"h-5 w-5 mr-2"}),r?"ang x l...":"Ti v & Phn tch (AI)"]})]}),T&&y.jsxs("div",{className:"mt-4",children:[y.jsx("p",{className:"text-sm text-center text-gray-600 mb-2",children:v}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${p}%`}})})]})]}),C&&y.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>_(!1),children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:U=>U.stopPropagation(),children:[y.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Lu K hoch Kinh doanh"}),y.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:y.jsx(mo,{className:"h-6 w-6"})})]}),y.jsxs("main",{className:"p-6 space-y-4",children:[y.jsx("label",{htmlFor:"plan-name",className:"block text-sm font-medium text-gray-700",children:"t tn cho k hoch ca bn  d dng nhn bit sau ny."}),y.jsx("input",{id:"plan-name",type:"text",value:M,onChange:U=>w(U.target.value),onKeyPress:U=>U.key==="Enter"&&le(),placeholder:"V d: Phng n kinh doanh thng 10",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",autoFocus:!0})]}),y.jsxs("footer",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg space-x-2",children:[y.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",children:"Hy"}),y.jsx("button",{onClick:le,className:"px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Lu"})]})]})})]})},W_=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),j_=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),xm=window.SpeechRecognition||window.webkitSpeechRecognition,Vt=xm?new xm:null;Vt&&(Vt.continuous=!1,Vt.lang="vi-VN",Vt.interimResults=!1);const Ua={so_luong_kg:"quantityInKg",gia_mua_usd:"priceUSDPerTon",gia_ban_vnd:"sellingPriceVNDPerKg",phi_hai_quan:"costs.customsFee",phi_kiem_dich:"costs.quarantineFee",phi_thue_cont:"costs.containerRentalFee",phi_luu_kho_cang:"costs.portStorageFee",don_gia_nhap_kho:"costs.generalWarehouseCostRatePerKg",lai_suat_vay:"costs.loanInterestRatePerYear",tien_vay_lan_1_usd:"costs.loanFirstTransferUSD",ngay_lai_lan_1:"costs.loanFirstTransferInterestDays",so_ngay_luu_kho:"costs.postClearanceStorageDays",don_gia_luu_kho:"costs.postClearanceStorageRatePerKgDay",thue_suat_vat:"costs.importVatRate",phi_dich_vu_mua_hang:"costs.purchasingServiceFeeInMillionsPerCont",phi_vc_den_kho_mua:"costs.buyerDeliveryFee",chi_phi_quoc_te_khac:"costs.otherInternationalCosts",chi_phi_ban_hang_khac:"costs.otherSellingCosts"},Sm={ty_gia_nhap_khau:"setExchangeRateImport",ty_gia_thue:"setExchangeRateTax",ty_le_luong_ban_hang:"setSalesSalaryRate",tong_luong_gian_tiep:"setTotalMonthlyIndirectSalary",so_ngay_lam_viec:"setWorkingDaysPerMonth",chi_phi_thue_nha:"setTotalMonthlyRent",chi_phi_dien:"setTotalMonthlyElectricity",chi_phi_nuoc:"setTotalMonthlyWater",chi_phi_vpp:"setTotalMonthlyStationery",chi_phi_khau_hao:"setTotalMonthlyDepreciation",chi_phi_dich_vu_ngoai:"setTotalMonthlyExternalServices",chi_phi_tien_mat_khac:"setTotalMonthlyOtherCashExpenses",chi_phi_tai_chinh:"setTotalMonthlyFinancialCost"},eA=({isOpen:l,onClose:t,products:o,planItems:a,updatePlanItem:r,removePlanItem:d,addProductToPlan:p,setters:g})=>{const[v,m]=Z.useState([]),[T,x]=Z.useState(""),[C,_]=Z.useState(!1),[M,w]=Z.useState(!1),[k,z]=Z.useState(""),F=Z.useRef(null),O=Z.useRef(null);Z.useEffect(()=>{l&&(O.current=null,m([{id:Date.now(),sender:"ai",text:"Em cho Anh Cng , em c th gip anh iu chnh k hoch kinh doanh nh th no ?"}]))},[l]),Z.useEffect(()=>{O.current&&(O.current=null)},[a]),Z.useEffect(()=>{var G;(G=F.current)==null||G.scrollIntoView({behavior:"smooth"})},[v]),Z.useEffect(()=>{Vt&&(Vt.onstart=()=>w(!0),Vt.onend=()=>w(!1),Vt.onresult=G=>{const ne=G.results[0][0].transcript;x(ne)},Vt.onerror=G=>{console.error("Speech recognition error:",G.error),G.error==="no-speech"?(z("Khng nghe r. Vui lng th li..."),setTimeout(()=>z(""),3e3)):G.error==="not-allowed"?alert("Bn  t chi quyn truy cp micro. Vui lng cho php truy cp micro trong ci t trnh duyt  s dng tnh nng ny."):alert(` xy ra li khi nhn dng ging ni: ${G.error}. Vui lng th li.`),w(!1)})},[]);const le=()=>{if(!Vt){alert("Trnh duyt ca bn khng h tr nhn dng ging ni.");return}M?Vt.stop():Vt.start()},ee=G=>{const ne=G.toLowerCase().trim(),te=a.map(b=>({...b,combinedName:`${b.group.toLowerCase()} - ${b.nameVI.toLowerCase()}`.trim()})),X=te.find(b=>b.combinedName===ne);if(X)return X;const oe=a.find(b=>b.nameVI.toLowerCase().trim()===ne);if(oe)return oe;const me=te.find(b=>b.combinedName.includes(ne));return me||a.find(b=>b.nameVI.toLowerCase().trim().includes(ne))||null},U=G=>{const ne=G.toLowerCase().trim(),te=o.map(b=>({...b,combinedName:`${b.group.toLowerCase()} - ${b.nameVI.toLowerCase()}`.trim()})),X=te.find(b=>b.combinedName===ne);if(X)return X;const oe=o.find(b=>b.nameVI.toLowerCase().trim()===ne);if(oe)return oe;const me=te.find(b=>b.combinedName.includes(ne));return me||o.find(b=>b.nameVI.toLowerCase().trim().includes(ne))||null},J=G=>{let ne=[];for(const te of G){let X="";switch(te.name){case"update_product_property":{const{product_name:oe,property_name:me,new_value:he}=te.args,b=ee(oe),B=Ua[me];if(b&&B){const de=me==="phi_dich_vu_mua_hang"?he/1e6:he;r(b.id,B,de),X=` cp nht '${me}' ca sn phm '${oe}' thnh '${he}'.`}else X=`Li: Khng tm thy sn phm '${oe}' trong k hoch hoc thuc tnh '${me}' khng hp l.`;break}case"bulk_update_products":{const{filter_property:oe,filter_value:me,target_property:he,update_type:b,update_value:B}=te.args,de=Ua[he];if(!de){X=`Li: Thuc tnh '${he}' khng hp l.`;break}let K=a.filter(ce=>oe==="all"?!0:oe==="brand"?ce.brand.toLowerCase()===me.toLowerCase():oe==="group"?ce.group.toLowerCase()===me.toLowerCase():!1);if(K.length===0){X=`Khng tm thy sn phm no khp vi iu kin: ${oe} = '${me}'.`;break}K.forEach(ce=>{const A=de.split(".");let V=ce.userInput;for(let ae=0;ae<A.length-1;ae++)V=V[A[ae]];let I=V[A[A.length-1]];he==="phi_dich_vu_mua_hang"&&(I*=1e6);let ie=0;switch(b){case"percentage_increase":ie=I*(1+B/100);break;case"percentage_decrease":ie=I*(1-B/100);break;case"absolute_increase":ie=I+B;break;case"absolute_decrease":ie=I-B;break;case"set_value":ie=B;break;default:ie=I}const re=he==="phi_dich_vu_mua_hang"?ie/1e6:ie;r(ce.id,de,re)}),X=` cp nht '${he}' cho ${K.length} sn phm.`;break}case"add_product_to_plan":{const{product_name:oe,quantity_kg:me,price_usd_per_ton:he,selling_price_vnd_per_kg:b}=te.args,B=U(oe);B?(p({productCode:B.code,quantityInKg:me,priceUSDPerTon:he??B.defaultPriceUSDPerTon,sellingPriceVNDPerKg:b??B.defaultSellingPriceVND}),X=` thm sn phm '${oe}' vo k hoch.`):X=`Li: Khng tm thy sn phm '${oe}' trong danh mc sn phm.`;break}case"update_general_setting":{const{setting_name:oe,new_value:me}=te.args,he=Sm[oe];he&&g[he]?(g[he](me),X=` cp nht ci t '${oe}' thnh '${me}'.`):X=`Li: Khng tm thy ci t '${oe}'.`;break}case"remove_product_from_plan":{const{product_name:oe}=te.args,me=ee(oe);me?(d(me.id),X=` xa sn phm '${oe}' khi k hoch.`):X=`Li: Khng tm thy sn phm '${oe}' trong k hoch  xa.`;break}}X&&ne.push(X)}ne.length>0&&m(te=>[...te,{id:Date.now()+Math.random(),sender:"system",text:ne.join(`
`)}])},se=async()=>{if(!T.trim()||C)return;const G={id:Date.now(),sender:"user",text:T};m(te=>[...te,G]);const ne=T;x(""),_(!0);try{if(!O.current){const X=new ku({apiKey:"PLACEHOLDER_API_KEY"}),oe=[{name:"update_product_property",description:"Cp nht mt thuc tnh ca MT sn phm c th trong k hoch.",parameters:{type:qe.OBJECT,properties:{product_name:{type:qe.STRING,description:'Tn ting Vit ca sn phm, bao gm c nhm hng. V d: "Tht tru - Thn ngoi".'},property_name:{type:qe.STRING,description:`Tn thuc tnh cn thay i. Gi tr hp l: ${Object.keys(Ua).join(", ")}.`},new_value:{type:qe.NUMBER,description:"Gi tr s mi."}},required:["product_name","property_name","new_value"]}},{name:"bulk_update_products",description:"Cp nht hng lot mt thuc tnh cho nhiu sn phm da trn mt iu kin lc.",parameters:{type:qe.OBJECT,properties:{filter_property:{type:qe.STRING,description:"Tiu ch lc sn phm. Dng 'brand'  lc theo thng hiu, 'group'  lc theo nhm (v d: 'Tht tru'), 'all'  p dng cho tt c sn phm."},filter_value:{type:qe.STRING,description:"Gi tr  lc. V d: 'Alana' nu filter_property l 'brand'."},target_property:{type:qe.STRING,description:`Tn thuc tnh cn thay i. Gi tr hp l: ${Object.keys(Ua).join(", ")}.`},update_type:{type:qe.STRING,description:"Loi cp nht: 'percentage_increase' (tng phn trm), 'percentage_decrease' (gim phn trm), 'absolute_increase' (tng gi tr tuyt i), 'absolute_decrease' (gim gi tr tuyt i), 'set_value' (t gi tr mi)."},update_value:{type:qe.NUMBER,description:"Gi tr cho vic cp nht (v d: 10 cho 10%, 5000 cho 5000 VND)."}},required:["filter_property","target_property","update_type","update_value"]}},{name:"add_product_to_plan",description:"Thm mt sn phm mi t danh mc vo k hoch kinh doanh.",parameters:{type:qe.OBJECT,properties:{product_name:{type:qe.STRING,description:"Tn ting Vit chnh xc ca sn phm cn thm, bao gm c nhm hng."},quantity_kg:{type:qe.NUMBER,description:"S lng tnh bng kg."},price_usd_per_ton:{type:qe.NUMBER,description:"Gi mua USD/tn. Nu khng cung cp, s dng gi mc nh."},selling_price_vnd_per_kg:{type:qe.NUMBER,description:"Gi bn VND/kg. Nu khng cung cp, s dng gi mc nh."}},required:["product_name","quantity_kg"]}},{name:"update_general_setting",description:"Cp nht mt ci t chung ca ton b k hoch.",parameters:{type:qe.OBJECT,properties:{setting_name:{type:qe.STRING,description:`Tn ci t cn thay i. Gi tr hp l: ${Object.keys(Sm).join(", ")}.`},new_value:{type:qe.NUMBER,description:"Gi tr s mi."}},required:["setting_name","new_value"]}},{name:"remove_product_from_plan",description:"Xa mt sn phm khi k hoch kinh doanh.",parameters:{type:qe.OBJECT,properties:{product_name:{type:qe.STRING,description:"Tn ting Vit ca sn phm cn xa, bao gm c nhm hng."}},required:["product_name"]}}],me=`You are a helpful AI assistant for a business planning application. The user is creating a business plan for importing and selling frozen food products in Vietnam.
- The user will give instructions in Vietnamese. You must respond in Vietnamese.
- Your primary goal is to help the user modify their business plan using the provided tools.
- If the user's request is ambiguous (e.g., "update the price for Alana"), you MUST ask for clarification (e.g., "Which Alana product do you mean? And do you want to update the purchase price or selling price?").
- Be concise and helpful. 
- **Current Plan Context:**
  - Products currently in the plan (Tn sn phm): ${a.length>0?a.map(he=>`'${he.group} - ${he.nameVI}' (thng hiu ${he.brand}, m ${he.code})`).join(", "):"Cha c sn phm no"}.
- **Available Products for Adding:**
  - You can add products from this master list: ${o.map(he=>`'${he.group} - ${he.nameVI}' (thng hiu ${he.brand}, m ${he.code})`).join(", ")}.
- **Function Calling Rules:**
  - ALWAYS use the exact Vietnamese product name with its group (e.g., 'Tht tru - Thn ngoi') as found in the context when calling functions. Do not guess or abbreviate.`;O.current=X.chats.create({model:"gemini-2.5-flash",config:{tools:[{functionDeclarations:oe}],systemInstruction:me}})}const te=await O.current.sendMessage({message:ne});te.functionCalls&&te.functionCalls.length>0?(J(te.functionCalls),m(X=>[...X,{id:Date.now()+1,sender:"ai",text:"Em  thc hin xong. Anh Cng cn em gip g na khng ?"}])):m(X=>[...X,{id:Date.now()+1,sender:"ai",text:te.text}])}catch(te){console.error("AI Assistant Error:",te),m(X=>[...X,{id:Date.now()+1,sender:"ai",text:"Xin li, bn khng c quyn truy cp"}])}finally{_(!1)}};return l?y.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl h-[80vh] flex flex-col",onClick:G=>G.stopPropagation(),children:[y.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(Km,{className:"h-6 w-6 text-blue-600"}),y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Tr l AI Tinh chnh K hoch"})]}),y.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:y.jsx(mo,{className:"h-6 w-6"})})]}),y.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[v.map(G=>y.jsx("div",{className:`flex ${G.sender==="user"?"justify-end":"justify-start"}`,children:y.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${G.sender==="user"?"bg-blue-500 text-white":G.sender==="ai"?"bg-gray-200 text-gray-800":"bg-yellow-100 text-yellow-800 border border-yellow-200 text-sm italic w-full"}`,children:G.text.split(`
`).map((ne,te)=>y.jsx("p",{children:ne},te))})},G.id)),C&&y.jsx("div",{className:"flex justify-start",children:y.jsx("div",{className:"bg-gray-200 text-gray-800 p-3 rounded-lg",children:y.jsx("span",{className:"animate-pulse",children:"AI ang suy ngh..."})})}),y.jsx("div",{ref:F})]}),y.jsx("footer",{className:"p-4 border-t bg-white",children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"text",value:T,onChange:G=>x(G.target.value),onKeyPress:G=>G.key==="Enter"&&se(),placeholder:k||"Nhp yu cu ca bn...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:C}),y.jsx("button",{onClick:le,disabled:C||!Vt,className:`p-2 rounded-full transition-colors ${M?"bg-red-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"} disabled:bg-gray-100 disabled:text-gray-400`,"aria-label":M?"Dng ghi m":"Bt u ghi m",children:y.jsx(po,{className:"h-6 w-6"})}),y.jsx("button",{onClick:se,disabled:C||!T.trim(),className:"p-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 disabled:bg-blue-300","aria-label":"Gi",children:y.jsx(j_,{className:"h-6 w-6"})})]})})]})}):null},Cm={code:"",nameVI:"",nameEN:"",brand:"",group:"",defaultWeightKg:28e3,defaultPriceUSDPerTon:4e3,defaultSellingPriceVND:void 0},tA=({isOpen:l,onClose:t,onSave:o})=>{const[a,r]=Z.useState(Cm);if(!l)return null;const d=v=>{const{id:m,value:T}=v.target;r(x=>({...x,[m]:T}))},p=(v,m)=>{r(T=>({...T,[v]:m}))},g=()=>{if(!a.code||!a.nameVI||!a.brand||!a.group){alert("Vui lng in y  cc trng bt buc: M, Tn, Thng hiu, v Nhm.");return}if(a.defaultSellingPriceVND===void 0){alert("Vui lng nhp gi bn mc nh.");return}o(a),r(Cm)};return y.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:v=>v.stopPropagation(),children:[y.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(za,{className:"h-6 w-6 text-indigo-600"}),y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Thm sn phm mi"})]}),y.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:y.jsx(mo,{className:"h-6 w-6"})})]}),y.jsxs("main",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Gt,{id:"code",label:"M sn phm (Bt buc)",value:a.code,onChange:d,placeholder:"V d: 46-ALANA"}),y.jsx(Gt,{id:"brand",label:"Thng hiu (Bt buc)",value:a.brand,onChange:d,placeholder:"V d: Alana"})]}),y.jsx(Gt,{id:"nameVI",label:"Tn ting Vit (Bt buc)",value:a.nameVI,onChange:d,placeholder:"V d: Thn ngoi"}),y.jsx(Gt,{id:"nameEN",label:"Tn ting Anh",value:a.nameEN,onChange:d,placeholder:"V d: Striploin C"}),y.jsx(Gt,{id:"group",label:"Nhm hng (Bt buc)",value:a.group,onChange:d,placeholder:"V d: Tht tru"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-2",children:[y.jsx(Me,{id:"defaultWeightKg",label:"KL mc nh (Kg)/cont",value:a.defaultWeightKg,onChange:v=>p("defaultWeightKg",v)}),y.jsx(Me,{id:"defaultPriceUSDPerTon",label:"Gi nhp mc nh (USD/Tn)",value:a.defaultPriceUSDPerTon,onChange:v=>p("defaultPriceUSDPerTon",v),decimalPlaces:2}),y.jsx(Me,{id:"defaultSellingPriceVND",label:"Gi bn mc nh (VND/Kg)",value:a.defaultSellingPriceVND??0,onChange:v=>p("defaultSellingPriceVND",v)})]})]}),y.jsxs("footer",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg space-x-2",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"Hy"}),y.jsx("button",{onClick:g,className:"px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",children:"Lu sn phm"})]})]})})},nA=({isOpen:l,onClose:t,products:o,setProducts:a,onEditProduct:r,onAddNewProduct:d})=>{const[p,g]=Z.useState(""),v=Z.useMemo(()=>{if(!p)return o;const T=p.toLowerCase();return o.filter(x=>x.code.toLowerCase().includes(T)||x.nameVI.toLowerCase().includes(T)||x.brand.toLowerCase().includes(T)||x.group.toLowerCase().includes(T))},[o,p]),m=T=>{if(window.confirm(`Bn c chc chn mun xa sn phm c m "${T}" khng? Hnh ng ny khng th hon tc.`)){const x=o.filter(C=>C.code!==T);a(x)}};return l?y.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col",onClick:T=>T.stopPropagation(),children:[y.jsxs("header",{className:"flex items-center justify-between p-4 border-b flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(za,{className:"h-6 w-6 text-indigo-600"}),y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Qun l Danh mc Sn phm"})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsxs("button",{onClick:d,className:"flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[y.jsx(Mu,{className:"h-5 w-5 mr-2"}),"Thm mi"]}),y.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:y.jsx(mo,{className:"h-6 w-6"})})]})]}),y.jsx("div",{className:"p-4 border-b flex-shrink-0",children:y.jsx(Gt,{id:"manage-product-search",label:"Tm kim sn phm",srOnlyLabel:!0,type:"text",placeholder:"Tm theo m, tn, thng hiu, hoc nhm...",value:p,onChange:T=>g(T.target.value)})}),y.jsx("main",{className:"flex-1 overflow-y-auto",children:y.jsx("div",{className:"divide-y divide-gray-200",children:v.length>0?v.map(T=>y.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-gray-50",children:[y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("p",{className:"text-sm font-medium text-indigo-600 truncate",title:`${T.brand} - ${T.code}`,children:[T.brand," - ",T.code]}),y.jsx("p",{className:"text-sm text-gray-800 truncate",title:T.nameVI,children:T.nameVI}),y.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[T.group," / ",T.nameEN]})]}),y.jsxs("div",{className:"ml-4 flex-shrink-0 flex items-center space-x-2",children:[y.jsx("button",{onClick:()=>r(T),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-100 rounded-full transition-colors","aria-label":`Sa sn phm ${T.nameVI}`,children:y.jsx(Hu,{className:"h-5 w-5"})}),y.jsx("button",{onClick:()=>m(T.code),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-100 rounded-full transition-colors","aria-label":`Xa sn phm ${T.nameVI}`,children:y.jsx(ka,{className:"h-5 w-5"})})]})]},T.code)):y.jsx("div",{className:"text-center py-10",children:y.jsx("p",{className:"text-gray-500",children:"Khng tm thy sn phm no."})})})}),y.jsx("footer",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg flex-shrink-0",children:y.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"ng"})})]})}):null},Em={code:"",nameVI:"",nameEN:"",brand:"",group:"",defaultWeightKg:0,defaultPriceUSDPerTon:0,defaultSellingPriceVND:0},lA=({isOpen:l,onClose:t,onSave:o,product:a})=>{const[r,d]=Z.useState(Em);if(Z.useEffect(()=>{d(a||Em)},[a]),!l||!a)return null;const p=m=>{const{id:T,value:x}=m.target;d(C=>({...C,[T]:x}))},g=(m,T)=>{d(x=>({...x,[m]:T}))},v=()=>{if(!r.code||!r.nameVI||!r.brand||!r.group){alert("Vui lng in y  cc trng bt buc: M, Tn, Thng hiu, v Nhm.");return}o(r)};return y.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:m=>m.stopPropagation(),children:[y.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(za,{className:"h-6 w-6 text-indigo-600"}),y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Chnh sa sn phm"})]}),y.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:y.jsx(mo,{className:"h-6 w-6"})})]}),y.jsxs("main",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Gt,{id:"code",label:"M sn phm (Khng th thay i)",value:r.code,onChange:p,disabled:!0}),y.jsx(Gt,{id:"brand",label:"Thng hiu (Bt buc)",value:r.brand,onChange:p,placeholder:"V d: Alana"})]}),y.jsx(Gt,{id:"nameVI",label:"Tn ting Vit (Bt buc)",value:r.nameVI,onChange:p,placeholder:"V d: Thn ngoi"}),y.jsx(Gt,{id:"nameEN",label:"Tn ting Anh",value:r.nameEN,onChange:p,placeholder:"V d: Striploin C"}),y.jsx(Gt,{id:"group",label:"Nhm hng (Bt buc)",value:r.group,onChange:p,placeholder:"V d: Tht tru"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-2",children:[y.jsx(Me,{id:"defaultWeightKg",label:"KL mc nh (Kg)/cont",value:r.defaultWeightKg,onChange:m=>g("defaultWeightKg",m)}),y.jsx(Me,{id:"defaultPriceUSDPerTon",label:"Gi nhp mc nh (USD/Tn)",value:r.defaultPriceUSDPerTon,onChange:m=>g("defaultPriceUSDPerTon",m),decimalPlaces:2}),y.jsx(Me,{id:"defaultSellingPriceVND",label:"Gi bn mc nh (VND/Kg)",value:r.defaultSellingPriceVND,onChange:m=>g("defaultSellingPriceVND",m)})]})]}),y.jsxs("footer",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg space-x-2",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"Hy"}),y.jsx("button",{onClick:v,className:"px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",children:"Lu thay i"})]})]})})},_m=({planToLoad:l,onPlanLoaded:t})=>{const[o,a]=Z.useState(()=>{try{const K=localStorage.getItem("businessPlanProducts");if(K)return JSON.parse(K)}catch(K){console.error("Could not load products from localStorage",K)}return Mv});Z.useEffect(()=>{try{localStorage.setItem("businessPlanProducts",JSON.stringify(o))}catch(K){console.error("Could not save products to localStorage",K)}},[o]);const[r,d]=Z.useState([]),[p,g]=Z.useState([]),[v,m]=Z.useState({exchangeRateImport:26356,exchangeRateTax:26154,salesSalaryRate:20,totalMonthlyIndirectSalary:75e6,workingDaysPerMonth:24,totalMonthlyRent:6e6,totalMonthlyElectricity:2e6,totalMonthlyWater:5e5,totalMonthlyStationery:5e5,totalMonthlyDepreciation:0,totalMonthlyExternalServices:1e6,totalMonthlyOtherCashExpenses:1e6,totalMonthlyFinancialCost:0}),T=(K,ce)=>{m(A=>({...A,[K]:ce}))},[x,C]=Z.useState(o.length>0?o[0].code:""),[_,M]=Z.useState(!1),[w,k]=Z.useState(!1),[z,F]=Z.useState(!1),[O,le]=Z.useState(!1),[ee,U]=Z.useState(null);Z.useEffect(()=>{if(l){const K=l.planItems.map(ce=>({...ce}));d(K),m(l.settings),t()}},[l,t]);const J=()=>{const K=JSON.stringify(o,null,2),ce=new Blob([K],{type:"application/json"}),A=URL.createObjectURL(ce),V=document.createElement("a");V.download="products.json",V.href=A,V.click(),URL.revokeObjectURL(A)},se=K=>{var V;const ce=(V=K.target.files)==null?void 0:V[0];if(!ce)return;const A=new FileReader;A.onload=I=>{var ie;try{const re=(ie=I.target)==null?void 0:ie.result;if(typeof re!="string")throw new Error("Khng th c file.");const ae=JSON.parse(re);if(Array.isArray(ae)&&ae.length>=0)a(ae),alert(`Ti ln thnh cng ${ae.length} sn phm!`);else throw new Error("nh dng file khng hp l.")}catch(re){alert(`Li khi x l file: ${re instanceof Error?re.message:"Li khng xc nh"}`)}finally{K.target.value=""}},A.readAsText(ce)},G=K=>{var V;const ce=(V=K.target.files)==null?void 0:V[0];if(!ce)return;const A=new FileReader;A.onload=I=>{var ie;try{const re=(ie=I.target)==null?void 0:ie.result;if(typeof re!="string")throw new Error("Khng th c file.");const ae=JSON.parse(re);if(ae&&Array.isArray(ae.planItems)&&ae.settings){const Ee=ae.planItems.map(We=>({...We}));d(Ee),m(ae.settings),alert(`Ti ln thnh cng k hoch "${ae.name||"khng tn"}"!`)}else throw new Error("nh dng file k hoch khng hp l.")}catch(re){alert(`Li khi x l file: ${re instanceof Error?re.message:"Li khng xc nh"}`)}finally{K.target&&(K.target.value="")}},A.readAsText(ce)},ne=K=>{if(o.some(A=>A.code.toLowerCase()===K.code.toLowerCase())){alert(`Li: M sn phm "${K.code}"  tn ti.`);return}const ce=[...o,K].sort((A,V)=>A.brand.localeCompare(V.brand)||A.nameVI.localeCompare(V.nameVI));a(ce),C(K.code),k(!1)},te=K=>{a(ce=>ce.map(A=>A.code===K.code?K:A)),le(!1),U(null),F(!0)},X=K=>{U(K),F(!1),le(!0)},oe=()=>{le(!1),U(null),F(!0)},me=()=>{F(!1),k(!0)};Z.useEffect(()=>{const K=zm(r,{importRate:v.exchangeRateImport,taxRate:v.exchangeRateTax,salesSalaryRate:v.salesSalaryRate,...v});g(K)},[r,v]);const he=K=>{const ce=o.find(A=>A.code===K.productCode);if(ce){const A=`${ce.code}-${new Date().getTime()}`;if(!p.some(V=>V.id===A)){const V={id:A,...ce,userInput:{priceUSDPerTon:K.priceUSDPerTon,sellingPriceVNDPerKg:K.sellingPriceVNDPerKg,quantityInKg:K.quantityInKg,costs:{customsFee:0,quarantineFee:0,containerRentalFee:0,portStorageFee:0,generalWarehouseCostRatePerKg:1300,loanInterestRatePerYear:8,loanFirstTransferUSD:100,loanFirstTransferInterestDays:30,postClearanceStorageDays:20,postClearanceStorageRatePerKgDay:150,importVatRate:5,purchasingServiceFeeInMillionsPerCont:5,buyerDeliveryFee:0,otherInternationalCosts:0,otherSellingCosts:0}},calculated:{}};d(I=>[...I,V])}}},b=(K,ce,A)=>{d(V=>V.map(I=>{if(I.id===K){const ie=JSON.parse(JSON.stringify(I));if(ce.startsWith("costs.")){const re=ce.split(".")[1];ie.userInput.costs[re]=A}else{const re=ce;ie.userInput[re]=A}return ie}return I}))},B=K=>{d(ce=>ce.filter(A=>A.id!==K))},de=p.reduce((K,ce)=>(K.totalGrossProfit+=ce.calculated.grossProfit||0,K.totalQuantityInKg+=ce.userInput.quantityInKg||0,K),{totalGrossProfit:0,totalQuantityInKg:0});return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[y.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[y.jsx(av,{exchangeRateImport:v.exchangeRateImport,setExchangeRateImport:K=>T("exchangeRateImport",K),exchangeRateTax:v.exchangeRateTax,setExchangeRateTax:K=>T("exchangeRateTax",K),salesSalaryRate:v.salesSalaryRate,setSalesSalaryRate:K=>T("salesSalaryRate",K)}),y.jsx(rv,{products:o,selectedProductCode:x,setSelectedProductCode:C,addProductToPlan:he,onAddNewProduct:()=>k(!0),onImportPlan:G})]}),p.length>0?y.jsx(mv,{items:p,updateItem:b,removeItem:B,planTotals:de,salesSalaryRate:v.salesSalaryRate,setSalesSalaryRate:K=>T("salesSalaryRate",K),totalMonthlyIndirectSalary:v.totalMonthlyIndirectSalary,setTotalMonthlyIndirectSalary:K=>T("totalMonthlyIndirectSalary",K),workingDaysPerMonth:v.workingDaysPerMonth,setWorkingDaysPerMonth:K=>T("workingDaysPerMonth",K),totalMonthlyRent:v.totalMonthlyRent,setTotalMonthlyRent:K=>T("totalMonthlyRent",K),totalMonthlyElectricity:v.totalMonthlyElectricity,setTotalMonthlyElectricity:K=>T("totalMonthlyElectricity",K),totalMonthlyWater:v.totalMonthlyWater,setTotalMonthlyWater:K=>T("totalMonthlyWater",K),totalMonthlyStationery:v.totalMonthlyStationery,setTotalMonthlyStationery:K=>T("totalMonthlyStationery",K),totalMonthlyDepreciation:v.totalMonthlyDepreciation,setTotalMonthlyDepreciation:K=>T("totalMonthlyDepreciation",K),totalMonthlyExternalServices:v.totalMonthlyExternalServices,setTotalMonthlyExternalServices:K=>T("totalMonthlyExternalServices",K),totalMonthlyOtherCashExpenses:v.totalMonthlyOtherCashExpenses,setTotalMonthlyOtherCashExpenses:K=>T("totalMonthlyOtherCashExpenses",K),totalMonthlyFinancialCost:v.totalMonthlyFinancialCost,setTotalMonthlyFinancialCost:K=>T("totalMonthlyFinancialCost",K)}):y.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[y.jsx(Mu,{className:"mx-auto h-12 w-12 text-gray-400"}),y.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cha c sn phm no trong k hoch"}),y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Bt u bng cch chn mt sn phm v thm vo k hoch kinh doanh ca bn."})]}),y.jsx("div",{className:"mt-6",children:y.jsx(Z_,{items:p,uncalculatedItems:r,settings:v,onOpenAiAssistant:()=>M(!0)})}),y.jsx("div",{className:"mt-6",children:y.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200",children:[y.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[y.jsx(W_,{className:"h-5 w-5 mr-2 text-gray-500"}),"Qun l d liu sn phm"]}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Chnh sa, ti xung danh sch sn phm hin ti hoc ti ln danh sch mi t file JSON  cp nht."}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[y.jsxs("button",{onClick:()=>F(!0),className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",children:[y.jsx(Hu,{className:"h-5 w-5 mr-2"}),"Chnh sa danh mc"]}),y.jsxs("button",{onClick:J,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",children:[y.jsx(Ha,{className:"h-5 w-5 mr-2"}),"Xut file JSON"]}),y.jsxs("label",{htmlFor:"import-json",className:"w-full cursor-pointer flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[y.jsx(Fa,{className:"h-5 w-5 mr-2"}),"Nhp Danh mc (JSON)"]}),y.jsx("input",{id:"import-json",type:"file",className:"hidden",accept:".json,application/json",onChange:se})]})]})})]}),y.jsx(nA,{isOpen:z,onClose:()=>F(!1),products:o,setProducts:a,onEditProduct:X,onAddNewProduct:me}),y.jsx(eA,{isOpen:_,onClose:()=>M(!1),products:o,planItems:p,updatePlanItem:b,removePlanItem:B,addProductToPlan:he,setters:{setExchangeRateImport:K=>T("exchangeRateImport",K),setExchangeRateTax:K=>T("exchangeRateTax",K),setSalesSalaryRate:K=>T("salesSalaryRate",K),setTotalMonthlyIndirectSalary:K=>T("totalMonthlyIndirectSalary",K),setWorkingDaysPerMonth:K=>T("workingDaysPerMonth",K),setTotalMonthlyRent:K=>T("totalMonthlyRent",K),setTotalMonthlyElectricity:K=>T("totalMonthlyElectricity",K),setTotalMonthlyWater:K=>T("totalMonthlyWater",K),setTotalMonthlyStationery:K=>T("totalMonthlyStationery",K),setTotalMonthlyDepreciation:K=>T("totalMonthlyDepreciation",K),setTotalMonthlyExternalServices:K=>T("totalMonthlyExternalServices",K),setTotalMonthlyOtherCashExpenses:K=>T("totalMonthlyOtherCashExpenses",K),setTotalMonthlyFinancialCost:K=>T("totalMonthlyFinancialCost",K)}}),y.jsx(tA,{isOpen:w,onClose:()=>k(!1),onSave:ne}),y.jsx(lA,{isOpen:O,onClose:oe,onSave:te,product:ee})]})},iA=()=>y.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:y.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[y.jsx(Hm,{className:"mx-auto h-12 w-12 text-gray-400"}),y.jsx("h1",{className:"mt-4 text-xl font-bold text-gray-800",children:"Module Thu - Chi tin"}),y.jsx("p",{className:"mt-2 text-gray-600",children:"Xin li, bn khng c quyn truy cp"})]})}),oA=()=>y.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:y.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[y.jsx(Bm,{className:"mx-auto h-12 w-12 text-gray-400"}),y.jsx("h1",{className:"mt-4 text-xl font-bold text-gray-800",children:"Module Nhp - Xut hng"}),y.jsx("p",{className:"mt-2 text-gray-600",children:"Xin li, bn khng c quyn truy cp"})]})}),aA=()=>y.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:y.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[y.jsx(qm,{className:"mx-auto h-12 w-12 text-gray-400"}),y.jsx("h1",{className:"mt-4 text-xl font-bold text-gray-800",children:"Module Qun l i kinh doanh & Marketing"}),y.jsx("p",{className:"mt-2 text-gray-600",children:"Xin li, bn khng c quyn truy cp"})]})}),sA=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),rA=({title:l,toggleSidebar:t})=>y.jsx("header",{className:"bg-white shadow-sm flex-shrink-0",children:y.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-4 flex items-center",children:[y.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 focus:outline-none mr-4",children:y.jsx(sA,{className:"h-6 w-6"})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l})]})});var Am;(function(l){l.STRING="string",l.NUMBER="number",l.INTEGER="integer",l.BOOLEAN="boolean",l.ARRAY="array",l.OBJECT="object"})(Am||(Am={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nm;(function(l){l.LANGUAGE_UNSPECIFIED="language_unspecified",l.PYTHON="python"})(Nm||(Nm={}));var bm;(function(l){l.OUTCOME_UNSPECIFIED="outcome_unspecified",l.OUTCOME_OK="outcome_ok",l.OUTCOME_FAILED="outcome_failed",l.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(bm||(bm={}));var Mm;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Mm||(Mm={}));var Rm;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(Rm||(Rm={}));var Im;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(Im||(Im={}));var wm;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER"})(wm||(wm={}));var fo;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.OTHER="OTHER"})(fo||(fo={}));var Dm;(function(l){l.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",l.RETRIEVAL_QUERY="RETRIEVAL_QUERY",l.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",l.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",l.CLASSIFICATION="CLASSIFICATION",l.CLUSTERING="CLUSTERING"})(Dm||(Dm={}));var Um;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE"})(Um||(Um={}));var Lm;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Lm||(Lm={}));var Pm;(function(l){l.GENERATE_CONTENT="generateContent",l.STREAM_GENERATE_CONTENT="streamGenerateContent",l.COUNT_TOKENS="countTokens",l.EMBED_CONTENT="embedContent",l.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Pm||(Pm={}));fo.RECITATION,fo.SAFETY,fo.LANGUAGE;const Qa=new ku({apiKey:"PLACEHOLDER_API_KEY"}),Xa=(l,t)=>{console.error(`Gemini API Error (${t}):`,l);let o=` xy ra li khng xc nh trong qu trnh ${t}.`;if(l instanceof Error){const a=l.message.toLowerCase();a.includes("api key not valid")||a.includes("permission_denied")?o="Li xc thc: Kha API ca bn khng hp l hoc  ht hn. Vui lng kim tra li.":a.includes("400 bad request")||a.includes("invalid argument")||a.includes("request payload size")?o="Li yu cu: D liu gi i khng hp l. Tp c th b hng, qu ln hoc c nh dng khng c h tr.":a.includes("quota")?o="Li hn ngch: Bn  vt qu gii hn yu cu cho php. Vui lng th li sau.":a.includes("500")||a.includes("503")||a.includes("internal")?o="Li my ch: Dch v AI hin ang gp s c. Vui lng th li sau t pht.":a.includes("fetch")||a.includes("network")?o="Li mng: Khng th kt ni n dch v AI. Vui lng kim tra kt ni internet ca bn.":o=` xy ra li trong qu trnh ${t}: ${l.message}`}return new Error(o)},uA=async l=>({inlineData:{data:await new Promise(o=>{const a=new FileReader;a.onloadend=()=>{typeof a.result=="string"?o(a.result.split(",")[1]):o("")},a.readAsDataURL(l)}),mimeType:l.type}}),cA=async(l,t)=>{try{const o=await uA(l);return(await Qa.models.generateContent({model:t,contents:{parts:[{text:"Vui lng chuyn i file m thanh sau thnh vn bn. Hy s dng tnh nng nhn dng ngi ni (speaker diarization)  xc nh v gn nhn cho tng ngi ni (v d: Ngi ni 1, Ngi ni 2, v.v.). Kt qu u ra ch nn l vn bn  c chuyn i km theo nhn ca ngi ni. Khng thm bt k bnh lun hay nh dng no khc ngoi ni dung phin m."},o]}})).text}catch(o){throw Xa(o,"phin m")}},dA=async(l,t,o)=>{const a=`
        Based on the following meeting transcription and details, please generate a professional meeting minutes document in HTML format.

        **Meeting Details:**
        - **Topic/Purpose:** ${t.topic||"Not specified"}
        - **Time and Place:** ${t.timeAndPlace||"Not specified"}
        - **Chairperson:** ${t.chair||"Not specified"}
        - **Attendees:** ${t.attendees||"Not specified"}

        **Meeting Transcription:**
        ---
        ${l}
        ---

        **Instructions for HTML Output:**
        1.  The entire output must be a single block of HTML, without any surrounding markdown backticks (\`\`\`).
        2.  Use Tailwind CSS classes for styling to create a clean, professional, and readable document. Use a light theme (e.g., white background, dark text).
        3.  The structure should include:
            - A main title (\`<h1>\`) for the meeting topic.
            - A section for meeting details (time, place, attendees, chair).
            - Key sections like "Agenda", "Discussion Summary", "Decisions Made", and "Action Items".
            - Use \`<h2>\` for section titles.
            - Use \`<ul>\` and \`<li>\` for lists. For action items, clearly state the task and who is assigned to it.
        4.  Analyze the transcription to extract the relevant information for each section. If the agenda is not explicitly stated, infer it from the discussion topics.
        5.  The language of the output should be Vietnamese.

        **Example of desired HTML structure snippet:**
        \`\`\`html
        <div class="font-sans p-8 bg-white text-gray-800">
            <h1 class="text-3xl font-bold mb-2 text-gray-900">Bin bn hp: [Ch  cuc hp]</h1>
            <hr class="mb-6">
            ... (details section) ...
            <h2 class="text-2xl font-semibold mt-8 mb-4 text-gray-800 border-b pb-2">Tm tt tho lun</h2>
            ...
            <h2 class="text-2xl font-semibold mt-8 mb-4 text-gray-800 border-b pb-2">Cc cng vic cn thc hin</h2>
            <ul class="list-disc list-inside space-y-2">
                <li><strong>[M t cng vic]:</strong> Ph trch: [Tn ngi/Nhm]. Hn cui: [Ngy, nu c].</li>
            </ul>
        </div>
        \`\`\`

        Now, generate the complete HTML in Vietnamese based on the provided transcription and details.
    `;try{let d=(await Qa.models.generateContent({model:o,contents:a})).text.trim();return d.startsWith("```html")&&(d=d.substring(7)),d.endsWith("```")&&(d=d.substring(0,d.length-3)),d.trim()}catch(r){throw Xa(r,"to bin bn")}},fA=async(l,t,o,a,r)=>{const d=`
        You are an AI assistant tasked with editing a set of meeting minutes. The minutes are in Vietnamese.
        You will be given the original meeting transcription, the meeting details, the previous HTML version of the minutes, and a user's request for edits.
        Your task is to apply the edits and return a new, complete HTML document that incorporates the changes.

        **User's Edit Request (in Vietnamese):**
        "${a}"

        **Original Meeting Transcription (for context):**
        ---
        ${l}
        ---

        **Original Meeting Details (for context):**
        - **Topic/Purpose:** ${t.topic||"Not specified"}
        - **Time and Place:** ${t.timeAndPlace||"Not specified"}
        - **Chairperson:** ${t.chair||"Not specified"}
        - **Attendees:** ${t.attendees||"Not specified"}
        
        **Previous HTML Version of Minutes:**
        ---
        ${o}
        ---

        **Instructions:**
        1.  Carefully analyze the user's edit request.
        2.  Modify the "Previous HTML Version of Minutes" to reflect the requested changes. You may need to add, remove, or alter text and structure.
        3.  If the edit request is vague, use the original transcription to find the correct information.
        4.  The output must be the complete, new HTML document in Vietnamese.
        5.  Maintain the same styling (Tailwind CSS) and structure as the original HTML.
        6.  The entire output must be a single block of HTML, without any surrounding markdown backticks (\`\`\`).
    `;try{let g=(await Qa.models.generateContent({model:r,contents:d})).text.trim();return g.startsWith("```html")&&(g=g.substring(7)),g.endsWith("```")&&(g=g.substring(0,g.length-3)),g.trim()}catch(p){throw Xa(p,"chnh sa bin bn")}},hA=async l=>{var t,o,a,r,d,p;try{const v=(p=(d=(r=(a=(o=(t=(await Qa.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:l}]}],config:{responseModalities:[ho.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates)==null?void 0:t[0])==null?void 0:o.content)==null?void 0:a.parts)==null?void 0:r[0])==null?void 0:d.inlineData)==null?void 0:p.data;if(!v)throw new Error("Khng nhn c d liu m thanh t AI.");return v}catch(g){throw Xa(g,"to m thanh")}};function pA(l){const t=l.numberOfChannels,o=l.sampleRate,a=16,r=1,d=new Int16Array(l.length*t),p=[];for(let C=0;C<t;C++)p.push(l.getChannelData(C));let g=0;for(let C=0;C<l.length;C++)for(let _=0;_<t;_++){let M=Math.max(-1,Math.min(1,p[_][C]));d[g++]=M<0?M*32768:M*32767}const v=44+d.length*2,m=new DataView(new ArrayBuffer(v));function T(C,_,M){for(let w=0;w<M.length;w++)C.setUint8(_+w,M.charCodeAt(w))}let x=0;T(m,x,"RIFF"),x+=4,m.setUint32(x,36+d.length*2,!0),x+=4,T(m,x,"WAVE"),x+=4,T(m,x,"fmt "),x+=4,m.setUint32(x,16,!0),x+=4,m.setUint16(x,r,!0),x+=2,m.setUint16(x,t,!0),x+=2,m.setUint32(x,o,!0),x+=4,m.setUint32(x,o*t*(a/8),!0),x+=4,m.setUint16(x,t*(a/8),!0),x+=2,m.setUint16(x,a,!0),x+=2,T(m,x,"data"),x+=4,m.setUint32(x,d.length*2,!0),x+=4;for(let C=0;C<d.length;C++,x+=2)m.setInt16(x,d[C],!0);return new Blob([m],{type:"audio/wav"})}const mA=async(l,t,o)=>{const a=new(window.AudioContext||window.webkitAudioContext);try{o(5);const r=await l.arrayBuffer();o(15);const d=await a.decodeAudioData(r);o(25);let p=d;if(t.removeSilence){const x=p.sampleRate,C=p.getChannelData(0),_=[];let M=-1;for(let w=0;w<C.length;w++){const k=Math.abs(C[w])>.01;if(k&&M===-1)M=w;else if(!k&&M!==-1){const z=w;(z-M)/x>=.1&&_.push(C.subarray(M,z)),M=-1}}if(M!==-1&&_.push(C.subarray(M)),_.length>0){const w=_.reduce((O,le)=>O+le.length,0),k=new Float32Array(w);let z=0;for(const O of _)k.set(O,z),z+=O.length;const F=a.createBuffer(1,w,x);F.copyToChannel(k,0),p=F}o(45)}if(t.noiseReduction||t.normalizeVolume){const m=p.getChannelData(0),T=.005;let x=0;for(let C=0;C<m.length;C++)t.noiseReduction&&Math.abs(m[C])<T&&(m[C]=0),t.normalizeVolume&&Math.abs(m[C])>x&&(x=Math.abs(m[C]));if(t.normalizeVolume&&x>0){const C=.95/x;for(let _=0;_<m.length;_++)m[_]*=C}o(65)}if(t.convertToMono16k){if(p.numberOfChannels!==1||p.sampleRate!==16e3){const T=p.duration,x=new OfflineAudioContext(1,T*16e3,16e3),C=x.createBufferSource();C.buffer=p,C.connect(x.destination),C.start(0),p=await x.startRendering()}o(85)}const g=pA(p);o(95);const v=`${l.name.split(".").slice(0,-1).join(".")}_processed.wav`;return o(100),new File([g],v,{type:"audio/wav"})}catch(r){return console.error("Error processing audio:",r),alert(`Audio processing failed: ${r instanceof Error?r.message:"Unknown error"}. Returning original file.`),l}finally{a.state!=="closed"&&a.close()}},Tg=l=>y.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M4.5 7.5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-9a3 3 0 01-3-3v-9z",clipRule:"evenodd"})}),gA=(l,t=2)=>{if(l===0)return"0 Bytes";const o=1024,a=t<0?0:t,r=["Bytes","KB","MB","GB","TB"],d=Math.floor(Math.log(l)/Math.log(o));return parseFloat((l/Math.pow(o,d)).toFixed(a))+" "+r[d]},Vm=l=>{if(isNaN(l)||l<0)return"N/A";const t=Math.floor(l/3600),o=Math.floor(l%3600/60),a=Math.floor(l%60),r=[];return t>0&&r.push(String(t).padStart(2,"0")),r.push(String(o).padStart(2,"0")),r.push(String(a).padStart(2,"0")),r.join(":")},yA=({onFileSelect:l,disabled:t})=>{const[o,a]=Z.useState([]),r=Z.useRef(null),[d,p]=Z.useState(!1),[g,v]=Z.useState(0),m=Z.useRef(null),T=Z.useRef([]),x=Z.useRef(null),C=Z.useRef(null),_=Z.useCallback(U=>{if(!U||U.length===0){l([]),a([]);return}l(U),a([]),U.forEach(J=>{const se=J.type.startsWith("audio/"),G=J.type.startsWith("text/"),ne={name:J.name,size:gA(J.size),duration:se?"...":G?"Text file":"Unsupported type"};if(a(te=>[...te,ne]),se){const te=URL.createObjectURL(J),X=new Audio(te),oe=()=>{URL.revokeObjectURL(te),X.removeEventListener("loadedmetadata",me),X.removeEventListener("error",he)},me=()=>{a(b=>b.map(B=>B.name===J.name?{...B,duration:Vm(X.duration)}:B)),oe()},he=()=>{a(b=>b.map(B=>B.name===J.name?{...B,duration:"Invalid audio"}:B)),oe()};X.addEventListener("loadedmetadata",me),X.addEventListener("error",he)}})},[l]),M=Z.useCallback(()=>{C.current&&(C.current.getTracks().forEach(U=>U.stop()),C.current=null),x.current&&(clearInterval(x.current),x.current=null),p(!1),v(0),T.current=[]},[]),w=async()=>{if(!d){z();try{const U=await navigator.mediaDevices.getUserMedia({audio:!0});C.current=U;const J=new MediaRecorder(U);m.current=J,J.ondataavailable=se=>{se.data.size>0&&T.current.push(se.data)},J.onstop=()=>{var se;if(T.current.length>0){const G=((se=m.current)==null?void 0:se.mimeType)||"audio/webm",ne=new Blob(T.current,{type:G}),te=G.split("/")[1].split(";")[0],X=new File([ne],`recording-${Date.now()}.${te}`,{type:G});_([X])}M()},J.start(),p(!0),x.current=window.setInterval(()=>{v(se=>se+1)},1e3)}catch(U){console.error("Error accessing microphone:",U),alert("Could not access microphone. Please ensure permissions are granted."),M()}}},k=()=>{m.current&&d&&m.current.stop()},z=Z.useCallback(()=>{var U;d?(U=m.current)==null||U.stop():M(),a([]),l([]),r.current&&(r.current.value="")},[l,d,M]);Z.useEffect(()=>()=>{d&&M()},[d,M]);const F=U=>{_(Array.from(U.target.files||[])),U.target&&(U.target.value="")},O=Z.useCallback(U=>{U.preventDefault()},[]),le=Z.useCallback(U=>{U.preventDefault(),!(t||d)&&_(Array.from(U.dataTransfer.files))},[t,d,_]),ee=t||d;return y.jsxs("div",{children:[y.jsxs("label",{onDragOver:O,onDrop:le,className:`flex flex-col items-center justify-center w-full h-32 px-4 transition bg-gray-50 border-2 border-gray-300 border-dashed rounded-md appearance-none ${ee?"cursor-not-allowed opacity-50":"cursor-pointer hover:border-indigo-500"}`,children:[y.jsxs("span",{className:"flex items-center space-x-2",children:[y.jsx(Fa,{className:"w-6 h-6 text-gray-500"}),y.jsxs("span",{className:"font-medium text-gray-700",children:["Ko th file, hoc ",y.jsx("span",{className:"text-indigo-600 underline",children:"chn file"})]})]}),y.jsx("input",{ref:r,type:"file",name:"file_upload",className:"hidden",multiple:!0,onChange:F,accept:"audio/*,text/plain,.txt,.md",disabled:ee})]}),o.length>0&&y.jsxs("div",{className:"mt-3 text-center text-sm",children:[y.jsx("div",{className:"max-h-24 overflow-y-auto bg-gray-100 p-2 rounded-md space-y-2 text-left",children:o.map((U,J)=>y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-800 truncate font-semibold text-xs",title:U.name,children:U.name}),y.jsxs("p",{className:"text-gray-500 text-xs",children:[U.size,"  ",U.duration]})]},`${U.name}-${J}`))}),y.jsx("button",{onClick:z,disabled:t,className:"mt-2 text-xs text-red-500 hover:text-red-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Xa la chn"})]}),y.jsxs("div",{className:"flex items-center my-4",children:[y.jsx("div",{className:"flex-grow border-t border-gray-300"}),y.jsx("span",{className:"flex-shrink mx-4 text-gray-500 text-sm font-semibold",children:"HOC"}),y.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),y.jsx("div",{className:"text-center",children:d?y.jsxs("button",{type:"button",onClick:k,disabled:t,className:"w-full sm:w-auto flex items-center justify-center gap-x-3 px-6 py-2 bg-red-600 text-white font-bold rounded-lg shadow-sm hover:bg-red-700 disabled:bg-gray-400 transition-all duration-300",children:[y.jsx(Tg,{className:"w-5 h-5"}),y.jsxs("span",{children:["Dng ghi m (",Vm(g),")"]})]}):y.jsxs("button",{type:"button",onClick:w,disabled:t||o.length>0,className:"w-full sm:w-auto flex items-center justify-center gap-x-3 px-6 py-2 bg-gray-500 text-white font-bold rounded-lg shadow-sm hover:bg-gray-600 disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed transition-all duration-300",children:[y.jsx(po,{className:"w-5 h-5"}),y.jsx("span",{children:"Ghi m bng ging ni"})]})})]})},La=({label:l,disabled:t,checked:o,onChange:a})=>y.jsxs("label",{className:`flex items-center space-x-2 ${t?"cursor-not-allowed opacity-60":"cursor-pointer"}`,children:[y.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 bg-gray-100 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500",disabled:t,checked:o,onChange:r=>a(r.target.checked)}),y.jsx("span",{className:"text-gray-700 text-sm",children:l})]}),vA=({disabled:l,options:t,onOptionChange:o})=>y.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg h-full",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Cc ty chn ny gip ci thin  chnh xc phin m cho file audio."}),y.jsx(La,{label:"Chuyn sang mono & 16kHz",disabled:l,checked:t.convertToMono16k,onChange:a=>o("convertToMono16k",a)}),y.jsx(La,{label:"p dng gim nhiu",disabled:l,checked:t.noiseReduction,onChange:a=>o("noiseReduction",a)}),y.jsx(La,{label:"Chun ha m lng",disabled:l,checked:t.normalizeVolume,onChange:a=>o("normalizeVolume",a)}),y.jsx(La,{label:"Loi b khong lng",disabled:l,checked:t.removeSilence,onChange:a=>o("removeSilence",a)})]}),TA=l=>y.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),xg=l=>y.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),xA=l=>y.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),SA=({text:l})=>{const[t,o]=Z.useState(!1),a=()=>{navigator.clipboard.writeText(l),o(!0),setTimeout(()=>o(!1),2e3)},r=()=>{const d=new Blob([l],{type:"text/plain"}),p=URL.createObjectURL(d),g=document.createElement("a");g.href=p,g.download="transcription.txt",document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p)};return y.jsxs("div",{className:"relative bg-gray-50 p-4 rounded-lg",children:[y.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2",children:[y.jsx("button",{onClick:a,className:"p-1.5 bg-gray-200 rounded-md hover:bg-gray-300 text-gray-600 hover:text-gray-800 transition",title:"Copy to clipboard",children:t?y.jsx(xA,{className:"w-5 h-5 text-green-500"}):y.jsx(TA,{className:"w-5 h-5"})}),y.jsx("button",{onClick:r,className:"p-1.5 bg-gray-200 rounded-md hover:bg-gray-300 text-gray-600 hover:text-gray-800 transition",title:"Download as .txt",children:y.jsx(xg,{className:"w-5 h-5"})})]}),y.jsx("textarea",{readOnly:!0,value:l,className:"w-full text-gray-800 whitespace-pre-wrap font-mono text-sm leading-relaxed p-2 h-48 sm:h-64 overflow-y-auto bg-white border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-500","aria-label":"Transcription Result"})]})},gu=({progress:l,message:t})=>{const o=Math.max(0,Math.min(100,Math.round(l)));return y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("p",{className:"text-sm text-gray-600",children:t}),y.jsxs("p",{className:"text-sm font-semibold text-indigo-600",children:[o,"%"]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${o}%`}})})]})},CA=l=>y.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:y.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.91 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),EA=[{id:"gemini-2.5-flash",name:"Flash (Nhanh & Hiu qu)"},{id:"gemini-2.5-pro",name:"Pro (Cht lng cao nht)"}],_A=({onModelChange:l,disabled:t,initialModel:o})=>y.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[y.jsx("label",{htmlFor:"model-select",className:"block text-sm font-medium text-gray-700 mb-2",children:'Chn model AI. "Pro" cho  chnh xc cao hn nhng c th chm hn.'}),y.jsx("select",{id:"model-select",value:o,onChange:a=>l(a.target.value),disabled:t,className:"w-full bg-white border border-gray-300 text-gray-900 rounded-md p-2 focus:ring-indigo-500 focus:border-indigo-500",children:EA.map(a=>y.jsx("option",{value:a.id,children:a.name},a.id))})]}),AA=({label:l,value:t,onChange:o,placeholder:a,disabled:r,onMicClick:d,isListening:p,micSupported:g,showError:v})=>y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",value:t,onChange:m=>o(m.target.value),placeholder:p?"ang nghe...":v?"Khng nghe r. Vui lng th li...":a,disabled:r,className:"w-full bg-white border border-gray-300 text-gray-900 rounded-md p-2 focus:ring-indigo-500 focus:border-indigo-500 pr-10","aria-label":l}),g&&y.jsx("button",{type:"button",onClick:d,disabled:r,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:`Dictate for ${l}`,children:y.jsx(po,{className:`w-5 h-5 ${p?"text-red-500 animate-pulse":""}`})})]})]}),NA=({onSubmit:l,disabled:t})=>{const[o,a]=Z.useState({timeAndPlace:"",attendees:"",chair:"",topic:""}),[r,d]=Z.useState(null),[p,g]=Z.useState(null),[v,m]=Z.useState(!1),T=Z.useRef(null),x=Z.useRef(null);Z.useEffect(()=>{const k=window.SpeechRecognition||window.webkitSpeechRecognition;if(!k){m(!1),console.warn("Speech Recognition not supported by this browser.");return}m(!0);const z=new k;return z.continuous=!1,z.interimResults=!1,z.lang="vi-VN",z.onstart=()=>{},z.onresult=F=>{const O=F.results[F.results.length-1][0].transcript.trim(),le=x.current;le&&a(ee=>{const U=ee[le];return{...ee,[le]:(U?U+" ":"")+O}})},z.onerror=F=>{console.error("Speech recognition error:",F.error),F.error==="no-speech"?x.current&&(g(x.current),setTimeout(()=>g(null),3e3)):F.error==="not-allowed"?alert("Bn  t chi quyn truy cp micro. Vui lng cho php truy cp micro trong ci t trnh duyt  s dng tnh nng ny."):alert(` xy ra li khi nhn dng ging ni: ${F.error}. Vui lng th li.`),x.current&&(d(null),x.current=null)},z.onend=()=>{x.current&&(d(null),x.current=null)},T.current=z,()=>{T.current&&T.current.abort()}},[]);const C=k=>{if(!v||!T.current)return;const z=r!==null;if(r===k)T.current.stop();else if(!z){x.current=k,d(k),g(null);try{T.current.start()}catch(O){console.error("Error starting speech recognition:",O),d(null),x.current=null}}},_=(k,z)=>{a(F=>({...F,[k]:z}))},M=k=>{k.preventDefault(),l(o)},w=(k,z,F)=>{const O=r!==null,le=r===k;return y.jsx(AA,{label:z,value:o[k],onChange:ee=>_(k,ee),placeholder:F,disabled:t||O&&!le,onMicClick:()=>C(k),isListening:le,micSupported:v,showError:p===k})};return y.jsxs("form",{onSubmit:M,className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Cung cp cc chi tit (khng bt buc)  a vo bin bn. AI s c gng in thng tin cn thiu t vn bn. Bm vo micro  c."}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w("timeAndPlace","Thi gian & a im","VD: 2 PM, 26/10, 2023, Phng 4"),w("attendees","Ngi tham d","VD: John D, Jane S, i Marketing"),w("chair","Ch ta","VD: John Doe"),w("topic","Ch  / Mc ch","VD: Chin lc Marketing Qu 4")]}),y.jsx("div",{className:"text-center pt-2",children:y.jsx("button",{type:"submit",disabled:t||r!==null,className:"w-full sm:w-auto px-6 py-2 bg-purple-600 text-white font-bold rounded-lg shadow-sm hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:t?"ang to...":" To bin bn hp"})})]})},Gm=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})});function bA(l){const t=atob(l),o=t.length,a=new Uint8Array(o);for(let r=0;r<o;r++)a[r]=t.charCodeAt(r);return a}async function MA(l,t,o,a){const r=new Int16Array(l.buffer),d=r.length/a,p=t.createBuffer(a,d,o);for(let g=0;g<a;g++){const v=p.getChannelData(g);for(let m=0;m<d;m++)v[m]=r[m*a+g]/32768}return p}const RA=({htmlContent:l,meetingDetails:t})=>{const[o,a]=Z.useState(!1),[r,d]=Z.useState(!1),[p,g]=Z.useState(""),v=Z.useRef(null),m=Z.useRef(null);Z.useEffect(()=>()=>{if(m.current)try{m.current.stop()}catch{}v.current&&v.current.state!=="closed"&&v.current.close()},[l]);const T=()=>new Blob([l],{type:"text/html"}),x=()=>{const M=T(),w=URL.createObjectURL(M),k=document.createElement("a");k.href=w;const z=new Date,F=String(z.getDate()).padStart(2,"0"),O=String(z.getMonth()+1).padStart(2,"0"),le=z.getFullYear();let ee="chua_ro_dia_diem";if(t!=null&&t.timeAndPlace){const U=t.timeAndPlace.split(","),J=U[U.length-1].trim();J&&(ee=J.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(//g,"d").replace(//g,"D").replace(/[^a-zA-Z0-9-]/g,"_").replace(/_+/g,"_"))}k.download=`Bin bn cuc hp ngy ${F} thng ${O} nm ${le} ti ${ee}.html`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(w)},C=()=>{const M=T(),w=URL.createObjectURL(M);window.open(w,"_blank")},_=async()=>{if(r&&m.current){m.current.stop();return}if(!o){a(!0),g("");try{const M=document.createElement("div");M.innerHTML=l,M.querySelectorAll("p, li, h1, h2, h3, h4").forEach(O=>{O.insertAdjacentText("beforeend",". ")});const w=M.innerText;if(!w.trim())throw new Error("Khng c ni dung  c.");const k=await hA(w);(!v.current||v.current.state==="closed")&&(v.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}));const z=await MA(bA(k),v.current,24e3,1),F=v.current.createBufferSource();F.buffer=z,F.connect(v.current.destination),F.onended=()=>{d(!1),m.current=null},F.start(),m.current=F,d(!0)}catch(M){const w=M instanceof Error?M.message:"Li khng xc nh khi to m thanh.";console.error(M),g(w)}finally{a(!1)}}};return y.jsxs("div",{className:"relative bg-gray-50 p-4 rounded-lg space-y-4",children:[y.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2 z-10",children:[y.jsx("button",{onClick:_,className:"p-1.5 bg-gray-200 rounded-md hover:bg-gray-300 text-gray-600 hover:text-gray-800 transition disabled:opacity-50 disabled:cursor-wait",title:r?"Dng c":"c to","aria-label":r?"Dng c":"c to",disabled:o,children:o?y.jsx(Gm,{className:"w-5 h-5 animate-pulse"}):r?y.jsx(Tg,{className:"w-5 h-5 text-red-500"}):y.jsx(Gm,{className:"w-5 h-5"})}),y.jsx("button",{onClick:C,className:"p-1.5 bg-gray-200 rounded-md hover:bg-gray-300 text-gray-600 hover:text-gray-800 transition",title:"Preview in new tab","aria-label":"Preview in new tab",children:y.jsx(Ru,{className:"w-5 h-5"})}),y.jsx("button",{onClick:x,className:"p-1.5 bg-gray-200 rounded-md hover:bg-gray-300 text-gray-600 hover:text-gray-800 transition",title:"Download as .html","aria-label":"Download as .html",children:y.jsx(xg,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"w-full h-72 sm:h-80 bg-white rounded-md overflow-hidden border border-gray-200",children:y.jsx("iframe",{srcDoc:l,title:"Meeting Minutes Preview",className:"w-full h-full border-0",sandbox:"allow-scripts"})}),p&&y.jsx("p",{className:"text-center text-xs text-red-500 font-medium",children:p})]})},IA=({onSubmit:l,disabled:t})=>{const[o,a]=Z.useState(""),[r,d]=Z.useState(!1),[p,g]=Z.useState(!1),[v,m]=Z.useState("Vit yu cu ca bn..."),T=Z.useRef(null);Z.useEffect(()=>{const M=window.SpeechRecognition||window.webkitSpeechRecognition;if(!M){g(!1);return}g(!0);const w=new M;return w.continuous=!1,w.interimResults=!1,w.lang="vi-VN",w.onstart=()=>{m("ang nghe..."),d(!0)},w.onresult=k=>{const z=k.results[k.results.length-1][0].transcript.trim();a(F=>(F?F+" ":"")+z)},w.onerror=k=>{console.error("Speech recognition error:",k.error),k.error==="no-speech"?(m("Khng nghe r. Vui lng th li..."),setTimeout(()=>m("Vit yu cu ca bn..."),3e3)):k.error==="not-allowed"?alert("Bn  t chi quyn truy cp micro. Vui lng cho php truy cp micro trong ci t trnh duyt  s dng tnh nng ny."):alert(` xy ra li khi nhn dng ging ni: ${k.error}. Vui lng th li.`),d(!1)},w.onend=()=>{m("Vit yu cu ca bn..."),d(!1)},T.current=w,()=>{T.current&&T.current.abort()}},[]);const x=()=>{if(!(!p||!T.current))if(r)T.current.stop();else try{T.current.start()}catch(M){console.error("Error starting speech recognition:",M),d(!1)}},C=M=>{M.preventDefault(),o.trim()&&(l(o),a(""))},_=()=>r?"ang nghe...":t?"ang x l...":"Gi yu cu chnh sa";return y.jsxs("form",{onSubmit:C,className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[y.jsx("label",{htmlFor:"edit-request",className:"block text-sm font-medium text-gray-700",children:'Nhp cc yu cu chnh sa ca bn vo y. V d: "Thm ABC vo danh sch ngi tham d" hoc "Lm r quyt nh s 2".'}),y.jsxs("div",{className:"relative",children:[y.jsx("textarea",{id:"edit-request",value:o,onChange:M=>a(M.target.value),placeholder:v,disabled:t,rows:4,className:"w-full bg-white border border-gray-300 text-gray-900 rounded-md p-2 focus:ring-indigo-500 focus:border-indigo-500 pr-10","aria-label":"Yu cu chnh sa bo co"}),p&&y.jsx("button",{type:"button",onClick:x,disabled:t,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Dictate edit request",children:y.jsx(po,{className:`w-5 h-5 ${r?"text-red-500 animate-pulse":""}`})})]}),y.jsx("div",{className:"text-center",children:y.jsx("button",{type:"submit",disabled:t||!o.trim()||r,className:"w-full sm:w-auto px-6 py-2 bg-green-600 text-white font-bold rounded-lg shadow-sm hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:_()})})]})},wA=({originalTranscription:l,onMappingApplied:t,disabled:o})=>{const[a,r]=Z.useState(!0),d=Z.useMemo(()=>{const x=/(Ngi ni \d+):/g,C=l.match(x)||[];return Array.from(new Set(C.map(_=>_.replace(":","")))).sort((_,M)=>{const w=parseInt(_.split(" ")[2]),k=parseInt(M.split(" ")[2]);return w-k})},[l]),[p,g]=Z.useState({});Z.useEffect(()=>{const x={};d.forEach(C=>{x[C]=""}),g(x),r(!0)},[d]);const v=(x,C)=>{g(_=>({..._,[x]:C}))},m=()=>{let x=l;const C=[...d].sort((_,M)=>{const w=parseInt(_.split(" ")[2]);return parseInt(M.split(" ")[2])-w});for(const _ of C){const M=p[_];if(M&&M.trim()!==""){const w=new RegExp(_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+":","g");x=x.replace(w,`${M.trim()}:`)}}t(x),r(!1)},T=()=>{r(!0)};return d.length===0?null:a?y.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-4 mb-4",children:[y.jsx("h3",{className:"text-md font-semibold text-gray-800",children:"Gn tn cho ngi ni"}),y.jsx("p",{className:"text-sm text-gray-500",children:"Nhp tn tng ng cho cc nhn ngi ni c pht hin bn di. B trng nu bn mun gi nguyn nhn gc."}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:d.map(x=>y.jsxs("div",{children:[y.jsx("label",{htmlFor:`speaker-${x}`,className:"block text-sm font-medium text-gray-700 mb-1",children:x}),y.jsx("input",{type:"text",id:`speaker-${x}`,value:p[x]||"",onChange:C=>v(x,C.target.value),disabled:o,placeholder:"Nhp tn...",className:"w-full bg-white border border-gray-300 text-gray-900 rounded-md p-2 focus:ring-indigo-500 focus:border-indigo-500"})]},x))}),y.jsx("div",{className:"text-center pt-2",children:y.jsx("button",{onClick:m,disabled:o,className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white font-bold rounded-lg shadow-sm hover:bg-blue-700 disabled:bg-gray-400",children:"p dng tn"})})]}):y.jsx("div",{className:"p-4 bg-gray-50 rounded-lg mb-4",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-md font-semibold text-gray-800",children:"Tn ngi ni  c p dng."}),y.jsx("p",{className:"text-sm text-gray-500",children:"Ni dung vn bn bn di  c cp nht."})]}),y.jsx("button",{onClick:T,disabled:o,className:"px-4 py-2 bg-gray-200 text-gray-800 text-sm font-semibold rounded-lg hover:bg-gray-300 disabled:opacity-50",children:"Chnh sa li"})]})})},DA=()=>{const[l,t]=Z.useState([]),[o,a]=Z.useState("gemini-2.5-pro"),[r,d]=Z.useState(""),[p,g]=Z.useState(""),[v,m]=Z.useState(!1),[T,x]=Z.useState(0),[C,_]=Z.useState(""),[M,w]=Z.useState(null),[k,z]=Z.useState({convertToMono16k:!0,noiseReduction:!0,normalizeVolume:!0,removeSilence:!0}),[F,O]=Z.useState(""),[le,ee]=Z.useState(!1),[U,J]=Z.useState(null),[se,G]=Z.useState(null),[ne,te]=Z.useState(0),[X,oe]=Z.useState(""),[me,he]=Z.useState(!1),[b,B]=Z.useState(null),[de,K]=Z.useState(0),[ce,A]=Z.useState(""),V=Z.useRef(!1),I=Qe=>{t(Qe),d(""),g(""),w(null),x(0),_(""),O(""),J(null),B(null)},ie=(Qe,Fe)=>{z(_e=>({..._e,[Qe]:Fe}))},re=()=>{V.current=!0,v&&(m(!1),x(0),_(" hy bi ngi dng.")),le&&(ee(!1),J(" hy to bin bn.")),me&&(he(!1),B(" hy yu cu chnh sa."))},ae=Z.useCallback(async()=>{if(l.length===0){w("Vui lng chn mt hoc nhiu tp.");return}m(!0),V.current=!1,d(""),g(""),w(null),O(""),J(null),B(null);const Qe=[];try{for(let Fe=0;Fe<l.length;Fe++){let _e=l[Fe];if(V.current)return;const Le=Fe/l.length*100,Pe=100/l.length;if(_(`ang x l tp ${Fe+1}/${l.length}: ${_e.name}`),_e.type.startsWith("text/")){if(x(Le+Pe*.5),await new Promise(el=>setTimeout(el,200)),V.current)return;const jn=await _e.text();if(V.current)return;Qe.push(`--- Bt u ni dung t ${_e.name} ---
${jn}
--- Kt thc ni dung t ${_e.name} ---`),x(Le+Pe)}else if(_e.type.startsWith("audio/")){const jn=Object.values(k).some(on=>on);let el=Le,hi=Pe*.5;if(jn){if(_(`(Tp ${Fe+1}/${l.length}) ang ti u ha m thanh...`),_e=await mA(_e,k,pi=>{const je=pi/100*hi;x(Le+je)}),V.current)return;el+=hi}const tl=el,nl=Pe-(el-Le);x(tl+nl*.1),_(`(Tp ${Fe+1}/${l.length}) ang gi n Gemini...`);let Nt=null;try{const on=tl+nl*.9;Nt=window.setInterval(()=>{if(V.current){Nt&&clearInterval(Nt);return}x(je=>{if(je>=on)return Nt&&clearInterval(Nt),je;const Za=Math.random()*2;return Math.min(je+Za,on)})},400);const pi=await cA(_e,o);if(Nt&&clearInterval(Nt),V.current||(x(tl+nl*.95),_(`(Tp ${Fe+1}/${l.length}) ang hon tt...`),await new Promise(je=>setTimeout(je,200)),V.current))return;Qe.push(`--- Bt u phin m t ${_e.name} ---
${pi}
--- Kt thc phin m t ${_e.name} ---`),x(Le+Pe)}catch(on){throw Nt&&clearInterval(Nt),on}}else Qe.push(`---  b qua tp khng c h tr: ${_e.name} (loi: ${_e.type||"khng r"}) ---`),x(Le+Pe)}d(Qe.join(`

`)),x(100),_(" X l hon tt!")}catch(Fe){if(V.current)return;const _e=Fe instanceof Error?Fe.message:" xy ra li khng xc nh.";w(_e),x(0),_(" xy ra li!")}finally{m(!1)}},[l,o,k]),Ee=Z.useCallback(async Qe=>{const Fe=p||r;if(!Fe){J("Phi c vn bn phin m trc khi to bin bn.");return}ee(!0),V.current=!1,O(""),J(null),B(null),G(Qe),te(0),oe("ang khi to...");const _e=window.setInterval(()=>{if(V.current){clearInterval(_e);return}te(Le=>{const Pe=Le+Math.floor(Math.random()*5)+2;return Pe>=95?(clearInterval(_e),95):(Pe<20?oe("ang gi vn bn n AI..."):Pe<70?oe("AI ang phn tch ni dung..."):oe("AI ang cu trc bin bn..."),Pe)})},600);try{const Le=await dA(Fe,Qe,o);if(clearInterval(_e),V.current)return;te(100),oe("  to bin bn!"),await new Promise(Pe=>setTimeout(Pe,800)),O(Le)}catch(Le){if(clearInterval(_e),V.current)return;const Pe=Le instanceof Error?Le.message:" xy ra li khng xc nh.";J(Pe)}finally{clearInterval(_e),ee(!1)}},[r,p,o]),We=Z.useCallback(async Qe=>{const Fe=p||r;if(!Fe||!F||!se){B("Khng th yu cu chnh sa nu thiu vn bn, bin bn  to hoc chi tit cuc hp.");return}he(!0),V.current=!1,B(null),K(0),A("ang khi to chnh sa...");const _e=window.setInterval(()=>{if(V.current){clearInterval(_e);return}K(Le=>{const Pe=Le+Math.floor(Math.random()*6)+3;return Pe>=95?(clearInterval(_e),95):(Pe<30?A("AI ang c yu cu ca bn..."):Pe<80?A("AI ang p dng cc thay i..."):A("ang hon tt phin bn mi..."),Pe)})},500);try{const Le=await fA(Fe,se,F,Qe,o);if(clearInterval(_e),V.current)return;K(100),A("  p dng chnh sa!"),await new Promise(Pe=>setTimeout(Pe,800)),O(Le)}catch(Le){if(clearInterval(_e),V.current)return;const Pe=Le instanceof Error?Le.message:" xy ra li khng xc nh.";B(Pe)}finally{clearInterval(_e),he(!1)}},[r,p,F,o,se]),ze=()=>{if(v)return"ang x l...";const Qe=l.length;return Qe<=1?" X l Tp":` X l ${Qe} Tp`},mt=v||le||me;return y.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:y.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[y.jsxs("header",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800 tracking-tight",children:"Tr l Bin bn hp Gemini"}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Chuyn vn bn t audio hoc s dng vn bn c sn  to bin bn hp chuyn nghip vi AI."})]}),y.jsxs("main",{className:"space-y-6 bg-white p-6 sm:p-8 rounded-lg shadow-md border border-gray-200",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-indigo-600 border-b border-gray-300 pb-2",children:"1. Ti ln File"}),y.jsx(yA,{onFileSelect:I,disabled:mt})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-indigo-600 border-b border-gray-300 pb-2",children:"2. Ty chn"}),y.jsx(vA,{disabled:mt,options:k,onOptionChange:ie})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-indigo-600 border-b border-gray-300 pb-2",children:"3. Chn Model"}),y.jsx(_A,{initialModel:o,onModelChange:a,disabled:mt})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("button",{onClick:ae,disabled:l.length===0||mt,className:"w-full sm:w-auto px-8 py-3 bg-indigo-600 text-white font-bold rounded-lg shadow-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:ze()}),M&&y.jsx("p",{className:"text-red-500 mt-4 font-semibold",children:M})]}),v&&y.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[y.jsx("h2",{className:"text-lg font-semibold text-indigo-600",children:"4. ang x l..."}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(gu,{progress:T,message:C}),y.jsx("div",{className:"text-center",children:y.jsx("button",{onClick:re,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 disabled:bg-gray-500 transition-all",children:"Hy"})})]})]}),!v&&r&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[y.jsx("h2",{className:"text-lg font-semibold text-indigo-600",children:"4. Ni dung File / Vn bn"}),y.jsx(wA,{originalTranscription:r,onMappingApplied:g,disabled:mt}),y.jsx(SA,{text:p||r})]}),y.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[y.jsx("h2",{className:"text-lg font-semibold text-purple-600",children:"5. To Bin bn hp"}),le?y.jsxs("div",{className:"text-center space-y-3 p-4 bg-gray-100 rounded-lg",children:[y.jsx(gu,{progress:ne,message:X}),y.jsx("button",{onClick:re,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 disabled:bg-gray-500 transition-all",children:"Hy"})]}):y.jsxs(y.Fragment,{children:[y.jsx(NA,{onSubmit:Ee,disabled:le||me}),U&&y.jsx("p",{className:"text-red-500 mt-2 text-center font-semibold",children:U})]})]})]}),!le&&F&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[y.jsx("h2",{className:"text-lg font-semibold text-purple-600",children:"6. Xem & Ti Bin bn"}),y.jsx(RA,{htmlContent:F,meetingDetails:se})]}),y.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[y.jsx("h2",{className:"text-lg font-semibold text-green-600",children:"7. Yu cu chnh sa bo co"}),me?y.jsxs("div",{className:"text-center space-y-3 p-4 bg-gray-100 rounded-lg",children:[y.jsx(gu,{progress:de,message:ce}),y.jsx("button",{onClick:re,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition-all",children:"Hy"})]}):y.jsx(IA,{onSubmit:We,disabled:me}),b&&y.jsx("p",{className:"text-red-500 mt-2 text-center font-semibold",children:b})]})]})]}),y.jsx("footer",{className:"text-center mt-8",children:y.jsxs("a",{href:"https://github.com/google/gemini-api",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-gray-500 hover:text-indigo-600 transition-colors",children:[y.jsx(CA,{className:"w-5 h-5 mr-2"}),"Powered by Google Gemini API"]})})]})})},UA=l=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375V9.375a2.25 2.25 0 00-2.25-2.25H9.375"})}),LA=({onLoadPlan:l})=>{const[t,o]=Z.useState([]),[a,r]=Z.useState("");Z.useEffect(()=>{try{const C=localStorage.getItem("savedBusinessPlans");C&&o(JSON.parse(C))}catch(C){console.error("Failed to load saved plans from localStorage:",C)}},[]);const d=Z.useMemo(()=>{const C=[...t].sort((M,w)=>new Date(w.createdAt).getTime()-new Date(M.createdAt).getTime());if(!a.trim())return C;const _=a.toLowerCase();return C.filter(M=>M.name.toLowerCase().includes(_))},[t,a]),p=C=>{if(window.confirm("Bn c chc chn mun xa k hoch ny khng?")){const _=t.filter(M=>M.id!==C);o(_);try{localStorage.setItem("savedBusinessPlans",JSON.stringify(_))}catch(M){console.error("Failed to update localStorage after deleting a plan:",M)}}},g=()=>{if(window.confirm("Bn c chc chn mun xa TT C cc k hoch  lu khng? Hnh ng ny khng th hon tc.")){o([]);try{localStorage.setItem("savedBusinessPlans",JSON.stringify([]))}catch(C){console.error("Failed to update localStorage after deleting all plans:",C)}}},v=C=>{var w;const _=(w=C.target.files)==null?void 0:w[0];if(!_)return;const M=new FileReader;M.onload=k=>{var z;try{const F=(z=k.target)==null?void 0:z.result;if(typeof F!="string")throw new Error("Khng th c file.");const O=JSON.parse(F);if(O&&O.id&&O.name&&Array.isArray(O.planItems)&&O.settings){const le=localStorage.getItem("savedBusinessPlans"),ee=le?JSON.parse(le):[];if(ee.some(U=>U.id===O.id)){if(!window.confirm(`Mt k hoch vi ID "${O.id}" (${O.name})  tn ti. Bn c mun ghi  n khng?`)){C.target&&(C.target.value="");return}const J=[...ee.filter(se=>se.id!==O.id),O];localStorage.setItem("savedBusinessPlans",JSON.stringify(J)),o(J),alert(` ghi  v ti ln thnh cng k hoch "${O.name}"!`)}else{const U=[...ee,O];localStorage.setItem("savedBusinessPlans",JSON.stringify(U)),o(U),alert(`Ti ln v lu thnh cng k hoch "${O.name}"!`)}}else throw new Error("nh dng file k hoch khng hp l. Vui lng kim tra li file JSON c xut t ng dng.")}catch(F){alert(`Li khi x l file: ${F instanceof Error?F.message:"Li khng xc nh"}`)}finally{C.target&&(C.target.value="")}},M.readAsText(_)},m=C=>{try{const _=zm(C.planItems,{importRate:C.settings.exchangeRateImport,taxRate:C.settings.exchangeRateTax,...C.settings}),M=Fm(_,C.settings.exchangeRateImport,C.settings.exchangeRateTax),w=new Blob([M],{type:"text/html"}),k=URL.createObjectURL(w);window.open(k,"_blank")}catch(_){console.error("Error generating report from saved plan:",_),alert(" c li xy ra khi to bo co t k hoch  lu.")}},T=C=>{try{const _=`KeHoach_${C.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.json`,M=JSON.stringify(C,null,2),w=new Blob([M],{type:"application/json"}),k=URL.createObjectURL(w),z=document.createElement("a");z.download=_,z.href=k,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(k)}catch(_){console.error("Failed to export plan:",_),alert(" c li xy ra khi xut file k hoch.")}},x=C=>C.planItems.length;return y.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:y.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200",children:[y.jsxs("div",{className:"border-b pb-4 mb-4",children:[y.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[y.jsx(yu,{className:"h-5 w-5 mr-2 text-gray-500"}),"Danh sch K hoch  lu"]}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Xem li, so snh hoc xa cc phng n kinh doanh bn  lu trc y."}),y.jsxs("div",{className:"mt-4 flex justify-between items-center flex-wrap gap-2",children:[y.jsx("input",{type:"text",placeholder:"Tm kim theo tn k hoch...",value:a,onChange:C=>r(C.target.value),className:"w-full max-w-sm px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("label",{htmlFor:"import-saved-plan",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-orange-500 hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[y.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Ti ln K hoch"]}),y.jsx("input",{id:"import-saved-plan",type:"file",className:"hidden",accept:".json,application/json",onChange:v}),y.jsxs("button",{onClick:g,disabled:t.length===0,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-gray-300 disabled:cursor-not-allowed",title:"Xa tt c k hoch",children:[y.jsx(ka,{className:"h-4 w-4 mr-2"}),"Xa tt c"]})]})]})]}),d.length>0?y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn K hoch"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy lu"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S sn phm"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(C=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.createdAt).toLocaleString("vi-VN")}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:x(C)}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[y.jsx("button",{onClick:()=>l(C),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",title:"S dng li K hoch ny",children:y.jsx(UA,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>m(C),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",title:"Xem Bo co",children:y.jsx(Ru,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>T(C),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none",title:"Ti K hoch (JSON)",children:y.jsx(Ha,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>p(C.id),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none",title:"Xa K hoch",children:y.jsx(ka,{className:"h-4 w-4"})})]})]},C.id))})]})}):y.jsxs("div",{className:"text-center py-12",children:[y.jsx(yu,{className:"mx-auto h-12 w-12 text-gray-400"}),y.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cha c k hoch no c lu"}),y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Quay li module "K hoch Kinh doanh"  to v lu phng n u tin ca bn.'})]})]})})},PA={businessPlan:"K hoch Kinh doanh",savedPlans:"K hoch  lu",cashFlow:"Thu - Chi tin",inventory:"Nhp xut hng",salesTeam:"i KD & Marketing",meetingMinutes:"Bin bn hp"},VA=()=>{const[l,t]=Z.useState("businessPlan"),[o,a]=Z.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 768px)").matches:!0),[r,d]=Z.useState(null),p=m=>{d(m),t("businessPlan")},g=()=>{d(null)},v=()=>{switch(l){case"businessPlan":return y.jsx(_m,{planToLoad:r,onPlanLoaded:g});case"savedPlans":return y.jsx(LA,{onLoadPlan:p});case"cashFlow":return y.jsx(iA,{});case"inventory":return y.jsx(oA,{});case"salesTeam":return y.jsx(aA,{});case"meetingMinutes":return y.jsx(DA,{});default:return y.jsx(_m,{planToLoad:null,onPlanLoaded:()=>{}})}};return y.jsxs("div",{className:"h-screen bg-gray-100 text-gray-800 font-sans relative",children:[o&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>a(!1),"aria-hidden":"true"}),y.jsx(nv,{activeModule:l,setActiveModule:t,isOpen:o}),y.jsxs("div",{className:`h-full flex flex-col transition-all duration-300 ease-in-out ${o?"md:ml-64":"ml-0"}`,children:[y.jsx(rA,{title:PA[l],toggleSidebar:()=>a(!o)}),y.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto",children:v()})]})]})},Sg=document.getElementById("root");if(!Sg)throw new Error("Could not find root element to mount to");const GA=Zy.createRoot(Sg);GA.render(y.jsx(Pa.StrictMode,{children:y.jsx(VA,{})}));
