(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();function Em(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ou={exports:{}},ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function Ay(){if(kh)return ao;kh=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,d){var p=null;if(d!==void 0&&(p=""+d),r.key!==void 0&&(p=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:l,type:a,key:p,ref:r!==void 0?r:null,props:d}}return ao.Fragment=t,ao.jsx=o,ao.jsxs=o,ao}var Gh;function Ny(){return Gh||(Gh=1,ou.exports=Ay()),ou.exports}var v=Ny(),au={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function by(){if(Hh)return ve;Hh=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),C=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=C&&N[C]||N["@@iterator"],typeof N=="function"?N:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,H={};function z(N,M,ne){this.props=N,this.context=M,this.refs=H,this.updater=ne||I}z.prototype.isReactComponent={},z.prototype.setState=function(N,M){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,M,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function F(){}F.prototype=z.prototype;function Y(N,M,ne){this.props=N,this.context=M,this.refs=H,this.updater=ne||I}var le=Y.prototype=new F;le.constructor=Y,D(le,z.prototype),le.isPureReactComponent=!0;var W=Array.isArray;function V(){}var J={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function P(N,M,ne){var ie=ne.ref;return{$$typeof:l,type:N,key:M,ref:ie!==void 0?ie:null,props:ne}}function ee(N,M){return P(N.type,M,N.props)}function Q(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function te(N){var M={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ne){return M[ne]})}var ae=/\/+/g;function ge(N,M){return typeof N=="object"&&N!==null&&N.key!=null?te(""+N.key):M.toString(36)}function ce(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(V,V):(N.status="pending",N.then(function(M){N.status==="pending"&&(N.status="fulfilled",N.value=M)},function(M){N.status==="pending"&&(N.status="rejected",N.reason=M)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function A(N,M,ne,ie,se){var fe=typeof N;(fe==="undefined"||fe==="boolean")&&(N=null);var Ae=!1;if(N===null)Ae=!0;else switch(fe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(N.$$typeof){case l:case t:Ae=!0;break;case T:return Ae=N._init,A(Ae(N._payload),M,ne,ie,se)}}if(Ae)return se=se(N),Ae=ie===""?"."+ge(N,0):ie,W(se)?(ne="",Ae!=null&&(ne=Ae.replace(ae,"$&/")+"/"),A(se,M,ne,"",function(we){return we})):se!=null&&(Q(se)&&(se=ee(se,ne+(se.key==null||N&&N.key===se.key?"":(""+se.key).replace(ae,"$&/")+"/")+Ae)),M.push(se)),1;Ae=0;var Fe=ie===""?".":ie+":";if(W(N))for(var Te=0;Te<N.length;Te++)ie=N[Te],fe=Fe+ge(ie,Te),Ae+=A(ie,M,ne,fe,se);else if(Te=_(N),typeof Te=="function")for(N=Te.call(N),Te=0;!(ie=N.next()).done;)ie=ie.value,fe=Fe+ge(ie,Te++),Ae+=A(ie,M,ne,fe,se);else if(fe==="object"){if(typeof N.then=="function")return A(ce(N),M,ne,ie,se);throw M=String(N),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(N,M,ne){if(N==null)return N;var ie=[],se=0;return A(N,ie,"","",function(fe){return M.call(ne,fe,se++)}),ie}function de(N){if(N._status===-1){var M=N._result;M=M(),M.then(function(ne){(N._status===0||N._status===-1)&&(N._status=1,N._result=ne)},function(ne){(N._status===0||N._status===-1)&&(N._status=2,N._result=ne)}),N._status===-1&&(N._status=0,N._result=M)}if(N._status===1)return N._result.default;throw N._result}var q=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},oe={map:X,forEach:function(N,M,ne){X(N,function(){M.apply(this,arguments)},ne)},count:function(N){var M=0;return X(N,function(){M++}),M},toArray:function(N){return X(N,function(M){return M})||[]},only:function(N){if(!Q(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ve.Activity=x,ve.Children=oe,ve.Component=z,ve.Fragment=o,ve.Profiler=r,ve.PureComponent=Y,ve.StrictMode=a,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ve.__COMPILER_RUNTIME={__proto__:null,c:function(N){return J.H.useMemoCache(N)}},ve.cache=function(N){return function(){return N.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(N,M,ne){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=D({},N.props),se=N.key;if(M!=null)for(fe in M.key!==void 0&&(se=""+M.key),M)!ue.call(M,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&M.ref===void 0||(ie[fe]=M[fe]);var fe=arguments.length-2;if(fe===1)ie.children=ne;else if(1<fe){for(var Ae=Array(fe),Fe=0;Fe<fe;Fe++)Ae[Fe]=arguments[Fe+2];ie.children=Ae}return P(N.type,se,ie)},ve.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},ve.createElement=function(N,M,ne){var ie,se={},fe=null;if(M!=null)for(ie in M.key!==void 0&&(fe=""+M.key),M)ue.call(M,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(se[ie]=M[ie]);var Ae=arguments.length-2;if(Ae===1)se.children=ne;else if(1<Ae){for(var Fe=Array(Ae),Te=0;Te<Ae;Te++)Fe[Te]=arguments[Te+2];se.children=Fe}if(N&&N.defaultProps)for(ie in Ae=N.defaultProps,Ae)se[ie]===void 0&&(se[ie]=Ae[ie]);return P(N,fe,se)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(N){return{$$typeof:g,render:N}},ve.isValidElement=Q,ve.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:de}},ve.memo=function(N,M){return{$$typeof:m,type:N,compare:M===void 0?null:M}},ve.startTransition=function(N){var M=J.T,ne={};J.T=ne;try{var ie=N(),se=J.S;se!==null&&se(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(V,q)}catch(fe){q(fe)}finally{M!==null&&ne.types!==null&&(M.types=ne.types),J.T=M}},ve.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ve.use=function(N){return J.H.use(N)},ve.useActionState=function(N,M,ne){return J.H.useActionState(N,M,ne)},ve.useCallback=function(N,M){return J.H.useCallback(N,M)},ve.useContext=function(N){return J.H.useContext(N)},ve.useDebugValue=function(){},ve.useDeferredValue=function(N,M){return J.H.useDeferredValue(N,M)},ve.useEffect=function(N,M){return J.H.useEffect(N,M)},ve.useEffectEvent=function(N){return J.H.useEffectEvent(N)},ve.useId=function(){return J.H.useId()},ve.useImperativeHandle=function(N,M,ne){return J.H.useImperativeHandle(N,M,ne)},ve.useInsertionEffect=function(N,M){return J.H.useInsertionEffect(N,M)},ve.useLayoutEffect=function(N,M){return J.H.useLayoutEffect(N,M)},ve.useMemo=function(N,M){return J.H.useMemo(N,M)},ve.useOptimistic=function(N,M){return J.H.useOptimistic(N,M)},ve.useReducer=function(N,M,ne){return J.H.useReducer(N,M,ne)},ve.useRef=function(N){return J.H.useRef(N)},ve.useState=function(N){return J.H.useState(N)},ve.useSyncExternalStore=function(N,M,ne){return J.H.useSyncExternalStore(N,M,ne)},ve.useTransition=function(){return J.H.useTransition()},ve.version="19.2.0",ve}var qh;function Cu(){return qh||(qh=1,au.exports=by()),au.exports}var j=Cu();const Da=Em(j);var su={exports:{}},so={},ru={exports:{}},uu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh;function My(){return Bh||(Bh=1,(function(l){function t(A,X){var de=A.length;A.push(X);e:for(;0<de;){var q=de-1>>>1,oe=A[q];if(0<r(oe,X))A[q]=X,A[de]=oe,de=q;else break e}}function o(A){return A.length===0?null:A[0]}function a(A){if(A.length===0)return null;var X=A[0],de=A.pop();if(de!==X){A[0]=de;e:for(var q=0,oe=A.length,N=oe>>>1;q<N;){var M=2*(q+1)-1,ne=A[M],ie=M+1,se=A[ie];if(0>r(ne,de))ie<oe&&0>r(se,ne)?(A[q]=se,A[ie]=de,q=ie):(A[q]=ne,A[M]=de,q=M);else if(ie<oe&&0>r(se,de))A[q]=se,A[ie]=de,q=ie;else break e}}return X}function r(A,X){var de=A.sortIndex-X.sortIndex;return de!==0?de:A.id-X.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();l.unstable_now=function(){return p.now()-g}}var y=[],m=[],T=1,x=null,C=3,_=!1,I=!1,D=!1,H=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function le(A){for(var X=o(m);X!==null;){if(X.callback===null)a(m);else if(X.startTime<=A)a(m),X.sortIndex=X.expirationTime,t(y,X);else break;X=o(m)}}function W(A){if(D=!1,le(A),!I)if(o(y)!==null)I=!0,V||(V=!0,te());else{var X=o(m);X!==null&&ce(W,X.startTime-A)}}var V=!1,J=-1,ue=5,P=-1;function ee(){return H?!0:!(l.unstable_now()-P<ue)}function Q(){if(H=!1,V){var A=l.unstable_now();P=A;var X=!0;try{e:{I=!1,D&&(D=!1,F(J),J=-1),_=!0;var de=C;try{t:{for(le(A),x=o(y);x!==null&&!(x.expirationTime>A&&ee());){var q=x.callback;if(typeof q=="function"){x.callback=null,C=x.priorityLevel;var oe=q(x.expirationTime<=A);if(A=l.unstable_now(),typeof oe=="function"){x.callback=oe,le(A),X=!0;break t}x===o(y)&&a(y),le(A)}else a(y);x=o(y)}if(x!==null)X=!0;else{var N=o(m);N!==null&&ce(W,N.startTime-A),X=!1}}break e}finally{x=null,C=de,_=!1}X=void 0}}finally{X?te():V=!1}}}var te;if(typeof Y=="function")te=function(){Y(Q)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ge=ae.port2;ae.port1.onmessage=Q,te=function(){ge.postMessage(null)}}else te=function(){z(Q,0)};function ce(A,X){J=z(function(){A(l.unstable_now())},X)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(A){A.callback=null},l.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<A?Math.floor(1e3/A):5},l.unstable_getCurrentPriorityLevel=function(){return C},l.unstable_next=function(A){switch(C){case 1:case 2:case 3:var X=3;break;default:X=C}var de=C;C=X;try{return A()}finally{C=de}},l.unstable_requestPaint=function(){H=!0},l.unstable_runWithPriority=function(A,X){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var de=C;C=A;try{return X()}finally{C=de}},l.unstable_scheduleCallback=function(A,X,de){var q=l.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?q+de:q):de=q,A){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=de+oe,A={id:T++,callback:X,priorityLevel:A,startTime:de,expirationTime:oe,sortIndex:-1},de>q?(A.sortIndex=de,t(m,A),o(y)===null&&A===o(m)&&(D?(F(J),J=-1):D=!0,ce(W,de-q))):(A.sortIndex=oe,t(y,A),I||_||(I=!0,V||(V=!0,te()))),A},l.unstable_shouldYield=ee,l.unstable_wrapCallback=function(A){var X=C;return function(){var de=C;C=X;try{return A.apply(this,arguments)}finally{C=de}}}})(uu)),uu}var Oh;function Ry(){return Oh||(Oh=1,ru.exports=My()),ru.exports}var cu={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function wy(){if(zh)return ft;zh=1;var l=Cu();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,m,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:y,containerInfo:m,implementation:T}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ft.createPortal=function(y,m){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return d(y,m,null,T)},ft.flushSync=function(y){var m=p.T,T=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=m,a.p=T,a.d.f()}},ft.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},ft.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ft.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var T=m.as,x=g(T,m.crossOrigin),C=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;T==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:_}):T==="script"&&a.d.X(y,{crossOrigin:x,integrity:C,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ft.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var T=g(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},ft.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var T=m.as,x=g(T,m.crossOrigin);a.d.L(y,T,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ft.preloadModule=function(y,m){if(typeof y=="string")if(m){var T=g(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},ft.requestFormReset=function(y){a.d.r(y)},ft.unstable_batchedUpdates=function(y,m){return y(m)},ft.useFormState=function(y,m,T){return p.H.useFormState(y,m,T)},ft.useFormStatus=function(){return p.H.useHostTransitionStatus()},ft.version="19.2.0",ft}var Fh;function Iy(){if(Fh)return cu.exports;Fh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),cu.exports=wy(),cu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function Dy(){if(Kh)return so;Kh=1;var l=Ry(),t=Cu(),o=Iy();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,s=n;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(s=f.return,s!==null){i=s;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return y(f),e;if(h===s)return y(f),n;h=h.sibling}throw Error(a(188))}if(i.return!==s.return)i=f,s=h;else{for(var S=!1,E=f.child;E;){if(E===i){S=!0,i=f,s=h;break}if(E===s){S=!0,s=f,i=h;break}E=E.sibling}if(!S){for(E=h.child;E;){if(E===i){S=!0,i=h,s=f;break}if(E===s){S=!0,s=h,i=f;break}E=E.sibling}if(!S)throw Error(a(189))}}if(i.alternate!==s)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case z:return"Profiler";case H:return"StrictMode";case W:return"Suspense";case V:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case Y:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:ge(e.type)||"Memo";case ue:n=e._payload,e=e._init;try{return ge(e(n))}catch{}}return null}var ce=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},q=[],oe=-1;function N(e){return{current:e}}function M(e){0>oe||(e.current=q[oe],q[oe]=null,oe--)}function ne(e,n){oe++,q[oe]=e.current,e.current=n}var ie=N(null),se=N(null),fe=N(null),Ae=N(null);function Fe(e,n){switch(ne(fe,n),ne(se,e),ne(ie,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ah(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ah(n),e=sh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(ie),ne(ie,e)}function Te(){M(ie),M(se),M(fe)}function we(e){e.memoizedState!==null&&ne(Ae,e);var n=ie.current,i=sh(n,e.type);n!==i&&(ne(se,e),ne(ie,i))}function Ce(e){se.current===e&&(M(ie),M(se)),Ae.current===e&&(M(Ae),no._currentValue=de)}var Ie,jt;function Pt(e){if(Ie===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ie=n&&n[1]||"",jt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ie+e+jt}var on=!1;function xl(e,n){if(!e||on)return"";on=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(B){var k=B}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(B){k=B}e.call(Z.prototype)}}else{try{throw Error()}catch(B){k=B}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),S=h[0],E=h[1];if(S&&E){var b=S.split(`
`),L=E.split(`
`);for(f=s=0;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(s===b.length||f===L.length)for(s=b.length-1,f=L.length-1;1<=s&&0<=f&&b[s]!==L[f];)f--;for(;1<=s&&0<=f;s--,f--)if(b[s]!==L[f]){if(s!==1||f!==1)do if(s--,f--,0>f||b[s]!==L[f]){var K=`
`+b[s].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=s&&0<=f);break}}}finally{on=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Pt(i):""}function hi(e,n){switch(e.tag){case 26:case 27:case 5:return Pt(e.type);case 16:return Pt("Lazy");case 13:return e.child!==n&&n!==null?Pt("Suspense Fallback"):Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return xl(e.type,!1);case 11:return xl(e.type.render,!1);case 1:return xl(e.type,!0);case 31:return Pt("Activity");default:return""}}function Sl(e){try{var n="",i=null;do n+=hi(e,i),i=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ct=Object.prototype.hasOwnProperty,Jt=l.unstable_scheduleCallback,el=l.unstable_cancelCallback,an=l.unstable_shouldYield,Ya=l.unstable_requestPaint,Et=l.unstable_now,og=l.unstable_getCurrentPriorityLevel,ku=l.unstable_ImmediatePriority,Gu=l.unstable_UserBlockingPriority,ho=l.unstable_NormalPriority,ag=l.unstable_LowPriority,Hu=l.unstable_IdlePriority,sg=l.log,rg=l.unstable_setDisableYieldValue,pi=null,_t=null;function Mn(e){if(typeof sg=="function"&&rg(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(pi,e)}catch{}}var At=Math.clz32?Math.clz32:dg,ug=Math.log,cg=Math.LN2;function dg(e){return e>>>=0,e===0?32:31-(ug(e)/cg|0)|0}var po=256,mo=262144,go=4194304;function tl(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yo(e,n,i){var s=e.pendingLanes;if(s===0)return 0;var f=0,h=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~h,s!==0?f=tl(s):(S&=E,S!==0?f=tl(S):i||(i=E&~e,i!==0&&(f=tl(i))))):(E=s&~h,E!==0?f=tl(E):S!==0?f=tl(S):i||(i=s&~e,i!==0&&(f=tl(i)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:f}function mi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function fg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qu(){var e=go;return go<<=1,(go&62914560)===0&&(go=4194304),e}function Ja(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function gi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hg(e,n,i,s,f,h){var S=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(i=S&~i;0<i;){var K=31-At(i),Z=1<<K;E[K]=0,b[K]=-1;var k=L[K];if(k!==null)for(L[K]=null,K=0;K<k.length;K++){var B=k[K];B!==null&&(B.lane&=-536870913)}i&=~Z}s!==0&&Bu(e,s,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(S&~n))}function Bu(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-At(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function Ou(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-At(i),f=1<<s;f&n|e[s]&n&&(e[s]|=n),i&=~f}}function zu(e,n){var i=n&-n;return i=(i&42)!==0?1:$a(i),(i&(e.suspendedLanes|n))!==0?0:i}function $a(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fu(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:wh(e.type))}function Ku(e,n){var i=X.p;try{return X.p=e,n()}finally{X.p=i}}var Rn=Math.random().toString(36).slice(2),st="__reactFiber$"+Rn,mt="__reactProps$"+Rn,Cl="__reactContainer$"+Rn,Xa="__reactEvents$"+Rn,pg="__reactListeners$"+Rn,mg="__reactHandles$"+Rn,Yu="__reactResources$"+Rn,yi="__reactMarker$"+Rn;function Za(e){delete e[st],delete e[mt],delete e[Xa],delete e[pg],delete e[mg]}function El(e){var n=e[st];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Cl]||i[st]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=ph(e);e!==null;){if(i=e[st])return i;e=ph(e)}return n}e=i,i=e.parentNode}return null}function _l(e){if(e=e[st]||e[Cl]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Al(e){var n=e[Yu];return n||(n=e[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ot(e){e[yi]=!0}var Ju=new Set,$u={};function nl(e,n){Nl(e,n),Nl(e+"Capture",n)}function Nl(e,n){for($u[e]=n,e=0;e<n.length;e++)Ju.add(n[e])}var gg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},Xu={};function yg(e){return Ct.call(Xu,e)?!0:Ct.call(Qu,e)?!1:gg.test(e)?Xu[e]=!0:(Qu[e]=!0,!1)}function vo(e,n,i){if(yg(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function To(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function sn(e,n,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+s)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vg(e,n,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){i=""+S,h.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(S){i=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wa(e){if(!e._valueTracker){var n=Zu(e)?"checked":"value";e._valueTracker=vg(e,n,""+e[n])}}function Wu(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=Zu(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tg=/[\n"\\]/g;function kt(e){return e.replace(Tg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ja(e,n,i,s,f,h,S,E){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Vt(n)):e.value!==""+Vt(n)&&(e.value=""+Vt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?es(e,S,Vt(n)):i!=null?es(e,S,Vt(i)):s!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Vt(E):e.removeAttribute("name")}function ju(e,n,i,s,f,h,S,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Wa(e);return}i=i!=null?""+Vt(i):"",n=n!=null?""+Vt(n):i,E||n===e.value||(e.value=n),e.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Wa(e)}function es(e,n,i){n==="number"&&xo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function bl(e,n,i,s){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Vt(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function ec(e,n,i){if(n!=null&&(n=""+Vt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Vt(i):""}function tc(e,n,i,s){if(n==null){if(s!=null){if(i!=null)throw Error(a(92));if(ce(s)){if(1<s.length)throw Error(a(93));s=s[0]}i=s}i==null&&(i=""),n=i}i=Vt(n),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Wa(e)}function Ml(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var xg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nc(e,n,i){var s=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,i):typeof i!="number"||i===0||xg.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function lc(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&i[f]!==s&&nc(e,f,s)}else for(var h in n)n.hasOwnProperty(h)&&nc(e,h,n[h])}function ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(e){return Cg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function rn(){}var ns=null;function ls(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rl=null,wl=null;function ic(e){var n=_l(e);if(n&&(e=n.stateNode)){var i=e[mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ja(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+kt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var f=s[mt]||null;if(!f)throw Error(a(90));ja(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)s=i[n],s.form===e.form&&Wu(s)}break e;case"textarea":ec(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&bl(e,!!i.multiple,n,!1)}}}var is=!1;function oc(e,n,i){if(is)return e(n,i);is=!0;try{var s=e(n);return s}finally{if(is=!1,(Rl!==null||wl!==null)&&(ra(),Rl&&(n=Rl,e=wl,wl=Rl=null,ic(n),e)))for(n=0;n<e.length;n++)ic(e[n])}}function Ti(e,n){var i=e.stateNode;if(i===null)return null;var s=i[mt]||null;if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=!1;if(un)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){os=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{os=!1}var wn=null,as=null,Co=null;function ac(){if(Co)return Co;var e,n=as,i=n.length,s,f="value"in wn?wn.value:wn.textContent,h=f.length;for(e=0;e<i&&n[e]===f[e];e++);var S=i-e;for(s=1;s<=S&&n[i-s]===f[h-s];s++);return Co=f.slice(e,1<s?1-s:void 0)}function Eo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _o(){return!0}function sc(){return!1}function gt(e){function n(i,s,f,h,S){this._reactName=i,this._targetInst=f,this.type=s,this.nativeEvent=h,this.target=S,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?_o:sc,this.isPropagationStopped=sc,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),n}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=gt(ll),Si=x({},ll,{view:0,detail:0}),Eg=gt(Si),ss,rs,Ci,No=x({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(ss=e.screenX-Ci.screenX,rs=e.screenY-Ci.screenY):rs=ss=0,Ci=e),ss)},movementY:function(e){return"movementY"in e?e.movementY:rs}}),rc=gt(No),_g=x({},No,{dataTransfer:0}),Ag=gt(_g),Ng=x({},Si,{relatedTarget:0}),us=gt(Ng),bg=x({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),Mg=gt(bg),Rg=x({},ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wg=gt(Rg),Ig=x({},ll,{data:0}),uc=gt(Ig),Dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Lg[e])?!!n[e]:!1}function cs(){return Pg}var Vg=x({},Si,{key:function(e){if(e.key){var n=Dg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ug[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?Eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kg=gt(Vg),Gg=x({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=gt(Gg),Hg=x({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),qg=gt(Hg),Bg=x({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),Og=gt(Bg),zg=x({},No,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fg=gt(zg),Kg=x({},ll,{newState:0,oldState:0}),Yg=gt(Kg),Jg=[9,13,27,32],ds=un&&"CompositionEvent"in window,Ei=null;un&&"documentMode"in document&&(Ei=document.documentMode);var $g=un&&"TextEvent"in window&&!Ei,dc=un&&(!ds||Ei&&8<Ei&&11>=Ei),fc=" ",hc=!1;function pc(e,n){switch(e){case"keyup":return Jg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Il=!1;function Qg(e,n){switch(e){case"compositionend":return mc(n);case"keypress":return n.which!==32?null:(hc=!0,fc);case"textInput":return e=n.data,e===fc&&hc?null:e;default:return null}}function Xg(e,n){if(Il)return e==="compositionend"||!ds&&pc(e,n)?(e=ac(),Co=as=wn=null,Il=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return dc&&n.locale!=="ko"?null:n.data;default:return null}}var Zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Zg[e.type]:n==="textarea"}function yc(e,n,i,s){Rl?wl?wl.push(s):wl=[s]:Rl=s,n=ma(n,"onChange"),0<n.length&&(i=new Ao("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var _i=null,Ai=null;function Wg(e){eh(e,0)}function bo(e){var n=vi(e);if(Wu(n))return e}function vc(e,n){if(e==="change")return n}var Tc=!1;if(un){var fs;if(un){var hs="oninput"in document;if(!hs){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),hs=typeof xc.oninput=="function"}fs=hs}else fs=!1;Tc=fs&&(!document.documentMode||9<document.documentMode)}function Sc(){_i&&(_i.detachEvent("onpropertychange",Cc),Ai=_i=null)}function Cc(e){if(e.propertyName==="value"&&bo(Ai)){var n=[];yc(n,Ai,e,ls(e)),oc(Wg,n)}}function jg(e,n,i){e==="focusin"?(Sc(),_i=n,Ai=i,_i.attachEvent("onpropertychange",Cc)):e==="focusout"&&Sc()}function e0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bo(Ai)}function t0(e,n){if(e==="click")return bo(n)}function n0(e,n){if(e==="input"||e==="change")return bo(n)}function l0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nt=typeof Object.is=="function"?Object.is:l0;function Ni(e,n){if(Nt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var f=i[s];if(!Ct.call(n,f)||!Nt(e[f],n[f]))return!1}return!0}function Ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _c(e,n){var i=Ec(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ec(i)}}function Ac(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ac(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Nc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=xo(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=xo(e.document)}return n}function ps(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var i0=un&&"documentMode"in document&&11>=document.documentMode,Dl=null,ms=null,bi=null,gs=!1;function bc(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;gs||Dl==null||Dl!==xo(s)||(s=Dl,"selectionStart"in s&&ps(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),bi&&Ni(bi,s)||(bi=s,s=ma(ms,"onSelect"),0<s.length&&(n=new Ao("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=Dl)))}function il(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ul={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionrun:il("Transition","TransitionRun"),transitionstart:il("Transition","TransitionStart"),transitioncancel:il("Transition","TransitionCancel"),transitionend:il("Transition","TransitionEnd")},ys={},Mc={};un&&(Mc=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function ol(e){if(ys[e])return ys[e];if(!Ul[e])return e;var n=Ul[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Mc)return ys[e]=n[i];return e}var Rc=ol("animationend"),wc=ol("animationiteration"),Ic=ol("animationstart"),o0=ol("transitionrun"),a0=ol("transitionstart"),s0=ol("transitioncancel"),Dc=ol("transitionend"),Uc=new Map,vs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vs.push("scrollEnd");function $t(e,n){Uc.set(e,n),nl(n,[e])}var Mo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],Ll=0,Ts=0;function Ro(){for(var e=Ll,n=Ts=Ll=0;n<e;){var i=Gt[n];Gt[n++]=null;var s=Gt[n];Gt[n++]=null;var f=Gt[n];Gt[n++]=null;var h=Gt[n];if(Gt[n++]=null,s!==null&&f!==null){var S=s.pending;S===null?f.next=f:(f.next=S.next,S.next=f),s.pending=f}h!==0&&Lc(i,f,h)}}function wo(e,n,i,s){Gt[Ll++]=e,Gt[Ll++]=n,Gt[Ll++]=i,Gt[Ll++]=s,Ts|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function xs(e,n,i,s){return wo(e,n,i,s),Io(e)}function al(e,n){return wo(e,null,null,n),Io(e)}function Lc(e,n,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,s=h.alternate,s!==null&&(s.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-At(i),e=h.hiddenUpdates,s=e[f],s===null?e[f]=[n]:s.push(n),n.lane=i|536870912),h):null}function Io(e){if(50<Qi)throw Qi=0,Rr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Pl={};function r0(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,n,i,s){return new r0(e,n,i,s)}function Ss(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,n){var i=e.alternate;return i===null?(i=bt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Pc(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Do(e,n,i,s,f,h){var S=0;if(s=e,typeof e=="function")Ss(e)&&(S=1);else if(typeof e=="string")S=hy(e,i,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=bt(31,i,n,f),e.elementType=P,e.lanes=h,e;case D:return sl(i.children,f,h,n);case H:S=8,f|=24;break;case z:return e=bt(12,i,n,f|2),e.elementType=z,e.lanes=h,e;case W:return e=bt(13,i,n,f),e.elementType=W,e.lanes=h,e;case V:return e=bt(19,i,n,f),e.elementType=V,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:S=10;break e;case F:S=9;break e;case le:S=11;break e;case J:S=14;break e;case ue:S=16,s=null;break e}S=29,i=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=bt(S,i,n,f),n.elementType=e,n.type=s,n.lanes=h,n}function sl(e,n,i,s){return e=bt(7,e,s,n),e.lanes=i,e}function Cs(e,n,i){return e=bt(6,e,null,n),e.lanes=i,e}function Vc(e){var n=bt(18,null,null,0);return n.stateNode=e,n}function Es(e,n,i){return n=bt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kc=new WeakMap;function Ht(e,n){if(typeof e=="object"&&e!==null){var i=kc.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Sl(n)},kc.set(e,n),n)}return{value:e,source:n,stack:Sl(n)}}var Vl=[],kl=0,Uo=null,Mi=0,qt=[],Bt=0,In=null,en=1,tn="";function dn(e,n){Vl[kl++]=Mi,Vl[kl++]=Uo,Uo=e,Mi=n}function Gc(e,n,i){qt[Bt++]=en,qt[Bt++]=tn,qt[Bt++]=In,In=e;var s=en;e=tn;var f=32-At(s)-1;s&=~(1<<f),i+=1;var h=32-At(n)+f;if(30<h){var S=f-f%5;h=(s&(1<<S)-1).toString(32),s>>=S,f-=S,en=1<<32-At(n)+f|i<<f|s,tn=h+e}else en=1<<h|i<<f|s,tn=e}function _s(e){e.return!==null&&(dn(e,1),Gc(e,1,0))}function As(e){for(;e===Uo;)Uo=Vl[--kl],Vl[kl]=null,Mi=Vl[--kl],Vl[kl]=null;for(;e===In;)In=qt[--Bt],qt[Bt]=null,tn=qt[--Bt],qt[Bt]=null,en=qt[--Bt],qt[Bt]=null}function Hc(e,n){qt[Bt++]=en,qt[Bt++]=tn,qt[Bt++]=In,en=n.id,tn=n.overflow,In=e}var rt=null,Ke=null,Me=!1,Dn=null,Ot=!1,Ns=Error(a(519));function Un(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ri(Ht(n,e)),Ns}function qc(e){var n=e.stateNode,i=e.type,s=e.memoizedProps;switch(n[st]=e,n[mt]=s,i){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(i=0;i<Zi.length;i++)_e(Zi[i],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":_e("invalid",n),ju(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",n);break;case"textarea":_e("invalid",n),tc(n,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||s.suppressHydrationWarning===!0||ih(n.textContent,i)?(s.popover!=null&&(_e("beforetoggle",n),_e("toggle",n)),s.onScroll!=null&&_e("scroll",n),s.onScrollEnd!=null&&_e("scrollend",n),s.onClick!=null&&(n.onclick=rn),n=!0):n=!1,n||Un(e,!0)}function Bc(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:rt=rt.return}}function Gl(e){if(e!==rt)return!1;if(!Me)return Bc(e),Me=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Fr(e.type,e.memoizedProps)),i=!i),i&&Ke&&Un(e),Bc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ke=hh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ke=hh(e)}else n===27?(n=Ke,Jn(e.type)?(e=Qr,Qr=null,Ke=e):Ke=n):Ke=rt?Ft(e.stateNode.nextSibling):null;return!0}function rl(){Ke=rt=null,Me=!1}function bs(){var e=Dn;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),Dn=null),e}function Ri(e){Dn===null?Dn=[e]:Dn.push(e)}var Ms=N(null),ul=null,fn=null;function Ln(e,n,i){ne(Ms,n._currentValue),n._currentValue=i}function hn(e){e._currentValue=Ms.current,M(Ms)}function Rs(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function ws(e,n,i,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var S=f.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=f;for(var b=0;b<n.length;b++)if(E.context===n[b]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Rs(h.return,i,e),s||(S=null);break e}h=E.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(a(341));S.lanes|=i,h=S.alternate,h!==null&&(h.lanes|=i),Rs(S,i,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function Hl(e,n,i,s){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var E=f.type;Nt(f.pendingProps.value,S.value)||(e!==null?e.push(E):e=[E])}}else if(f===Ae.current){if(S=f.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(no):e=[no])}f=f.return}e!==null&&ws(n,e,i,s),n.flags|=262144}function Lo(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cl(e){ul=e,fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Oc(ul,e)}function Po(e,n){return ul===null&&cl(e),Oc(e,n)}function Oc(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},fn===null){if(e===null)throw Error(a(308));fn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fn=fn.next=n;return i}var u0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},c0=l.unstable_scheduleCallback,d0=l.unstable_NormalPriority,je={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Is(){return{controller:new u0,data:new Map,refCount:0}}function wi(e){e.refCount--,e.refCount===0&&c0(d0,function(){e.controller.abort()})}var Ii=null,Ds=0,ql=0,Bl=null;function f0(e,n){if(Ii===null){var i=Ii=[];Ds=0,ql=Pr(),Bl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Ds++,n.then(zc,zc),n}function zc(){if(--Ds===0&&Ii!==null){Bl!==null&&(Bl.status="fulfilled");var e=Ii;Ii=null,ql=0,Bl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function h0(e,n){var i=[],s={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),s}var Fc=A.S;A.S=function(e,n){Mf=Et(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&f0(e,n),Fc!==null&&Fc(e,n)};var dl=N(null);function Us(){var e=dl.current;return e!==null?e:ze.pooledCache}function Vo(e,n){n===null?ne(dl,dl.current):ne(dl,n.pool)}function Kc(){var e=Us();return e===null?null:{parent:je._currentValue,pool:e}}var Ol=Error(a(460)),Ls=Error(a(474)),ko=Error(a(542)),Go={then:function(){}};function Yc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jc(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(rn,rn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qc(e),e;default:if(typeof n.status=="string")n.then(rn,rn);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qc(e),e}throw hl=n,Ol}}function fl(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(hl=i,Ol):i}}var hl=null;function $c(){if(hl===null)throw Error(a(459));var e=hl;return hl=null,e}function Qc(e){if(e===Ol||e===ko)throw Error(a(483))}var zl=null,Di=0;function Ho(e){var n=Di;return Di+=1,zl===null&&(zl=[]),Jc(zl,e,n)}function Ui(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qo(e,n){throw n.$$typeof===C?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xc(e){function n(w,R){if(e){var U=w.deletions;U===null?(w.deletions=[R],w.flags|=16):U.push(R)}}function i(w,R){if(!e)return null;for(;R!==null;)n(w,R),R=R.sibling;return null}function s(w){for(var R=new Map;w!==null;)w.key!==null?R.set(w.key,w):R.set(w.index,w),w=w.sibling;return R}function f(w,R){return w=cn(w,R),w.index=0,w.sibling=null,w}function h(w,R,U){return w.index=U,e?(U=w.alternate,U!==null?(U=U.index,U<R?(w.flags|=67108866,R):U):(w.flags|=67108866,R)):(w.flags|=1048576,R)}function S(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function E(w,R,U,$){return R===null||R.tag!==6?(R=Cs(U,w.mode,$),R.return=w,R):(R=f(R,U),R.return=w,R)}function b(w,R,U,$){var me=U.type;return me===D?K(w,R,U.props.children,$,U.key):R!==null&&(R.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ue&&fl(me)===R.type)?(R=f(R,U.props),Ui(R,U),R.return=w,R):(R=Do(U.type,U.key,U.props,null,w.mode,$),Ui(R,U),R.return=w,R)}function L(w,R,U,$){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=Es(U,w.mode,$),R.return=w,R):(R=f(R,U.children||[]),R.return=w,R)}function K(w,R,U,$,me){return R===null||R.tag!==7?(R=sl(U,w.mode,$,me),R.return=w,R):(R=f(R,U),R.return=w,R)}function Z(w,R,U){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Cs(""+R,w.mode,U),R.return=w,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return U=Do(R.type,R.key,R.props,null,w.mode,U),Ui(U,R),U.return=w,U;case I:return R=Es(R,w.mode,U),R.return=w,R;case ue:return R=fl(R),Z(w,R,U)}if(ce(R)||te(R))return R=sl(R,w.mode,U,null),R.return=w,R;if(typeof R.then=="function")return Z(w,Ho(R),U);if(R.$$typeof===Y)return Z(w,Po(w,R),U);qo(w,R)}return null}function k(w,R,U,$){var me=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:E(w,R,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return U.key===me?b(w,R,U,$):null;case I:return U.key===me?L(w,R,U,$):null;case ue:return U=fl(U),k(w,R,U,$)}if(ce(U)||te(U))return me!==null?null:K(w,R,U,$,null);if(typeof U.then=="function")return k(w,R,Ho(U),$);if(U.$$typeof===Y)return k(w,R,Po(w,U),$);qo(w,U)}return null}function B(w,R,U,$,me){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return w=w.get(U)||null,E(R,w,""+$,me);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return w=w.get($.key===null?U:$.key)||null,b(R,w,$,me);case I:return w=w.get($.key===null?U:$.key)||null,L(R,w,$,me);case ue:return $=fl($),B(w,R,U,$,me)}if(ce($)||te($))return w=w.get(U)||null,K(R,w,$,me,null);if(typeof $.then=="function")return B(w,R,U,Ho($),me);if($.$$typeof===Y)return B(w,R,U,Po(R,$),me);qo(R,$)}return null}function he(w,R,U,$){for(var me=null,De=null,pe=R,Se=R=0,be=null;pe!==null&&Se<U.length;Se++){pe.index>Se?(be=pe,pe=null):be=pe.sibling;var Ue=k(w,pe,U[Se],$);if(Ue===null){pe===null&&(pe=be);break}e&&pe&&Ue.alternate===null&&n(w,pe),R=h(Ue,R,Se),De===null?me=Ue:De.sibling=Ue,De=Ue,pe=be}if(Se===U.length)return i(w,pe),Me&&dn(w,Se),me;if(pe===null){for(;Se<U.length;Se++)pe=Z(w,U[Se],$),pe!==null&&(R=h(pe,R,Se),De===null?me=pe:De.sibling=pe,De=pe);return Me&&dn(w,Se),me}for(pe=s(pe);Se<U.length;Se++)be=B(pe,w,Se,U[Se],$),be!==null&&(e&&be.alternate!==null&&pe.delete(be.key===null?Se:be.key),R=h(be,R,Se),De===null?me=be:De.sibling=be,De=be);return e&&pe.forEach(function(Wn){return n(w,Wn)}),Me&&dn(w,Se),me}function ye(w,R,U,$){if(U==null)throw Error(a(151));for(var me=null,De=null,pe=R,Se=R=0,be=null,Ue=U.next();pe!==null&&!Ue.done;Se++,Ue=U.next()){pe.index>Se?(be=pe,pe=null):be=pe.sibling;var Wn=k(w,pe,Ue.value,$);if(Wn===null){pe===null&&(pe=be);break}e&&pe&&Wn.alternate===null&&n(w,pe),R=h(Wn,R,Se),De===null?me=Wn:De.sibling=Wn,De=Wn,pe=be}if(Ue.done)return i(w,pe),Me&&dn(w,Se),me;if(pe===null){for(;!Ue.done;Se++,Ue=U.next())Ue=Z(w,Ue.value,$),Ue!==null&&(R=h(Ue,R,Se),De===null?me=Ue:De.sibling=Ue,De=Ue);return Me&&dn(w,Se),me}for(pe=s(pe);!Ue.done;Se++,Ue=U.next())Ue=B(pe,w,Se,Ue.value,$),Ue!==null&&(e&&Ue.alternate!==null&&pe.delete(Ue.key===null?Se:Ue.key),R=h(Ue,R,Se),De===null?me=Ue:De.sibling=Ue,De=Ue);return e&&pe.forEach(function(_y){return n(w,_y)}),Me&&dn(w,Se),me}function Be(w,R,U,$){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case _:e:{for(var me=U.key;R!==null;){if(R.key===me){if(me=U.type,me===D){if(R.tag===7){i(w,R.sibling),$=f(R,U.props.children),$.return=w,w=$;break e}}else if(R.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ue&&fl(me)===R.type){i(w,R.sibling),$=f(R,U.props),Ui($,U),$.return=w,w=$;break e}i(w,R);break}else n(w,R);R=R.sibling}U.type===D?($=sl(U.props.children,w.mode,$,U.key),$.return=w,w=$):($=Do(U.type,U.key,U.props,null,w.mode,$),Ui($,U),$.return=w,w=$)}return S(w);case I:e:{for(me=U.key;R!==null;){if(R.key===me)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){i(w,R.sibling),$=f(R,U.children||[]),$.return=w,w=$;break e}else{i(w,R);break}else n(w,R);R=R.sibling}$=Es(U,w.mode,$),$.return=w,w=$}return S(w);case ue:return U=fl(U),Be(w,R,U,$)}if(ce(U))return he(w,R,U,$);if(te(U)){if(me=te(U),typeof me!="function")throw Error(a(150));return U=me.call(U),ye(w,R,U,$)}if(typeof U.then=="function")return Be(w,R,Ho(U),$);if(U.$$typeof===Y)return Be(w,R,Po(w,U),$);qo(w,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,R!==null&&R.tag===6?(i(w,R.sibling),$=f(R,U),$.return=w,w=$):(i(w,R),$=Cs(U,w.mode,$),$.return=w,w=$),S(w)):i(w,R)}return function(w,R,U,$){try{Di=0;var me=Be(w,R,U,$);return zl=null,me}catch(pe){if(pe===Ol||pe===ko)throw pe;var De=bt(29,pe,null,w.mode);return De.lanes=$,De.return=w,De}finally{}}}var pl=Xc(!0),Zc=Xc(!1),Pn=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kn(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Pe&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=Io(e),Lc(e,null,i),n}return wo(e,s,n,i),Io(e)}function Li(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,Ou(e,i)}}function ks(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var S={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=S:h=h.next=S,i=i.next}while(i!==null);h===null?f=h=n:h=h.next=n}else f=h=n;i={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Gs=!1;function Pi(){if(Gs){var e=Bl;if(e!==null)throw e}}function Vi(e,n,i,s){Gs=!1;var f=e.updateQueue;Pn=!1;var h=f.firstBaseUpdate,S=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var b=E,L=b.next;b.next=null,S===null?h=L:S.next=L,S=b;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==S&&(E===null?K.firstBaseUpdate=L:E.next=L,K.lastBaseUpdate=b))}if(h!==null){var Z=f.baseState;S=0,K=L=b=null,E=h;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Ne&k)===k:(s&k)===k){k!==0&&k===ql&&(Gs=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=e,ye=E;k=n;var Be=i;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){Z=he.call(Be,Z,k);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,k=typeof he=="function"?he.call(Be,Z,k):he,k==null)break e;Z=x({},Z,k);break e;case 2:Pn=!0}}k=E.callback,k!==null&&(e.flags|=64,B&&(e.flags|=8192),B=f.callbacks,B===null?f.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(L=K=B,b=Z):K=K.next=B,S|=k;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;B=E,E=B.next,B.next=null,f.lastBaseUpdate=B,f.shared.pending=null}}while(!0);K===null&&(b=Z),f.baseState=b,f.firstBaseUpdate=L,f.lastBaseUpdate=K,h===null&&(f.shared.lanes=0),On|=S,e.lanes=S,e.memoizedState=Z}}function Wc(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function jc(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Wc(i[e],n)}var Fl=N(null),Bo=N(0);function ed(e,n){e=Cn,ne(Bo,e),ne(Fl,n),Cn=e|n.baseLanes}function Hs(){ne(Bo,Cn),ne(Fl,Fl.current)}function qs(){Cn=Bo.current,M(Fl),M(Bo)}var Mt=N(null),zt=null;function Gn(e){var n=e.alternate;ne(Ze,Ze.current&1),ne(Mt,e),zt===null&&(n===null||Fl.current!==null||n.memoizedState!==null)&&(zt=e)}function Bs(e){ne(Ze,Ze.current),ne(Mt,e),zt===null&&(zt=e)}function td(e){e.tag===22?(ne(Ze,Ze.current),ne(Mt,e),zt===null&&(zt=e)):Hn()}function Hn(){ne(Ze,Ze.current),ne(Mt,Mt.current)}function Rt(e){M(Mt),zt===e&&(zt=null),M(Ze)}var Ze=N(0);function Oo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Jr(i)||$r(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var pn=0,xe=null,He=null,et=null,zo=!1,Kl=!1,ml=!1,Fo=0,ki=0,Yl=null,p0=0;function Qe(){throw Error(a(321))}function Os(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Nt(e[i],n[i]))return!1;return!0}function zs(e,n,i,s,f,h){return pn=h,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?Gd:ir,ml=!1,h=i(s,f),ml=!1,Kl&&(h=ld(n,i,s,f)),nd(e),h}function nd(e){A.H=qi;var n=He!==null&&He.next!==null;if(pn=0,et=He=xe=null,zo=!1,ki=0,Yl=null,n)throw Error(a(300));e===null||tt||(e=e.dependencies,e!==null&&Lo(e)&&(tt=!0))}function ld(e,n,i,s){xe=e;var f=0;do{if(Kl&&(Yl=null),ki=0,Kl=!1,25<=f)throw Error(a(301));if(f+=1,et=He=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}A.H=Hd,h=n(i,s)}while(Kl);return h}function m0(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?Gi(n):n,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(xe.flags|=1024),n}function Fs(){var e=Fo!==0;return Fo=0,e}function Ks(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Ys(e){if(zo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zo=!1}pn=0,et=He=xe=null,Kl=!1,ki=Fo=0,Yl=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?xe.memoizedState=et=e:et=et.next=e,et}function We(){if(He===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var n=et===null?xe.memoizedState:et.next;if(n!==null)et=n,He=e;else{if(e===null)throw xe.alternate===null?Error(a(467)):Error(a(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},et===null?xe.memoizedState=et=e:et=et.next=e}return et}function Ko(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gi(e){var n=ki;return ki+=1,Yl===null&&(Yl=[]),e=Jc(Yl,e,n),n=xe,(et===null?n.memoizedState:et.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Gd:ir),e}function Yo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gi(e);if(e.$$typeof===Y)return ut(e)}throw Error(a(438,String(e)))}function Js(e){var n=null,i=xe.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var s=xe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Ko(),xe.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),s=0;s<e;s++)i[s]=ee;return n.index++,i}function mn(e,n){return typeof n=="function"?n(e):n}function Jo(e){var n=We();return $s(n,He,e)}function $s(e,n,i){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=i;var f=e.baseQueue,h=s.pending;if(h!==null){if(f!==null){var S=f.next;f.next=h.next,h.next=S}n.baseQueue=f=h,s.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var E=S=null,b=null,L=n,K=!1;do{var Z=L.lane&-536870913;if(Z!==L.lane?(Ne&Z)===Z:(pn&Z)===Z){var k=L.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Z===ql&&(K=!0);else if((pn&k)===k){L=L.next,k===ql&&(K=!0);continue}else Z={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Z,S=h):b=b.next=Z,xe.lanes|=k,On|=k;Z=L.action,ml&&i(h,Z),h=L.hasEagerState?L.eagerState:i(h,Z)}else k={lane:Z,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=k,S=h):b=b.next=k,xe.lanes|=Z,On|=Z;L=L.next}while(L!==null&&L!==n);if(b===null?S=h:b.next=E,!Nt(h,e.memoizedState)&&(tt=!0,K&&(i=Bl,i!==null)))throw i;e.memoizedState=h,e.baseState=S,e.baseQueue=b,s.lastRenderedState=h}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Qs(e){var n=We(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var s=i.dispatch,f=i.pending,h=n.memoizedState;if(f!==null){i.pending=null;var S=f=f.next;do h=e(h,S.action),S=S.next;while(S!==f);Nt(h,n.memoizedState)||(tt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,s]}function id(e,n,i){var s=xe,f=We(),h=Me;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=n();var S=!Nt((He||f).memoizedState,i);if(S&&(f.memoizedState=i,tt=!0),f=f.queue,Ws(sd.bind(null,s,f,e),[e]),f.getSnapshot!==n||S||et!==null&&et.memoizedState.tag&1){if(s.flags|=2048,Jl(9,{destroy:void 0},ad.bind(null,s,f,i,n),null),ze===null)throw Error(a(349));h||(pn&127)!==0||od(s,n,i)}return i}function od(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=xe.updateQueue,n===null?(n=Ko(),xe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function ad(e,n,i,s){n.value=i,n.getSnapshot=s,rd(n)&&ud(e)}function sd(e,n,i){return i(function(){rd(n)&&ud(e)})}function rd(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Nt(e,i)}catch{return!0}}function ud(e){var n=al(e,2);n!==null&&St(n,e,2)}function Xs(e){var n=pt();if(typeof e=="function"){var i=e;if(e=i(),ml){Mn(!0);try{i()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},n}function cd(e,n,i,s){return e.baseState=i,$s(e,He,typeof s=="function"?s:mn)}function g0(e,n,i,s,f){if(Xo(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){h.listeners.push(S)}};A.T!==null?i(!0):h.isTransition=!1,s(h),i=n.pending,i===null?(h.next=n.pending=h,dd(n,h)):(h.next=i.next,n.pending=i.next=h)}}function dd(e,n){var i=n.action,s=n.payload,f=e.state;if(n.isTransition){var h=A.T,S={};A.T=S;try{var E=i(f,s),b=A.S;b!==null&&b(S,E),fd(e,n,E)}catch(L){Zs(e,n,L)}finally{h!==null&&S.types!==null&&(h.types=S.types),A.T=h}}else try{h=i(f,s),fd(e,n,h)}catch(L){Zs(e,n,L)}}function fd(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){hd(e,n,s)},function(s){return Zs(e,n,s)}):hd(e,n,i)}function hd(e,n,i){n.status="fulfilled",n.value=i,pd(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,dd(e,i)))}function Zs(e,n,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=i,pd(n),n=n.next;while(n!==s)}e.action=null}function pd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function md(e,n){return n}function gd(e,n){if(Me){var i=ze.formState;if(i!==null){e:{var s=xe;if(Me){if(Ke){t:{for(var f=Ke,h=Ot;f.nodeType!==8;){if(!h){f=null;break t}if(f=Ft(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Ke=Ft(f.nextSibling),s=f.data==="F!";break e}}Un(s)}s=!1}s&&(n=i[0])}}return i=pt(),i.memoizedState=i.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:n},i.queue=s,i=Pd.bind(null,xe,s),s.dispatch=i,s=Xs(!1),h=lr.bind(null,xe,!1,s.queue),s=pt(),f={state:n,dispatch:null,action:e,pending:null},s.queue=f,i=g0.bind(null,xe,f,h,i),f.dispatch=i,s.memoizedState=e,[n,i,!1]}function yd(e){var n=We();return vd(n,He,e)}function vd(e,n,i){if(n=$s(e,n,md)[0],e=Jo(mn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Gi(n)}catch(S){throw S===Ol?ko:S}else s=n;n=We();var f=n.queue,h=f.dispatch;return i!==n.memoizedState&&(xe.flags|=2048,Jl(9,{destroy:void 0},y0.bind(null,f,i),null)),[s,h,e]}function y0(e,n){e.action=n}function Td(e){var n=We(),i=He;if(i!==null)return vd(n,i,e);We(),n=n.memoizedState,i=We();var s=i.queue.dispatch;return i.memoizedState=e,[n,s,!1]}function Jl(e,n,i,s){return e={tag:e,create:i,deps:s,inst:n,next:null},n=xe.updateQueue,n===null&&(n=Ko(),xe.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e),e}function xd(){return We().memoizedState}function $o(e,n,i,s){var f=pt();xe.flags|=e,f.memoizedState=Jl(1|n,{destroy:void 0},i,s===void 0?null:s)}function Qo(e,n,i,s){var f=We();s=s===void 0?null:s;var h=f.memoizedState.inst;He!==null&&s!==null&&Os(s,He.memoizedState.deps)?f.memoizedState=Jl(n,h,i,s):(xe.flags|=e,f.memoizedState=Jl(1|n,h,i,s))}function Sd(e,n){$o(8390656,8,e,n)}function Ws(e,n){Qo(2048,8,e,n)}function v0(e){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=Ko(),xe.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function Cd(e){var n=We().memoizedState;return v0({ref:n,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ed(e,n){return Qo(4,2,e,n)}function _d(e,n){return Qo(4,4,e,n)}function Ad(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Nd(e,n,i){i=i!=null?i.concat([e]):null,Qo(4,4,Ad.bind(null,n,e),i)}function js(){}function bd(e,n){var i=We();n=n===void 0?null:n;var s=i.memoizedState;return n!==null&&Os(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function Md(e,n){var i=We();n=n===void 0?null:n;var s=i.memoizedState;if(n!==null&&Os(n,s[1]))return s[0];if(s=e(),ml){Mn(!0);try{e()}finally{Mn(!1)}}return i.memoizedState=[s,n],s}function er(e,n,i){return i===void 0||(pn&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=wf(),xe.lanes|=e,On|=e,i)}function Rd(e,n,i,s){return Nt(i,n)?i:Fl.current!==null?(e=er(e,i,s),Nt(e,n)||(tt=!0),e):(pn&42)===0||(pn&1073741824)!==0&&(Ne&261930)===0?(tt=!0,e.memoizedState=i):(e=wf(),xe.lanes|=e,On|=e,n)}function wd(e,n,i,s,f){var h=X.p;X.p=h!==0&&8>h?h:8;var S=A.T,E={};A.T=E,lr(e,!1,n,i);try{var b=f(),L=A.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var K=h0(b,s);Hi(e,n,K,Dt(e))}else Hi(e,n,s,Dt(e))}catch(Z){Hi(e,n,{then:function(){},status:"rejected",reason:Z},Dt())}finally{X.p=h,S!==null&&E.types!==null&&(S.types=E.types),A.T=S}}function T0(){}function tr(e,n,i,s){if(e.tag!==5)throw Error(a(476));var f=Id(e).queue;wd(e,f,n,de,i===null?T0:function(){return Dd(e),i(s)})}function Id(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:de},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Dd(e){var n=Id(e);n.next===null&&(n=e.alternate.memoizedState),Hi(e,n.next.queue,{},Dt())}function nr(){return ut(no)}function Ud(){return We().memoizedState}function Ld(){return We().memoizedState}function x0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Dt();e=Vn(i);var s=kn(n,e,i);s!==null&&(St(s,n,i),Li(s,n,i)),n={cache:Is()},e.payload=n;return}n=n.return}}function S0(e,n,i){var s=Dt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Xo(e)?Vd(n,i):(i=xs(e,n,i,s),i!==null&&(St(i,e,s),kd(i,n,s)))}function Pd(e,n,i){var s=Dt();Hi(e,n,i,s)}function Hi(e,n,i,s){var f={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Vd(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var S=n.lastRenderedState,E=h(S,i);if(f.hasEagerState=!0,f.eagerState=E,Nt(E,S))return wo(e,n,f,0),ze===null&&Ro(),!1}catch{}finally{}if(i=xs(e,n,f,s),i!==null)return St(i,e,s),kd(i,n,s),!0}return!1}function lr(e,n,i,s){if(s={lane:2,revertLane:Pr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Xo(e)){if(n)throw Error(a(479))}else n=xs(e,i,s,2),n!==null&&St(n,e,2)}function Xo(e){var n=e.alternate;return e===xe||n!==null&&n===xe}function Vd(e,n){Kl=zo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function kd(e,n,i){if((i&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,Ou(e,i)}}var qi={readContext:ut,use:Yo,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};qi.useEffectEvent=Qe;var Gd={readContext:ut,use:Yo,useCallback:function(e,n){return pt().memoizedState=[e,n===void 0?null:n],e},useContext:ut,useEffect:Sd,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,$o(4194308,4,Ad.bind(null,n,e),i)},useLayoutEffect:function(e,n){return $o(4194308,4,e,n)},useInsertionEffect:function(e,n){$o(4,2,e,n)},useMemo:function(e,n){var i=pt();n=n===void 0?null:n;var s=e();if(ml){Mn(!0);try{e()}finally{Mn(!1)}}return i.memoizedState=[s,n],s},useReducer:function(e,n,i){var s=pt();if(i!==void 0){var f=i(n);if(ml){Mn(!0);try{i(n)}finally{Mn(!1)}}}else f=n;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=S0.bind(null,xe,e),[s.memoizedState,e]},useRef:function(e){var n=pt();return e={current:e},n.memoizedState=e},useState:function(e){e=Xs(e);var n=e.queue,i=Pd.bind(null,xe,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:js,useDeferredValue:function(e,n){var i=pt();return er(i,e,n)},useTransition:function(){var e=Xs(!1);return e=wd.bind(null,xe,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var s=xe,f=pt();if(Me){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),ze===null)throw Error(a(349));(Ne&127)!==0||od(s,n,i)}f.memoizedState=i;var h={value:i,getSnapshot:n};return f.queue=h,Sd(sd.bind(null,s,h,e),[e]),s.flags|=2048,Jl(9,{destroy:void 0},ad.bind(null,s,h,i,n),null),i},useId:function(){var e=pt(),n=ze.identifierPrefix;if(Me){var i=tn,s=en;i=(s&~(1<<32-At(s)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Fo++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=p0++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:nr,useFormState:gd,useActionState:gd,useOptimistic:function(e){var n=pt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=lr.bind(null,xe,!0,i),i.dispatch=n,[e,n]},useMemoCache:Js,useCacheRefresh:function(){return pt().memoizedState=x0.bind(null,xe)},useEffectEvent:function(e){var n=pt(),i={impl:e};return n.memoizedState=i,function(){if((Pe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},ir={readContext:ut,use:Yo,useCallback:bd,useContext:ut,useEffect:Ws,useImperativeHandle:Nd,useInsertionEffect:Ed,useLayoutEffect:_d,useMemo:Md,useReducer:Jo,useRef:xd,useState:function(){return Jo(mn)},useDebugValue:js,useDeferredValue:function(e,n){var i=We();return Rd(i,He.memoizedState,e,n)},useTransition:function(){var e=Jo(mn)[0],n=We().memoizedState;return[typeof e=="boolean"?e:Gi(e),n]},useSyncExternalStore:id,useId:Ud,useHostTransitionStatus:nr,useFormState:yd,useActionState:yd,useOptimistic:function(e,n){var i=We();return cd(i,He,e,n)},useMemoCache:Js,useCacheRefresh:Ld};ir.useEffectEvent=Cd;var Hd={readContext:ut,use:Yo,useCallback:bd,useContext:ut,useEffect:Ws,useImperativeHandle:Nd,useInsertionEffect:Ed,useLayoutEffect:_d,useMemo:Md,useReducer:Qs,useRef:xd,useState:function(){return Qs(mn)},useDebugValue:js,useDeferredValue:function(e,n){var i=We();return He===null?er(i,e,n):Rd(i,He.memoizedState,e,n)},useTransition:function(){var e=Qs(mn)[0],n=We().memoizedState;return[typeof e=="boolean"?e:Gi(e),n]},useSyncExternalStore:id,useId:Ud,useHostTransitionStatus:nr,useFormState:Td,useActionState:Td,useOptimistic:function(e,n){var i=We();return He!==null?cd(i,He,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Js,useCacheRefresh:Ld};Hd.useEffectEvent=Cd;function or(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:x({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ar={enqueueSetState:function(e,n,i){e=e._reactInternals;var s=Dt(),f=Vn(s);f.payload=n,i!=null&&(f.callback=i),n=kn(e,f,s),n!==null&&(St(n,e,s),Li(n,e,s))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=Dt(),f=Vn(s);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=kn(e,f,s),n!==null&&(St(n,e,s),Li(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Dt(),s=Vn(i);s.tag=2,n!=null&&(s.callback=n),n=kn(e,s,i),n!==null&&(St(n,e,i),Li(n,e,i))}};function qd(e,n,i,s,f,h,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,S):n.prototype&&n.prototype.isPureReactComponent?!Ni(i,s)||!Ni(f,h):!0}function Bd(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&ar.enqueueReplaceState(n,n.state,null)}function gl(e,n){var i=n;if("ref"in n){i={};for(var s in n)s!=="ref"&&(i[s]=n[s])}if(e=e.defaultProps){i===n&&(i=x({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function Od(e){Mo(e)}function zd(e){console.error(e)}function Fd(e){Mo(e)}function Zo(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Kd(e,n,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function sr(e,n,i){return i=Vn(i),i.tag=3,i.payload={element:null},i.callback=function(){Zo(e,n)},i}function Yd(e){return e=Vn(e),e.tag=3,e}function Jd(e,n,i,s){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=s.value;e.payload=function(){return f(h)},e.callback=function(){Kd(n,i,s)}}var S=i.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Kd(n,i,s),typeof f!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function C0(e,n,i,s,f){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=i.alternate,n!==null&&Hl(n,i,f,!0),i=Mt.current,i!==null){switch(i.tag){case 31:case 13:return zt===null?ua():i.alternate===null&&Xe===0&&(Xe=3),i.flags&=-257,i.flags|=65536,i.lanes=f,s===Go?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([s]):n.add(s),Dr(e,s,f)),!1;case 22:return i.flags|=65536,s===Go?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([s]):i.add(s)),Dr(e,s,f)),!1}throw Error(a(435,i.tag))}return Dr(e,s,f),ua(),!1}if(Me)return n=Mt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==Ns&&(e=Error(a(422),{cause:s}),Ri(Ht(e,i)))):(s!==Ns&&(n=Error(a(423),{cause:s}),Ri(Ht(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=Ht(s,i),f=sr(e.stateNode,s,f),ks(e,f),Xe!==4&&(Xe=2)),!1;var h=Error(a(520),{cause:s});if(h=Ht(h,i),$i===null?$i=[h]:$i.push(h),Xe!==4&&(Xe=2),n===null)return!0;s=Ht(s,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=sr(i.stateNode,s,e),ks(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(zn===null||!zn.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Yd(f),Jd(f,e,i,s),ks(i,f),!1}i=i.return}while(i!==null);return!1}var rr=Error(a(461)),tt=!1;function ct(e,n,i,s){n.child=e===null?Zc(n,null,i,s):pl(n,e.child,i,s)}function $d(e,n,i,s,f){i=i.render;var h=n.ref;if("ref"in s){var S={};for(var E in s)E!=="ref"&&(S[E]=s[E])}else S=s;return cl(n),s=zs(e,n,i,S,h,f),E=Fs(),e!==null&&!tt?(Ks(e,n,f),gn(e,n,f)):(Me&&E&&_s(n),n.flags|=1,ct(e,n,s,f),n.child)}function Qd(e,n,i,s,f){if(e===null){var h=i.type;return typeof h=="function"&&!Ss(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,Xd(e,n,h,s,f)):(e=Do(i.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!gr(e,f)){var S=h.memoizedProps;if(i=i.compare,i=i!==null?i:Ni,i(S,s)&&e.ref===n.ref)return gn(e,n,f)}return n.flags|=1,e=cn(h,s),e.ref=n.ref,e.return=n,n.child=e}function Xd(e,n,i,s,f){if(e!==null){var h=e.memoizedProps;if(Ni(h,s)&&e.ref===n.ref)if(tt=!1,n.pendingProps=s=h,gr(e,f))(e.flags&131072)!==0&&(tt=!0);else return n.lanes=e.lanes,gn(e,n,f)}return ur(e,n,i,s,f)}function Zd(e,n,i,s){var f=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(s=n.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~h}else s=0,n.child=null;return Wd(e,n,h,i,s)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vo(n,h!==null?h.cachePool:null),h!==null?ed(n,h):Hs(),td(n);else return s=n.lanes=536870912,Wd(e,n,h!==null?h.baseLanes|i:i,i,s)}else h!==null?(Vo(n,h.cachePool),ed(n,h),Hn(),n.memoizedState=null):(e!==null&&Vo(n,null),Hs(),Hn());return ct(e,n,f,i),n.child}function Bi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wd(e,n,i,s,f){var h=Us();return h=h===null?null:{parent:je._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&Vo(n,null),Hs(),td(n),e!==null&&Hl(e,n,s,!0),n.childLanes=f,null}function Wo(e,n){return n=ea({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jd(e,n,i){return pl(n,e.child,null,i),e=Wo(n,n.pendingProps),e.flags|=2,Rt(n),n.memoizedState=null,e}function E0(e,n,i){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Me){if(s.mode==="hidden")return e=Wo(n,s),n.lanes=536870912,Bi(null,e);if(Bs(n),(e=Ke)?(e=fh(e,Ot),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:In!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},i=Vc(e),i.return=n,n.child=i,rt=n,Ke=null)):e=null,e===null)throw Un(n);return n.lanes=536870912,null}return Wo(n,s)}var h=e.memoizedState;if(h!==null){var S=h.dehydrated;if(Bs(n),f)if(n.flags&256)n.flags&=-257,n=jd(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(tt||Hl(e,n,i,!1),f=(i&e.childLanes)!==0,tt||f){if(s=ze,s!==null&&(S=zu(s,i),S!==0&&S!==h.retryLane))throw h.retryLane=S,al(e,S),St(s,e,S),rr;ua(),n=jd(e,n,i)}else e=h.treeContext,Ke=Ft(S.nextSibling),rt=n,Me=!0,Dn=null,Ot=!1,e!==null&&Hc(n,e),n=Wo(n,s),n.flags|=4096;return n}return e=cn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function jo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function ur(e,n,i,s,f){return cl(n),i=zs(e,n,i,s,void 0,f),s=Fs(),e!==null&&!tt?(Ks(e,n,f),gn(e,n,f)):(Me&&s&&_s(n),n.flags|=1,ct(e,n,i,f),n.child)}function ef(e,n,i,s,f,h){return cl(n),n.updateQueue=null,i=ld(n,s,i,f),nd(e),s=Fs(),e!==null&&!tt?(Ks(e,n,h),gn(e,n,h)):(Me&&s&&_s(n),n.flags|=1,ct(e,n,i,h),n.child)}function tf(e,n,i,s,f){if(cl(n),n.stateNode===null){var h=Pl,S=i.contextType;typeof S=="object"&&S!==null&&(h=ut(S)),h=new i(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ar,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},Ps(n),S=i.contextType,h.context=typeof S=="object"&&S!==null?ut(S):Pl,h.state=n.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(or(n,i,S,s),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(S=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),S!==h.state&&ar.enqueueReplaceState(h,h.state,null),Vi(n,s,h,f),Pi(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var E=n.memoizedProps,b=gl(i,E);h.props=b;var L=h.context,K=i.contextType;S=Pl,typeof K=="object"&&K!==null&&(S=ut(K));var Z=i.getDerivedStateFromProps;K=typeof Z=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||L!==S)&&Bd(n,h,s,S),Pn=!1;var k=n.memoizedState;h.state=k,Vi(n,s,h,f),Pi(),L=n.memoizedState,E||k!==L||Pn?(typeof Z=="function"&&(or(n,i,Z,s),L=n.memoizedState),(b=Pn||qd(n,i,b,s,k,L,S))?(K||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=L),h.props=s,h.state=L,h.context=S,s=b):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,Vs(e,n),S=n.memoizedProps,K=gl(i,S),h.props=K,Z=n.pendingProps,k=h.context,L=i.contextType,b=Pl,typeof L=="object"&&L!==null&&(b=ut(L)),E=i.getDerivedStateFromProps,(L=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==Z||k!==b)&&Bd(n,h,s,b),Pn=!1,k=n.memoizedState,h.state=k,Vi(n,s,h,f),Pi();var B=n.memoizedState;S!==Z||k!==B||Pn||e!==null&&e.dependencies!==null&&Lo(e.dependencies)?(typeof E=="function"&&(or(n,i,E,s),B=n.memoizedState),(K=Pn||qd(n,i,K,s,k,B,b)||e!==null&&e.dependencies!==null&&Lo(e.dependencies))?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,B,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,B,b)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=B),h.props=s,h.state=B,h.context=b,s=K):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,jo(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=pl(n,e.child,null,f),n.child=pl(n,null,i,f)):ct(e,n,i,f),n.memoizedState=h.state,e=n.child):e=gn(e,n,f),e}function nf(e,n,i,s){return rl(),n.flags|=256,ct(e,n,i,s),n.child}var cr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dr(e){return{baseLanes:e,cachePool:Kc()}}function fr(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=It),e}function lf(e,n,i){var s=n.pendingProps,f=!1,h=(n.flags&128)!==0,S;if((S=h)||(S=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Me){if(f?Gn(n):Hn(),(e=Ke)?(e=fh(e,Ot),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:In!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},i=Vc(e),i.return=n,n.child=i,rt=n,Ke=null)):e=null,e===null)throw Un(n);return $r(e)?n.lanes=32:n.lanes=536870912,null}var E=s.children;return s=s.fallback,f?(Hn(),f=n.mode,E=ea({mode:"hidden",children:E},f),s=sl(s,f,i,null),E.return=n,s.return=n,E.sibling=s,n.child=E,s=n.child,s.memoizedState=dr(i),s.childLanes=fr(e,S,i),n.memoizedState=cr,Bi(null,s)):(Gn(n),hr(n,E))}var b=e.memoizedState;if(b!==null&&(E=b.dehydrated,E!==null)){if(h)n.flags&256?(Gn(n),n.flags&=-257,n=pr(e,n,i)):n.memoizedState!==null?(Hn(),n.child=e.child,n.flags|=128,n=null):(Hn(),E=s.fallback,f=n.mode,s=ea({mode:"visible",children:s.children},f),E=sl(E,f,i,null),E.flags|=2,s.return=n,E.return=n,s.sibling=E,n.child=s,pl(n,e.child,null,i),s=n.child,s.memoizedState=dr(i),s.childLanes=fr(e,S,i),n.memoizedState=cr,n=Bi(null,s));else if(Gn(n),$r(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var L=S.dgst;S=L,s=Error(a(419)),s.stack="",s.digest=S,Ri({value:s,source:null,stack:null}),n=pr(e,n,i)}else if(tt||Hl(e,n,i,!1),S=(i&e.childLanes)!==0,tt||S){if(S=ze,S!==null&&(s=zu(S,i),s!==0&&s!==b.retryLane))throw b.retryLane=s,al(e,s),St(S,e,s),rr;Jr(E)||ua(),n=pr(e,n,i)}else Jr(E)?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,Ke=Ft(E.nextSibling),rt=n,Me=!0,Dn=null,Ot=!1,e!==null&&Hc(n,e),n=hr(n,s.children),n.flags|=4096);return n}return f?(Hn(),E=s.fallback,f=n.mode,b=e.child,L=b.sibling,s=cn(b,{mode:"hidden",children:s.children}),s.subtreeFlags=b.subtreeFlags&65011712,L!==null?E=cn(L,E):(E=sl(E,f,i,null),E.flags|=2),E.return=n,s.return=n,s.sibling=E,n.child=s,Bi(null,s),s=n.child,E=e.child.memoizedState,E===null?E=dr(i):(f=E.cachePool,f!==null?(b=je._currentValue,f=f.parent!==b?{parent:b,pool:b}:f):f=Kc(),E={baseLanes:E.baseLanes|i,cachePool:f}),s.memoizedState=E,s.childLanes=fr(e,S,i),n.memoizedState=cr,Bi(e.child,s)):(Gn(n),i=e.child,e=i.sibling,i=cn(i,{mode:"visible",children:s.children}),i.return=n,i.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=i,n.memoizedState=null,i)}function hr(e,n){return n=ea({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ea(e,n){return e=bt(22,e,null,n),e.lanes=0,e}function pr(e,n,i){return pl(n,e.child,null,i),e=hr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function of(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Rs(e.return,n,i)}function mr(e,n,i,s,f,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:f,treeForkCount:h}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=i,S.tailMode=f,S.treeForkCount=h)}function af(e,n,i){var s=n.pendingProps,f=s.revealOrder,h=s.tail;s=s.children;var S=Ze.current,E=(S&2)!==0;if(E?(S=S&1|2,n.flags|=128):S&=1,ne(Ze,S),ct(e,n,s,i),s=Me?Mi:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&of(e,i,n);else if(e.tag===19)of(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&Oo(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),mr(n,!1,f,i,h,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Oo(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}mr(n,!0,i,null,h,s);break;case"together":mr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function gn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),On|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Hl(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=cn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=cn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function gr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Lo(e)))}function _0(e,n,i){switch(n.tag){case 3:Fe(n,n.stateNode.containerInfo),Ln(n,je,e.memoizedState.cache),rl();break;case 27:case 5:we(n);break;case 4:Fe(n,n.stateNode.containerInfo);break;case 10:Ln(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Bs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Gn(n),n.flags|=128,null):(i&n.child.childLanes)!==0?lf(e,n,i):(Gn(n),e=gn(e,n,i),e!==null?e.sibling:null);Gn(n);break;case 19:var f=(e.flags&128)!==0;if(s=(i&n.childLanes)!==0,s||(Hl(e,n,i,!1),s=(i&n.childLanes)!==0),f){if(s)return af(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ne(Ze,Ze.current),s)break;return null;case 22:return n.lanes=0,Zd(e,n,i,n.pendingProps);case 24:Ln(n,je,e.memoizedState.cache)}return gn(e,n,i)}function sf(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)tt=!0;else{if(!gr(e,i)&&(n.flags&128)===0)return tt=!1,_0(e,n,i);tt=(e.flags&131072)!==0}else tt=!1,Me&&(n.flags&1048576)!==0&&Gc(n,Mi,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=fl(n.elementType),n.type=e,typeof e=="function")Ss(e)?(s=gl(e,s),n.tag=1,n=tf(null,n,e,s,i)):(n.tag=0,n=ur(null,n,e,s,i));else{if(e!=null){var f=e.$$typeof;if(f===le){n.tag=11,n=$d(null,n,e,s,i);break e}else if(f===J){n.tag=14,n=Qd(null,n,e,s,i);break e}}throw n=ge(e)||e,Error(a(306,n,""))}}return n;case 0:return ur(e,n,n.type,n.pendingProps,i);case 1:return s=n.type,f=gl(s,n.pendingProps),tf(e,n,s,f,i);case 3:e:{if(Fe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;f=h.element,Vs(e,n),Vi(n,s,null,i);var S=n.memoizedState;if(s=S.cache,Ln(n,je,s),s!==h.cache&&ws(n,[je],i,!0),Pi(),s=S.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=nf(e,n,s,i);break e}else if(s!==f){f=Ht(Error(a(424)),n),Ri(f),n=nf(e,n,s,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ke=Ft(e.firstChild),rt=n,Me=!0,Dn=null,Ot=!0,i=Zc(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(rl(),s===f){n=gn(e,n,i);break e}ct(e,n,s,i)}n=n.child}return n;case 26:return jo(e,n),e===null?(i=vh(n.type,null,n.pendingProps,null))?n.memoizedState=i:Me||(i=n.type,e=n.pendingProps,s=ga(fe.current).createElement(i),s[st]=n,s[mt]=e,dt(s,i,e),ot(s),n.stateNode=s):n.memoizedState=vh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return we(n),e===null&&Me&&(s=n.stateNode=mh(n.type,n.pendingProps,fe.current),rt=n,Ot=!0,f=Ke,Jn(n.type)?(Qr=f,Ke=Ft(s.firstChild)):Ke=f),ct(e,n,n.pendingProps.children,i),jo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Me&&((f=s=Ke)&&(s=ey(s,n.type,n.pendingProps,Ot),s!==null?(n.stateNode=s,rt=n,Ke=Ft(s.firstChild),Ot=!1,f=!0):f=!1),f||Un(n)),we(n),f=n.type,h=n.pendingProps,S=e!==null?e.memoizedProps:null,s=h.children,Fr(f,h)?s=null:S!==null&&Fr(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=zs(e,n,m0,null,null,i),no._currentValue=f),jo(e,n),ct(e,n,s,i),n.child;case 6:return e===null&&Me&&((e=i=Ke)&&(i=ty(i,n.pendingProps,Ot),i!==null?(n.stateNode=i,rt=n,Ke=null,e=!0):e=!1),e||Un(n)),null;case 13:return lf(e,n,i);case 4:return Fe(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=pl(n,null,s,i):ct(e,n,s,i),n.child;case 11:return $d(e,n,n.type,n.pendingProps,i);case 7:return ct(e,n,n.pendingProps,i),n.child;case 8:return ct(e,n,n.pendingProps.children,i),n.child;case 12:return ct(e,n,n.pendingProps.children,i),n.child;case 10:return s=n.pendingProps,Ln(n,n.type,s.value),ct(e,n,s.children,i),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,cl(n),f=ut(f),s=s(f),n.flags|=1,ct(e,n,s,i),n.child;case 14:return Qd(e,n,n.type,n.pendingProps,i);case 15:return Xd(e,n,n.type,n.pendingProps,i);case 19:return af(e,n,i);case 31:return E0(e,n,i);case 22:return Zd(e,n,i,n.pendingProps);case 24:return cl(n),s=ut(je),e===null?(f=Us(),f===null&&(f=ze,h=Is(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),n.memoizedState={parent:s,cache:f},Ps(n),Ln(n,je,f)):((e.lanes&i)!==0&&(Vs(e,n),Vi(n,null,null,i),Pi()),f=e.memoizedState,h=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ln(n,je,s)):(s=h.cache,Ln(n,je,s),s!==f.cache&&ws(n,[je],i,!0))),ct(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function yn(e){e.flags|=4}function yr(e,n,i,s,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Lf())e.flags|=8192;else throw hl=Go,Ls}else e.flags&=-16777217}function rf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Eh(n))if(Lf())e.flags|=8192;else throw hl=Go,Ls}function ta(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?qu():536870912,e.lanes|=n,Zl|=n)}function Oi(e,n){if(!Me)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ye(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function A0(e,n,i){var s=n.pendingProps;switch(As(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return Ye(n),null;case 3:return i=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),hn(je),Te(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Gl(n)?yn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bs())),Ye(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?(yn(n),h!==null?(Ye(n),rf(n,h)):(Ye(n),yr(n,f,null,s,i))):h?h!==e.memoizedState?(yn(n),Ye(n),rf(n,h)):(Ye(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&yn(n),Ye(n),yr(n,f,e,s,i)),null;case 27:if(Ce(n),i=fe.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&yn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ye(n),null}e=ie.current,Gl(n)?qc(n):(e=mh(f,s,i),n.stateNode=e,yn(n))}return Ye(n),null;case 5:if(Ce(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&yn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ye(n),null}if(h=ie.current,Gl(n))qc(n);else{var S=ga(fe.current);switch(h){case 1:h=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=S.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?S.createElement(f,{is:s.is}):S.createElement(f)}}h[st]=n,h[mt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=h;e:switch(dt(h,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&yn(n)}}return Ye(n),yr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&yn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=fe.current,Gl(n)){if(e=n.stateNode,i=n.memoizedProps,s=null,f=rt,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[st]=n,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||ih(e.nodeValue,i)),e||Un(n,!0)}else e=ga(e).createTextNode(s),e[st]=n,n.stateNode=e}return Ye(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(s=Gl(n),i!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[st]=n}else rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),e=!1}else i=bs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Rt(n),n):(Rt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ye(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Gl(n),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[st]=n}else rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),f=!1}else f=bs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Rt(n),n):(Rt(n),null)}return Rt(n),(n.flags&128)!==0?(n.lanes=i,n):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==f&&(s.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),ta(n,n.updateQueue),Ye(n),null);case 4:return Te(),e===null&&Hr(n.stateNode.containerInfo),Ye(n),null;case 10:return hn(n.type),Ye(n),null;case 19:if(M(Ze),s=n.memoizedState,s===null)return Ye(n),null;if(f=(n.flags&128)!==0,h=s.rendering,h===null)if(f)Oi(s,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Oo(e),h!==null){for(n.flags|=128,Oi(s,!1),e=h.updateQueue,n.updateQueue=e,ta(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Pc(i,e),i=i.sibling;return ne(Ze,Ze.current&1|2),Me&&dn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&Et()>aa&&(n.flags|=128,f=!0,Oi(s,!1),n.lanes=4194304)}else{if(!f)if(e=Oo(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,ta(n,e),Oi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Me)return Ye(n),null}else 2*Et()-s.renderingStartTime>aa&&i!==536870912&&(n.flags|=128,f=!0,Oi(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Et(),e.sibling=null,i=Ze.current,ne(Ze,f?i&1|2:i&1),Me&&dn(n,s.treeForkCount),e):(Ye(n),null);case 22:case 23:return Rt(n),qs(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(i&536870912)!==0&&(n.flags&128)===0&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),i=n.updateQueue,i!==null&&ta(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048),e!==null&&M(dl),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),hn(je),Ye(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function N0(e,n){switch(As(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hn(je),Te(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ce(n),null;case 31:if(n.memoizedState!==null){if(Rt(n),n.alternate===null)throw Error(a(340));rl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));rl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return M(Ze),null;case 4:return Te(),null;case 10:return hn(n.type),null;case 22:case 23:return Rt(n),qs(),e!==null&&M(dl),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hn(je),null;case 25:return null;default:return null}}function uf(e,n){switch(As(n),n.tag){case 3:hn(je),Te();break;case 26:case 27:case 5:Ce(n);break;case 4:Te();break;case 31:n.memoizedState!==null&&Rt(n);break;case 13:Rt(n);break;case 19:M(Ze);break;case 10:hn(n.type);break;case 22:case 23:Rt(n),qs(),e!==null&&M(dl);break;case 24:hn(je)}}function zi(e,n){try{var i=n.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var f=s.next;i=f;do{if((i.tag&e)===e){s=void 0;var h=i.create,S=i.inst;s=h(),S.destroy=s}i=i.next}while(i!==f)}}catch(E){Ge(n,n.return,E)}}function qn(e,n,i){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var h=f.next;s=h;do{if((s.tag&e)===e){var S=s.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,f=n;var b=i,L=E;try{L()}catch(K){Ge(f,b,K)}}}s=s.next}while(s!==h)}}catch(K){Ge(n,n.return,K)}}function cf(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{jc(n,i)}catch(s){Ge(e,e.return,s)}}}function df(e,n,i){i.props=gl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ge(e,n,s)}}function Fi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(f){Ge(e,n,f)}}function nn(e,n){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(f){Ge(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){Ge(e,n,f)}else i.current=null}function ff(e){var n=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(f){Ge(e,e.return,f)}}function vr(e,n,i){try{var s=e.stateNode;$0(s,e.type,i,n),s[mt]=n}catch(f){Ge(e,e.return,f)}}function hf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function Tr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xr(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=rn));else if(s!==4&&(s===27&&Jn(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(xr(e,n,i),e=e.sibling;e!==null;)xr(e,n,i),e=e.sibling}function na(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(s===27&&Jn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(na(e,n,i),e=e.sibling;e!==null;)na(e,n,i),e=e.sibling}function pf(e){var n=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);dt(n,s,i),n[st]=e,n[mt]=i}catch(h){Ge(e,e.return,h)}}var vn=!1,nt=!1,Sr=!1,mf=typeof WeakSet=="function"?WeakSet:Set,at=null;function b0(e,n){if(e=e.containerInfo,Or=Ea,e=Nc(e),ps(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var f=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var S=0,E=-1,b=-1,L=0,K=0,Z=e,k=null;t:for(;;){for(var B;Z!==i||f!==0&&Z.nodeType!==3||(E=S+f),Z!==h||s!==0&&Z.nodeType!==3||(b=S+s),Z.nodeType===3&&(S+=Z.nodeValue.length),(B=Z.firstChild)!==null;)k=Z,Z=B;for(;;){if(Z===e)break t;if(k===i&&++L===f&&(E=S),k===h&&++K===s&&(b=S),(B=Z.nextSibling)!==null)break;Z=k,k=Z.parentNode}Z=B}i=E===-1||b===-1?null:{start:E,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(zr={focusedElem:e,selectionRange:i},Ea=!1,at=n;at!==null;)if(n=at,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,at=e;else for(;at!==null;){switch(n=at,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,f=h.memoizedProps,h=h.memoizedState,s=i.stateNode;try{var he=gl(i.type,f);e=s.getSnapshotBeforeUpdate(he,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Ge(i,i.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Yr(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,at=e;break}at=n.return}}function gf(e,n,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:xn(e,i),s&4&&zi(5,i);break;case 1:if(xn(e,i),s&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(S){Ge(i,i.return,S)}else{var f=gl(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Ge(i,i.return,S)}}s&64&&cf(i),s&512&&Fi(i,i.return);break;case 3:if(xn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{jc(e,n)}catch(S){Ge(i,i.return,S)}}break;case 27:n===null&&s&4&&pf(i);case 26:case 5:xn(e,i),n===null&&s&4&&ff(i),s&512&&Fi(i,i.return);break;case 12:xn(e,i);break;case 31:xn(e,i),s&4&&Tf(e,i);break;case 13:xn(e,i),s&4&&xf(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=V0.bind(null,i),ny(e,i))));break;case 22:if(s=i.memoizedState!==null||vn,!s){n=n!==null&&n.memoizedState!==null||nt,f=vn;var h=nt;vn=s,(nt=n)&&!h?Sn(e,i,(i.subtreeFlags&8772)!==0):xn(e,i),vn=f,nt=h}break;case 30:break;default:xn(e,i)}}function yf(e){var n=e.alternate;n!==null&&(e.alternate=null,yf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Za(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,yt=!1;function Tn(e,n,i){for(i=i.child;i!==null;)vf(e,n,i),i=i.sibling}function vf(e,n,i){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(pi,i)}catch{}switch(i.tag){case 26:nt||nn(i,n),Tn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:nt||nn(i,n);var s=$e,f=yt;Jn(i.type)&&($e=i.stateNode,yt=!1),Tn(e,n,i),ji(i.stateNode),$e=s,yt=f;break;case 5:nt||nn(i,n);case 6:if(s=$e,f=yt,$e=null,Tn(e,n,i),$e=s,yt=f,$e!==null)if(yt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(i.stateNode)}catch(h){Ge(i,n,h)}else try{$e.removeChild(i.stateNode)}catch(h){Ge(i,n,h)}break;case 18:$e!==null&&(yt?(e=$e,ch(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),oi(e)):ch($e,i.stateNode));break;case 4:s=$e,f=yt,$e=i.stateNode.containerInfo,yt=!0,Tn(e,n,i),$e=s,yt=f;break;case 0:case 11:case 14:case 15:qn(2,i,n),nt||qn(4,i,n),Tn(e,n,i);break;case 1:nt||(nn(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"&&df(i,n,s)),Tn(e,n,i);break;case 21:Tn(e,n,i);break;case 22:nt=(s=nt)||i.memoizedState!==null,Tn(e,n,i),nt=s;break;default:Tn(e,n,i)}}function Tf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{oi(e)}catch(i){Ge(n,n.return,i)}}}function xf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{oi(e)}catch(i){Ge(n,n.return,i)}}function M0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new mf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new mf),n;default:throw Error(a(435,e.tag))}}function la(e,n){var i=M0(e);n.forEach(function(s){if(!i.has(s)){i.add(s);var f=k0.bind(null,e,s);s.then(f,f)}})}function vt(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var f=i[s],h=e,S=n,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(Jn(E.type)){$e=E.stateNode,yt=!1;break e}break;case 5:$e=E.stateNode,yt=!1;break e;case 3:case 4:$e=E.stateNode.containerInfo,yt=!0;break e}E=E.return}if($e===null)throw Error(a(160));vf(h,S,f),$e=null,yt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sf(n,e),n=n.sibling}var Qt=null;function Sf(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(n,e),Tt(e),s&4&&(qn(3,e,e.return),zi(3,e),qn(5,e,e.return));break;case 1:vt(n,e),Tt(e),s&512&&(nt||i===null||nn(i,i.return)),s&64&&vn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var f=Qt;if(vt(n,e),Tt(e),s&512&&(nt||i===null||nn(i,i.return)),s&4){var h=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":h=f.getElementsByTagName("title")[0],(!h||h[yi]||h[st]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(s),f.head.insertBefore(h,f.querySelector("head > title"))),dt(h,s,i),h[st]=e,ot(h),s=h;break e;case"link":var S=Sh("link","href",f).get(s+(i.href||""));if(S){for(var E=0;E<S.length;E++)if(h=S[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){S.splice(E,1);break t}}h=f.createElement(s),dt(h,s,i),f.head.appendChild(h);break;case"meta":if(S=Sh("meta","content",f).get(s+(i.content||""))){for(E=0;E<S.length;E++)if(h=S[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){S.splice(E,1);break t}}h=f.createElement(s),dt(h,s,i),f.head.appendChild(h);break;default:throw Error(a(468,s))}h[st]=e,ot(h),s=h}e.stateNode=s}else Ch(f,e.type,e.stateNode);else e.stateNode=xh(f,s,e.memoizedProps);else h!==s?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,s===null?Ch(f,e.type,e.stateNode):xh(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&vr(e,e.memoizedProps,i.memoizedProps)}break;case 27:vt(n,e),Tt(e),s&512&&(nt||i===null||nn(i,i.return)),i!==null&&s&4&&vr(e,e.memoizedProps,i.memoizedProps);break;case 5:if(vt(n,e),Tt(e),s&512&&(nt||i===null||nn(i,i.return)),e.flags&32){f=e.stateNode;try{Ml(f,"")}catch(he){Ge(e,e.return,he)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,vr(e,f,i!==null?i.memoizedProps:f)),s&1024&&(Sr=!0);break;case 6:if(vt(n,e),Tt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(he){Ge(e,e.return,he)}}break;case 3:if(Ta=null,f=Qt,Qt=ya(n.containerInfo),vt(n,e),Qt=f,Tt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{oi(n.containerInfo)}catch(he){Ge(e,e.return,he)}Sr&&(Sr=!1,Cf(e));break;case 4:s=Qt,Qt=ya(e.stateNode.containerInfo),vt(n,e),Tt(e),Qt=s;break;case 12:vt(n,e),Tt(e);break;case 31:vt(n,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 13:vt(n,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(oa=Et()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 22:f=e.memoizedState!==null;var b=i!==null&&i.memoizedState!==null,L=vn,K=nt;if(vn=L||f,nt=K||b,vt(n,e),nt=K,vn=L,Tt(e),s&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||b||vn||nt||yl(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){b=i=n;try{if(h=b.stateNode,f)S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=b.stateNode;var Z=b.memoizedProps.style,k=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(he){Ge(b,b.return,he)}}}else if(n.tag===6){if(i===null){b=n;try{b.stateNode.nodeValue=f?"":b.memoizedProps}catch(he){Ge(b,b.return,he)}}}else if(n.tag===18){if(i===null){b=n;try{var B=b.stateNode;f?dh(B,!0):dh(b.stateNode,!1)}catch(he){Ge(b,b.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,la(e,i))));break;case 19:vt(n,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 30:break;case 21:break;default:vt(n,e),Tt(e)}}function Tt(e){var n=e.flags;if(n&2){try{for(var i,s=e.return;s!==null;){if(hf(s)){i=s;break}s=s.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var f=i.stateNode,h=Tr(e);na(e,h,f);break;case 5:var S=i.stateNode;i.flags&32&&(Ml(S,""),i.flags&=-33);var E=Tr(e);na(e,E,S);break;case 3:case 4:var b=i.stateNode.containerInfo,L=Tr(e);xr(e,L,b);break;default:throw Error(a(161))}}catch(K){Ge(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Cf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function xn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gf(e,n.alternate,n),n=n.sibling}function yl(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qn(4,n,n.return),yl(n);break;case 1:nn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&df(n,n.return,i),yl(n);break;case 27:ji(n.stateNode);case 26:case 5:nn(n,n.return),yl(n);break;case 22:n.memoizedState===null&&yl(n);break;case 30:yl(n);break;default:yl(n)}e=e.sibling}}function Sn(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=e,h=n,S=h.flags;switch(h.tag){case 0:case 11:case 15:Sn(f,h,i),zi(4,h);break;case 1:if(Sn(f,h,i),s=h,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){Ge(s,s.return,L)}if(s=h,f=s.updateQueue,f!==null){var E=s.stateNode;try{var b=f.shared.hiddenCallbacks;if(b!==null)for(f.shared.hiddenCallbacks=null,f=0;f<b.length;f++)Wc(b[f],E)}catch(L){Ge(s,s.return,L)}}i&&S&64&&cf(h),Fi(h,h.return);break;case 27:pf(h);case 26:case 5:Sn(f,h,i),i&&s===null&&S&4&&ff(h),Fi(h,h.return);break;case 12:Sn(f,h,i);break;case 31:Sn(f,h,i),i&&S&4&&Tf(f,h);break;case 13:Sn(f,h,i),i&&S&4&&xf(f,h);break;case 22:h.memoizedState===null&&Sn(f,h,i),Fi(h,h.return);break;case 30:break;default:Sn(f,h,i)}n=n.sibling}}function Cr(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&wi(i))}function Er(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wi(e))}function Xt(e,n,i,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ef(e,n,i,s),n=n.sibling}function Ef(e,n,i,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Xt(e,n,i,s),f&2048&&zi(9,n);break;case 1:Xt(e,n,i,s);break;case 3:Xt(e,n,i,s),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wi(e)));break;case 12:if(f&2048){Xt(e,n,i,s),e=n.stateNode;try{var h=n.memoizedProps,S=h.id,E=h.onPostCommit;typeof E=="function"&&E(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Ge(n,n.return,b)}}else Xt(e,n,i,s);break;case 31:Xt(e,n,i,s);break;case 13:Xt(e,n,i,s);break;case 23:break;case 22:h=n.stateNode,S=n.alternate,n.memoizedState!==null?h._visibility&2?Xt(e,n,i,s):Ki(e,n):h._visibility&2?Xt(e,n,i,s):(h._visibility|=2,$l(e,n,i,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Cr(S,n);break;case 24:Xt(e,n,i,s),f&2048&&Er(n.alternate,n);break;default:Xt(e,n,i,s)}}function $l(e,n,i,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,S=n,E=i,b=s,L=S.flags;switch(S.tag){case 0:case 11:case 15:$l(h,S,E,b,f),zi(8,S);break;case 23:break;case 22:var K=S.stateNode;S.memoizedState!==null?K._visibility&2?$l(h,S,E,b,f):Ki(h,S):(K._visibility|=2,$l(h,S,E,b,f)),f&&L&2048&&Cr(S.alternate,S);break;case 24:$l(h,S,E,b,f),f&&L&2048&&Er(S.alternate,S);break;default:$l(h,S,E,b,f)}n=n.sibling}}function Ki(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,s=n,f=s.flags;switch(s.tag){case 22:Ki(i,s),f&2048&&Cr(s.alternate,s);break;case 24:Ki(i,s),f&2048&&Er(s.alternate,s);break;default:Ki(i,s)}n=n.sibling}}var Yi=8192;function Ql(e,n,i){if(e.subtreeFlags&Yi)for(e=e.child;e!==null;)_f(e,n,i),e=e.sibling}function _f(e,n,i){switch(e.tag){case 26:Ql(e,n,i),e.flags&Yi&&e.memoizedState!==null&&py(i,Qt,e.memoizedState,e.memoizedProps);break;case 5:Ql(e,n,i);break;case 3:case 4:var s=Qt;Qt=ya(e.stateNode.containerInfo),Ql(e,n,i),Qt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Yi,Yi=16777216,Ql(e,n,i),Yi=s):Ql(e,n,i));break;default:Ql(e,n,i)}}function Af(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ji(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];at=s,bf(s,e)}Af(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nf(e),e=e.sibling}function Nf(e){switch(e.tag){case 0:case 11:case 15:Ji(e),e.flags&2048&&qn(9,e,e.return);break;case 3:Ji(e);break;case 12:Ji(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ia(e)):Ji(e);break;default:Ji(e)}}function ia(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];at=s,bf(s,e)}Af(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qn(8,n,n.return),ia(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,ia(n));break;default:ia(n)}e=e.sibling}}function bf(e,n){for(;at!==null;){var i=at;switch(i.tag){case 0:case 11:case 15:qn(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:wi(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,at=s;else e:for(i=e;at!==null;){s=at;var f=s.sibling,h=s.return;if(yf(s),s===i){at=null;break e}if(f!==null){f.return=h,at=f;break e}at=h}}}var R0={getCacheForType:function(e){var n=ut(je),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return ut(je).controller.signal}},w0=typeof WeakMap=="function"?WeakMap:Map,Pe=0,ze=null,Ee=null,Ne=0,ke=0,wt=null,Bn=!1,Xl=!1,_r=!1,Cn=0,Xe=0,On=0,vl=0,Ar=0,It=0,Zl=0,$i=null,xt=null,Nr=!1,oa=0,Mf=0,aa=1/0,sa=null,zn=null,it=0,Fn=null,Wl=null,En=0,br=0,Mr=null,Rf=null,Qi=0,Rr=null;function Dt(){return(Pe&2)!==0&&Ne!==0?Ne&-Ne:A.T!==null?Pr():Fu()}function wf(){if(It===0)if((Ne&536870912)===0||Me){var e=mo;mo<<=1,(mo&3932160)===0&&(mo=262144),It=e}else It=536870912;return e=Mt.current,e!==null&&(e.flags|=32),It}function St(e,n,i){(e===ze&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(jl(e,0),Kn(e,Ne,It,!1)),gi(e,i),((Pe&2)===0||e!==ze)&&(e===ze&&((Pe&2)===0&&(vl|=i),Xe===4&&Kn(e,Ne,It,!1)),ln(e))}function If(e,n,i){if((Pe&6)!==0)throw Error(a(327));var s=!i&&(n&127)===0&&(n&e.expiredLanes)===0||mi(e,n),f=s?U0(e,n):Ir(e,n,!0),h=s;do{if(f===0){Xl&&!s&&Kn(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!I0(i)){f=Ir(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var E=e;f=$i;var b=E.current.memoizedState.isDehydrated;if(b&&(jl(E,S).flags|=256),S=Ir(E,S,!1),S!==2){if(_r&&!b){E.errorRecoveryDisabledLanes|=h,vl|=h,f=4;break e}h=xt,xt=f,h!==null&&(xt===null?xt=h:xt.push.apply(xt,h))}f=S}if(h=!1,f!==2)continue}}if(f===1){jl(e,0),Kn(e,n,0,!0);break}e:{switch(s=e,h=f,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Kn(s,n,It,!Bn);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=oa+300-Et(),10<f)){if(Kn(s,n,It,!Bn),yo(s,0,!0)!==0)break e;En=n,s.timeoutHandle=rh(Df.bind(null,s,i,xt,sa,Nr,n,It,vl,Zl,Bn,h,"Throttled",-0,0),f);break e}Df(s,i,xt,sa,Nr,n,It,vl,Zl,Bn,h,null,-0,0)}}break}while(!0);ln(e)}function Df(e,n,i,s,f,h,S,E,b,L,K,Z,k,B){if(e.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rn},_f(n,h,Z);var he=(h&62914560)===h?oa-Et():(h&4194048)===h?Mf-Et():0;if(he=my(Z,he),he!==null){En=h,e.cancelPendingCommit=he(qf.bind(null,e,n,h,i,s,f,S,E,b,K,Z,null,k,B)),Kn(e,h,S,!L);return}}qf(e,n,h,i,s,f,S,E,b)}function I0(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var f=i[s],h=f.getSnapshot;f=f.value;try{if(!Nt(h(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Kn(e,n,i,s){n&=~Ar,n&=~vl,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var f=n;0<f;){var h=31-At(f),S=1<<h;s[h]=-1,f&=~S}i!==0&&Bu(e,i,n)}function ra(){return(Pe&6)===0?(Xi(0),!1):!0}function wr(){if(Ee!==null){if(ke===0)var e=Ee.return;else e=Ee,fn=ul=null,Ys(e),zl=null,Di=0,e=Ee;for(;e!==null;)uf(e.alternate,e),e=e.return;Ee=null}}function jl(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Z0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),En=0,wr(),ze=e,Ee=i=cn(e.current,null),Ne=n,ke=0,wt=null,Bn=!1,Xl=mi(e,n),_r=!1,Zl=It=Ar=vl=On=Xe=0,xt=$i=null,Nr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var f=31-At(s),h=1<<f;n|=e[f],s&=~h}return Cn=n,Ro(),i}function Uf(e,n){xe=null,A.H=qi,n===Ol||n===ko?(n=$c(),ke=3):n===Ls?(n=$c(),ke=4):ke=n===rr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wt=n,Ee===null&&(Xe=1,Zo(e,Ht(n,e.current)))}function Lf(){var e=Mt.current;return e===null?!0:(Ne&4194048)===Ne?zt===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===zt:!1}function Pf(){var e=A.H;return A.H=qi,e===null?qi:e}function Vf(){var e=A.A;return A.A=R0,e}function ua(){Xe=4,Bn||(Ne&4194048)!==Ne&&Mt.current!==null||(Xl=!0),(On&134217727)===0&&(vl&134217727)===0||ze===null||Kn(ze,Ne,It,!1)}function Ir(e,n,i){var s=Pe;Pe|=2;var f=Pf(),h=Vf();(ze!==e||Ne!==n)&&(sa=null,jl(e,n)),n=!1;var S=Xe;e:do try{if(ke!==0&&Ee!==null){var E=Ee,b=wt;switch(ke){case 8:wr(),S=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(n=!0);var L=ke;if(ke=0,wt=null,ei(e,E,b,L),i&&Xl){S=0;break e}break;default:L=ke,ke=0,wt=null,ei(e,E,b,L)}}D0(),S=Xe;break}catch(K){Uf(e,K)}while(!0);return n&&e.shellSuspendCounter++,fn=ul=null,Pe=s,A.H=f,A.A=h,Ee===null&&(ze=null,Ne=0,Ro()),S}function D0(){for(;Ee!==null;)kf(Ee)}function U0(e,n){var i=Pe;Pe|=2;var s=Pf(),f=Vf();ze!==e||Ne!==n?(sa=null,aa=Et()+500,jl(e,n)):Xl=mi(e,n);e:do try{if(ke!==0&&Ee!==null){n=Ee;var h=wt;t:switch(ke){case 1:ke=0,wt=null,ei(e,n,h,1);break;case 2:case 9:if(Yc(h)){ke=0,wt=null,Gf(n);break}n=function(){ke!==2&&ke!==9||ze!==e||(ke=7),ln(e)},h.then(n,n);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Yc(h)?(ke=0,wt=null,Gf(n)):(ke=0,wt=null,ei(e,n,h,7));break;case 5:var S=null;switch(Ee.tag){case 26:S=Ee.memoizedState;case 5:case 27:var E=Ee;if(S?Eh(S):E.stateNode.complete){ke=0,wt=null;var b=E.sibling;if(b!==null)Ee=b;else{var L=E.return;L!==null?(Ee=L,ca(L)):Ee=null}break t}}ke=0,wt=null,ei(e,n,h,5);break;case 6:ke=0,wt=null,ei(e,n,h,6);break;case 8:wr(),Xe=6;break e;default:throw Error(a(462))}}L0();break}catch(K){Uf(e,K)}while(!0);return fn=ul=null,A.H=s,A.A=f,Pe=i,Ee!==null?0:(ze=null,Ne=0,Ro(),Xe)}function L0(){for(;Ee!==null&&!an();)kf(Ee)}function kf(e){var n=sf(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,n===null?ca(e):Ee=n}function Gf(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=ef(i,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=ef(i,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:Ys(n);default:uf(i,n),n=Ee=Pc(n,Cn),n=sf(i,n,Cn)}e.memoizedProps=e.pendingProps,n===null?ca(e):Ee=n}function ei(e,n,i,s){fn=ul=null,Ys(n),zl=null,Di=0;var f=n.return;try{if(C0(e,f,n,i,Ne)){Xe=1,Zo(e,Ht(i,e.current)),Ee=null;return}}catch(h){if(f!==null)throw Ee=f,h;Xe=1,Zo(e,Ht(i,e.current)),Ee=null;return}n.flags&32768?(Me||s===1?e=!0:Xl||(Ne&536870912)!==0?e=!1:(Bn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Mt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Hf(n,e)):ca(n)}function ca(e){var n=e;do{if((n.flags&32768)!==0){Hf(n,Bn);return}e=n.return;var i=A0(n.alternate,n,Cn);if(i!==null){Ee=i;return}if(n=n.sibling,n!==null){Ee=n;return}Ee=n=e}while(n!==null);Xe===0&&(Xe=5)}function Hf(e,n){do{var i=N0(e.alternate,e);if(i!==null){i.flags&=32767,Ee=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=i}while(e!==null);Xe=6,Ee=null}function qf(e,n,i,s,f,h,S,E,b){e.cancelPendingCommit=null;do da();while(it!==0);if((Pe&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Ts,hg(e,i,h,S,E,b),e===ze&&(Ee=ze=null,Ne=0),Wl=n,Fn=e,En=i,br=h,Mr=f,Rf=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,G0(ho,function(){return Kf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=A.T,A.T=null,f=X.p,X.p=2,S=Pe,Pe|=4;try{b0(e,n,i)}finally{Pe=S,X.p=f,A.T=s}}it=1,Bf(),Of(),zf()}}function Bf(){if(it===1){it=0;var e=Fn,n=Wl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=A.T,A.T=null;var s=X.p;X.p=2;var f=Pe;Pe|=4;try{Sf(n,e);var h=zr,S=Nc(e.containerInfo),E=h.focusedElem,b=h.selectionRange;if(S!==E&&E&&E.ownerDocument&&Ac(E.ownerDocument.documentElement,E)){if(b!==null&&ps(E)){var L=b.start,K=b.end;if(K===void 0&&(K=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(K,E.value.length);else{var Z=E.ownerDocument||document,k=Z&&Z.defaultView||window;if(k.getSelection){var B=k.getSelection(),he=E.textContent.length,ye=Math.min(b.start,he),Be=b.end===void 0?ye:Math.min(b.end,he);!B.extend&&ye>Be&&(S=Be,Be=ye,ye=S);var w=_c(E,ye),R=_c(E,Be);if(w&&R&&(B.rangeCount!==1||B.anchorNode!==w.node||B.anchorOffset!==w.offset||B.focusNode!==R.node||B.focusOffset!==R.offset)){var U=Z.createRange();U.setStart(w.node,w.offset),B.removeAllRanges(),ye>Be?(B.addRange(U),B.extend(R.node,R.offset)):(U.setEnd(R.node,R.offset),B.addRange(U))}}}}for(Z=[],B=E;B=B.parentNode;)B.nodeType===1&&Z.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var $=Z[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Ea=!!Or,zr=Or=null}finally{Pe=f,X.p=s,A.T=i}}e.current=n,it=2}}function Of(){if(it===2){it=0;var e=Fn,n=Wl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=A.T,A.T=null;var s=X.p;X.p=2;var f=Pe;Pe|=4;try{gf(e,n.alternate,n)}finally{Pe=f,X.p=s,A.T=i}}it=3}}function zf(){if(it===4||it===3){it=0,Ya();var e=Fn,n=Wl,i=En,s=Rf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?it=5:(it=0,Wl=Fn=null,Ff(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(zn=null),Qa(i),n=n.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(pi,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=A.T,f=X.p,X.p=2,A.T=null;try{for(var h=e.onRecoverableError,S=0;S<s.length;S++){var E=s[S];h(E.value,{componentStack:E.stack})}}finally{A.T=n,X.p=f}}(En&3)!==0&&da(),ln(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===Rr?Qi++:(Qi=0,Rr=e):Qi=0,Xi(0)}}function Ff(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,wi(n)))}function da(){return Bf(),Of(),zf(),Kf()}function Kf(){if(it!==5)return!1;var e=Fn,n=br;br=0;var i=Qa(En),s=A.T,f=X.p;try{X.p=32>i?32:i,A.T=null,i=Mr,Mr=null;var h=Fn,S=En;if(it=0,Wl=Fn=null,En=0,(Pe&6)!==0)throw Error(a(331));var E=Pe;if(Pe|=4,Nf(h.current),Ef(h,h.current,S,i),Pe=E,Xi(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(pi,h)}catch{}return!0}finally{X.p=f,A.T=s,Ff(e,n)}}function Yf(e,n,i){n=Ht(i,n),n=sr(e.stateNode,n,2),e=kn(e,n,2),e!==null&&(gi(e,2),ln(e))}function Ge(e,n,i){if(e.tag===3)Yf(e,e,i);else for(;n!==null;){if(n.tag===3){Yf(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zn===null||!zn.has(s))){e=Ht(i,e),i=Yd(2),s=kn(n,i,2),s!==null&&(Jd(i,s,n,e),gi(s,2),ln(s));break}}n=n.return}}function Dr(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new w0;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(i)||(_r=!0,f.add(i),e=P0.bind(null,e,n,i),n.then(e,e))}function P0(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ze===e&&(Ne&i)===i&&(Xe===4||Xe===3&&(Ne&62914560)===Ne&&300>Et()-oa?(Pe&2)===0&&jl(e,0):Ar|=i,Zl===Ne&&(Zl=0)),ln(e)}function Jf(e,n){n===0&&(n=qu()),e=al(e,n),e!==null&&(gi(e,n),ln(e))}function V0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Jf(e,i)}function k0(e,n){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Jf(e,i)}function G0(e,n){return Jt(e,n)}var fa=null,ti=null,Ur=!1,ha=!1,Lr=!1,Yn=0;function ln(e){e!==ti&&e.next===null&&(ti===null?fa=ti=e:ti=ti.next=e),ha=!0,Ur||(Ur=!0,q0())}function Xi(e,n){if(!Lr&&ha){Lr=!0;do for(var i=!1,s=fa;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var h=0;else{var S=s.suspendedLanes,E=s.pingedLanes;h=(1<<31-At(42|e)+1)-1,h&=f&~(S&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Zf(s,h))}else h=Ne,h=yo(s,s===ze?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||mi(s,h)||(i=!0,Zf(s,h));s=s.next}while(i);Lr=!1}}function H0(){$f()}function $f(){ha=Ur=!1;var e=0;Yn!==0&&X0()&&(e=Yn);for(var n=Et(),i=null,s=fa;s!==null;){var f=s.next,h=Qf(s,n);h===0?(s.next=null,i===null?fa=f:i.next=f,f===null&&(ti=i)):(i=s,(e!==0||(h&3)!==0)&&(ha=!0)),s=f}it!==0&&it!==5||Xi(e),Yn!==0&&(Yn=0)}function Qf(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var S=31-At(h),E=1<<S,b=f[S];b===-1?((E&i)===0||(E&s)!==0)&&(f[S]=fg(E,n)):b<=n&&(e.expiredLanes|=E),h&=~E}if(n=ze,i=Ne,i=yo(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===n&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&el(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||mi(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(s!==null&&el(s),Qa(i)){case 2:case 8:i=Gu;break;case 32:i=ho;break;case 268435456:i=Hu;break;default:i=ho}return s=Xf.bind(null,e),i=Jt(i,s),e.callbackPriority=n,e.callbackNode=i,n}return s!==null&&s!==null&&el(s),e.callbackPriority=2,e.callbackNode=null,2}function Xf(e,n){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(da()&&e.callbackNode!==i)return null;var s=Ne;return s=yo(e,e===ze?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(If(e,s,n),Qf(e,Et()),e.callbackNode!=null&&e.callbackNode===i?Xf.bind(null,e):null)}function Zf(e,n){if(da())return null;If(e,n,!0)}function q0(){W0(function(){(Pe&6)!==0?Jt(ku,H0):$f()})}function Pr(){if(Yn===0){var e=ql;e===0&&(e=po,po<<=1,(po&261888)===0&&(po=256)),Yn=e}return Yn}function Wf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:So(""+e)}function jf(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function B0(e,n,i,s,f){if(n==="submit"&&i&&i.stateNode===f){var h=Wf((f[mt]||null).action),S=s.submitter;S&&(n=(n=S[mt]||null)?Wf(n.formAction):S.getAttribute("formAction"),n!==null&&(h=n,S=null));var E=new Ao("action","action",null,s,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Yn!==0){var b=S?jf(f,S):new FormData(f);tr(i,{pending:!0,data:b,method:f.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=S?jf(f,S):new FormData(f),tr(i,{pending:!0,data:b,method:f.method,action:h},h,b))},currentTarget:f}]})}}for(var Vr=0;Vr<vs.length;Vr++){var kr=vs[Vr],O0=kr.toLowerCase(),z0=kr[0].toUpperCase()+kr.slice(1);$t(O0,"on"+z0)}$t(Rc,"onAnimationEnd"),$t(wc,"onAnimationIteration"),$t(Ic,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(o0,"onTransitionRun"),$t(a0,"onTransitionStart"),$t(s0,"onTransitionCancel"),$t(Dc,"onTransitionEnd"),Nl("onMouseEnter",["mouseout","mouseover"]),Nl("onMouseLeave",["mouseout","mouseover"]),Nl("onPointerEnter",["pointerout","pointerover"]),Nl("onPointerLeave",["pointerout","pointerover"]),nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nl("onBeforeInput",["compositionend","keypress","textInput","paste"]),nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zi));function eh(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],f=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var S=s.length-1;0<=S;S--){var E=s[S],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=L;try{h(f)}catch(K){Mo(K)}f.currentTarget=null,h=b}else for(S=0;S<s.length;S++){if(E=s[S],b=E.instance,L=E.currentTarget,E=E.listener,b!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=L;try{h(f)}catch(K){Mo(K)}f.currentTarget=null,h=b}}}}function _e(e,n){var i=n[Xa];i===void 0&&(i=n[Xa]=new Set);var s=e+"__bubble";i.has(s)||(th(n,e,2,!1),i.add(s))}function Gr(e,n,i){var s=0;n&&(s|=4),th(i,e,s,n)}var pa="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[pa]){e[pa]=!0,Ju.forEach(function(i){i!=="selectionchange"&&(F0.has(i)||Gr(i,!1,e),Gr(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pa]||(n[pa]=!0,Gr("selectionchange",!1,n))}}function th(e,n,i,s){switch(wh(n)){case 2:var f=vy;break;case 8:f=Ty;break;default:f=eu}i=f.bind(null,n,i,e),f=void 0,!os||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function qr(e,n,i,s,f){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var E=s.stateNode.containerInfo;if(E===f)break;if(S===4)for(S=s.return;S!==null;){var b=S.tag;if((b===3||b===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;E!==null;){if(S=El(E),S===null)return;if(b=S.tag,b===5||b===6||b===26||b===27){s=h=S;continue e}E=E.parentNode}}s=s.return}oc(function(){var L=h,K=ls(i),Z=[];e:{var k=Uc.get(e);if(k!==void 0){var B=Ao,he=e;switch(e){case"keypress":if(Eo(i)===0)break e;case"keydown":case"keyup":B=kg;break;case"focusin":he="focus",B=us;break;case"focusout":he="blur",B=us;break;case"beforeblur":case"afterblur":B=us;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Ag;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=qg;break;case Rc:case wc:case Ic:B=Mg;break;case Dc:B=Og;break;case"scroll":case"scrollend":B=Eg;break;case"wheel":B=Fg;break;case"copy":case"cut":case"paste":B=wg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=cc;break;case"toggle":case"beforetoggle":B=Yg}var ye=(n&4)!==0,Be=!ye&&(e==="scroll"||e==="scrollend"),w=ye?k!==null?k+"Capture":null:k;ye=[];for(var R=L,U;R!==null;){var $=R;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||w===null||($=Ti(R,w),$!=null&&ye.push(Wi(R,$,U))),Be)break;R=R.return}0<ye.length&&(k=new B(k,he,null,i,K),Z.push({event:k,listeners:ye}))}}if((n&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",k&&i!==ns&&(he=i.relatedTarget||i.fromElement)&&(El(he)||he[Cl]))break e;if((B||k)&&(k=K.window===K?K:(k=K.ownerDocument)?k.defaultView||k.parentWindow:window,B?(he=i.relatedTarget||i.toElement,B=L,he=he?El(he):null,he!==null&&(Be=d(he),ye=he.tag,he!==Be||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(B=null,he=L),B!==he)){if(ye=rc,$="onMouseLeave",w="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ye=cc,$="onPointerLeave",w="onPointerEnter",R="pointer"),Be=B==null?k:vi(B),U=he==null?k:vi(he),k=new ye($,R+"leave",B,i,K),k.target=Be,k.relatedTarget=U,$=null,El(K)===L&&(ye=new ye(w,R+"enter",he,i,K),ye.target=U,ye.relatedTarget=Be,$=ye),Be=$,B&&he)t:{for(ye=K0,w=B,R=he,U=0,$=w;$;$=ye($))U++;$=0;for(var me=R;me;me=ye(me))$++;for(;0<U-$;)w=ye(w),U--;for(;0<$-U;)R=ye(R),$--;for(;U--;){if(w===R||R!==null&&w===R.alternate){ye=w;break t}w=ye(w),R=ye(R)}ye=null}else ye=null;B!==null&&nh(Z,k,B,ye,!1),he!==null&&Be!==null&&nh(Z,Be,he,ye,!0)}}e:{if(k=L?vi(L):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var De=vc;else if(gc(k))if(Tc)De=n0;else{De=e0;var pe=jg}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?L&&ts(L.elementType)&&(De=vc):De=t0;if(De&&(De=De(e,L))){yc(Z,De,i,K);break e}pe&&pe(e,k,L),e==="focusout"&&L&&k.type==="number"&&L.memoizedProps.value!=null&&es(k,"number",k.value)}switch(pe=L?vi(L):window,e){case"focusin":(gc(pe)||pe.contentEditable==="true")&&(Dl=pe,ms=L,bi=null);break;case"focusout":bi=ms=Dl=null;break;case"mousedown":gs=!0;break;case"contextmenu":case"mouseup":case"dragend":gs=!1,bc(Z,i,K);break;case"selectionchange":if(i0)break;case"keydown":case"keyup":bc(Z,i,K)}var Se;if(ds)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Il?pc(e,i)&&(be="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(be="onCompositionStart");be&&(dc&&i.locale!=="ko"&&(Il||be!=="onCompositionStart"?be==="onCompositionEnd"&&Il&&(Se=ac()):(wn=K,as="value"in wn?wn.value:wn.textContent,Il=!0)),pe=ma(L,be),0<pe.length&&(be=new uc(be,e,null,i,K),Z.push({event:be,listeners:pe}),Se?be.data=Se:(Se=mc(i),Se!==null&&(be.data=Se)))),(Se=$g?Qg(e,i):Xg(e,i))&&(be=ma(L,"onBeforeInput"),0<be.length&&(pe=new uc("onBeforeInput","beforeinput",null,i,K),Z.push({event:pe,listeners:be}),pe.data=Se)),B0(Z,e,L,i,K)}eh(Z,n)})}function Wi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function ma(e,n){for(var i=n+"Capture",s=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Ti(e,i),f!=null&&s.unshift(Wi(e,f,h)),f=Ti(e,n),f!=null&&s.push(Wi(e,f,h))),e.tag===3)return s;e=e.return}return[]}function K0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nh(e,n,i,s,f){for(var h=n._reactName,S=[];i!==null&&i!==s;){var E=i,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===s)break;E!==5&&E!==26&&E!==27||L===null||(b=L,f?(L=Ti(i,h),L!=null&&S.unshift(Wi(i,L,b))):f||(L=Ti(i,h),L!=null&&S.push(Wi(i,L,b)))),i=i.return}S.length!==0&&e.push({event:n,listeners:S})}var Y0=/\r\n?/g,J0=/\u0000|\uFFFD/g;function lh(e){return(typeof e=="string"?e:""+e).replace(Y0,`
`).replace(J0,"")}function ih(e,n){return n=lh(n),lh(e)===n}function qe(e,n,i,s,f,h){switch(i){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ml(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ml(e,""+s);break;case"className":To(e,"class",s);break;case"tabIndex":To(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":To(e,i,s);break;case"style":lc(e,s,h);break;case"data":if(n!=="object"){To(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=So(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&qe(e,n,"name",f.name,f,null),qe(e,n,"formEncType",f.formEncType,f,null),qe(e,n,"formMethod",f.formMethod,f,null),qe(e,n,"formTarget",f.formTarget,f,null)):(qe(e,n,"encType",f.encType,f,null),qe(e,n,"method",f.method,f,null),qe(e,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=So(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=rn);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=So(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),vo(e,"popover",s);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":vo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Sg.get(i)||i,vo(e,i,s))}}function Br(e,n,i,s,f,h){switch(i){case"style":lc(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Ml(e,s):(typeof s=="number"||typeof s=="bigint")&&Ml(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$u.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),h=e[mt]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof s=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,s,f);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):vo(e,i,s)}}}function dt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var S=i[h];if(S!=null)switch(h){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:qe(e,n,h,S,i,null)}}f&&qe(e,n,"srcSet",i.srcSet,i,null),s&&qe(e,n,"src",i.src,i,null);return;case"input":_e("invalid",e);var E=h=S=f=null,b=null,L=null;for(s in i)if(i.hasOwnProperty(s)){var K=i[s];if(K!=null)switch(s){case"name":f=K;break;case"type":S=K;break;case"checked":b=K;break;case"defaultChecked":L=K;break;case"value":h=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:qe(e,n,s,K,i,null)}}ju(e,h,E,b,L,S,f,!1);return;case"select":_e("invalid",e),s=S=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":S=E;break;case"multiple":s=E;default:qe(e,n,f,E,i,null)}n=h,i=S,e.multiple=!!s,n!=null?bl(e,!!s,n,!1):i!=null&&bl(e,!!s,i,!0);return;case"textarea":_e("invalid",e),h=f=s=null;for(S in i)if(i.hasOwnProperty(S)&&(E=i[S],E!=null))switch(S){case"value":s=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:qe(e,n,S,E,i,null)}tc(e,s,f,h);return;case"option":for(b in i)if(i.hasOwnProperty(b)&&(s=i[b],s!=null))switch(b){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:qe(e,n,b,s,i,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<Zi.length;s++)_e(Zi[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in i)if(i.hasOwnProperty(L)&&(s=i[L],s!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:qe(e,n,L,s,i,null)}return;default:if(ts(n)){for(K in i)i.hasOwnProperty(K)&&(s=i[K],s!==void 0&&Br(e,n,K,s,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(s=i[E],s!=null&&qe(e,n,E,s,i,null))}function $0(e,n,i,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,S=null,E=null,b=null,L=null,K=null;for(B in i){var Z=i[B];if(i.hasOwnProperty(B)&&Z!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Z;default:s.hasOwnProperty(B)||qe(e,n,B,null,s,Z)}}for(var k in s){var B=s[k];if(Z=i[k],s.hasOwnProperty(k)&&(B!=null||Z!=null))switch(k){case"type":h=B;break;case"name":f=B;break;case"checked":L=B;break;case"defaultChecked":K=B;break;case"value":S=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Z&&qe(e,n,k,B,s,Z)}}ja(e,S,E,b,L,K,h,f);return;case"select":B=S=E=k=null;for(h in i)if(b=i[h],i.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":B=b;default:s.hasOwnProperty(h)||qe(e,n,h,null,s,b)}for(f in s)if(h=s[f],b=i[f],s.hasOwnProperty(f)&&(h!=null||b!=null))switch(f){case"value":k=h;break;case"defaultValue":E=h;break;case"multiple":S=h;default:h!==b&&qe(e,n,f,h,s,b)}n=E,i=S,s=B,k!=null?bl(e,!!i,k,!1):!!s!=!!i&&(n!=null?bl(e,!!i,n,!0):bl(e,!!i,i?[]:"",!1));return;case"textarea":B=k=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:qe(e,n,E,null,s,f)}for(S in s)if(f=s[S],h=i[S],s.hasOwnProperty(S)&&(f!=null||h!=null))switch(S){case"value":k=f;break;case"defaultValue":B=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&qe(e,n,S,f,s,h)}ec(e,k,B);return;case"option":for(var he in i)if(k=i[he],i.hasOwnProperty(he)&&k!=null&&!s.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:qe(e,n,he,null,s,k)}for(b in s)if(k=s[b],B=i[b],s.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:qe(e,n,b,k,s,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in i)k=i[ye],i.hasOwnProperty(ye)&&k!=null&&!s.hasOwnProperty(ye)&&qe(e,n,ye,null,s,k);for(L in s)if(k=s[L],B=i[L],s.hasOwnProperty(L)&&k!==B&&(k!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:qe(e,n,L,k,s,B)}return;default:if(ts(n)){for(var Be in i)k=i[Be],i.hasOwnProperty(Be)&&k!==void 0&&!s.hasOwnProperty(Be)&&Br(e,n,Be,void 0,s,k);for(K in s)k=s[K],B=i[K],!s.hasOwnProperty(K)||k===B||k===void 0&&B===void 0||Br(e,n,K,k,s,B);return}}for(var w in i)k=i[w],i.hasOwnProperty(w)&&k!=null&&!s.hasOwnProperty(w)&&qe(e,n,w,null,s,k);for(Z in s)k=s[Z],B=i[Z],!s.hasOwnProperty(Z)||k===B||k==null&&B==null||qe(e,n,Z,k,s,B)}function oh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Q0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var f=i[s],h=f.transferSize,S=f.initiatorType,E=f.duration;if(h&&E&&oh(S)){for(S=0,E=f.responseEnd,s+=1;s<i.length;s++){var b=i[s],L=b.startTime;if(L>E)break;var K=b.transferSize,Z=b.initiatorType;K&&oh(Z)&&(b=b.responseEnd,S+=K*(b<E?1:(E-L)/(b-L)))}if(--s,n+=8*(h+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Or=null,zr=null;function ga(e){return e.nodeType===9?e:e.ownerDocument}function ah(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Fr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kr=null;function X0(){var e=window.event;return e&&e.type==="popstate"?e===Kr?!1:(Kr=e,!0):(Kr=null,!1)}var rh=typeof setTimeout=="function"?setTimeout:void 0,Z0=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,W0=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(e){return uh.resolve(null).then(e).catch(j0)}:rh;function j0(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function ch(e,n){var i=n,s=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(f),oi(n);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")ji(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,ji(i);for(var h=i.firstChild;h;){var S=h.nextSibling,E=h.nodeName;h[yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=S}}else i==="body"&&ji(e.ownerDocument.body);i=f}while(i);oi(n)}function dh(e,n){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Yr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Yr(i),Za(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function ey(e,n,i,s){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[yi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function ty(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ft(e.nextSibling),e===null))return null;return e}function fh(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ft(e.nextSibling),e===null))return null;return e}function Jr(e){return e.data==="$?"||e.data==="$~"}function $r(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ny(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var s=function(){n(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ft(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Qr=null;function hh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Ft(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function ph(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function mh(e,n,i){switch(n=ga(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ji(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Za(e)}var Kt=new Map,gh=new Set;function ya(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _n=X.d;X.d={f:ly,r:iy,D:oy,C:ay,L:sy,m:ry,X:cy,S:uy,M:dy};function ly(){var e=_n.f(),n=ra();return e||n}function iy(e){var n=_l(e);n!==null&&n.tag===5&&n.type==="form"?Dd(n):_n.r(e)}var ni=typeof document>"u"?null:document;function yh(e,n,i){var s=ni;if(s&&typeof n=="string"&&n){var f=kt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),gh.has(f)||(gh.add(f),e={rel:e,crossOrigin:i,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),dt(n,"link",e),ot(n),s.head.appendChild(n)))}}function oy(e){_n.D(e),yh("dns-prefetch",e,null)}function ay(e,n){_n.C(e,n),yh("preconnect",e,n)}function sy(e,n,i){_n.L(e,n,i);var s=ni;if(s&&e&&n){var f='link[rel="preload"][as="'+kt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+kt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+kt(i.imageSizes)+'"]')):f+='[href="'+kt(e)+'"]';var h=f;switch(n){case"style":h=li(e);break;case"script":h=ii(e)}Kt.has(h)||(e=x({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Kt.set(h,e),s.querySelector(f)!==null||n==="style"&&s.querySelector(eo(h))||n==="script"&&s.querySelector(to(h))||(n=s.createElement("link"),dt(n,"link",e),ot(n),s.head.appendChild(n)))}}function ry(e,n){_n.m(e,n);var i=ni;if(i&&e){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+kt(s)+'"][href="'+kt(e)+'"]',h=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ii(e)}if(!Kt.has(h)&&(e=x({rel:"modulepreload",href:e},n),Kt.set(h,e),i.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(to(h)))return}s=i.createElement("link"),dt(s,"link",e),ot(s),i.head.appendChild(s)}}}function uy(e,n,i){_n.S(e,n,i);var s=ni;if(s&&e){var f=Al(s).hoistableStyles,h=li(e);n=n||"default";var S=f.get(h);if(!S){var E={loading:0,preload:null};if(S=s.querySelector(eo(h)))E.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Kt.get(h))&&Xr(e,i);var b=S=s.createElement("link");ot(b),dt(b,"link",e),b._p=new Promise(function(L,K){b.onload=L,b.onerror=K}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,va(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:E},f.set(h,S)}}}function cy(e,n){_n.X(e,n);var i=ni;if(i&&e){var s=Al(i).hoistableScripts,f=ii(e),h=s.get(f);h||(h=i.querySelector(to(f)),h||(e=x({src:e,async:!0},n),(n=Kt.get(f))&&Zr(e,n),h=i.createElement("script"),ot(h),dt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(f,h))}}function dy(e,n){_n.M(e,n);var i=ni;if(i&&e){var s=Al(i).hoistableScripts,f=ii(e),h=s.get(f);h||(h=i.querySelector(to(f)),h||(e=x({src:e,async:!0,type:"module"},n),(n=Kt.get(f))&&Zr(e,n),h=i.createElement("script"),ot(h),dt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(f,h))}}function vh(e,n,i,s){var f=(f=fe.current)?ya(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=li(i.href),i=Al(f).hoistableStyles,s=i.get(n),s||(s={type:"style",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=li(i.href);var h=Al(f).hoistableStyles,S=h.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,S),(h=f.querySelector(eo(e)))&&!h._p&&(S.instance=h,S.state.loading=5),Kt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Kt.set(e,i),h||fy(f,e,i,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ii(i),i=Al(f).hoistableScripts,s=i.get(n),s||(s={type:"script",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function li(e){return'href="'+kt(e)+'"'}function eo(e){return'link[rel="stylesheet"]['+e+"]"}function Th(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function fy(e,n,i,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),dt(n,"link",i),ot(n),e.head.appendChild(n))}function ii(e){return'[src="'+kt(e)+'"]'}function to(e){return"script[async]"+e}function xh(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+kt(i.href)+'"]');if(s)return n.instance=s,ot(s),s;var f=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ot(s),dt(s,"style",f),va(s,i.precedence,e),n.instance=s;case"stylesheet":f=li(i.href);var h=e.querySelector(eo(f));if(h)return n.state.loading|=4,n.instance=h,ot(h),h;s=Th(i),(f=Kt.get(f))&&Xr(s,f),h=(e.ownerDocument||e).createElement("link"),ot(h);var S=h;return S._p=new Promise(function(E,b){S.onload=E,S.onerror=b}),dt(h,"link",s),n.state.loading|=4,va(h,i.precedence,e),n.instance=h;case"script":return h=ii(i.src),(f=e.querySelector(to(h)))?(n.instance=f,ot(f),f):(s=i,(f=Kt.get(h))&&(s=x({},i),Zr(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),ot(f),dt(f,"link",s),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,va(s,i.precedence,e));return n.instance}function va(e,n,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,h=f,S=0;S<s.length;S++){var E=s[S];if(E.dataset.precedence===n)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Xr(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Zr(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ta=null;function Sh(e,n,i){if(Ta===null){var s=new Map,f=Ta=new Map;f.set(i,s)}else f=Ta,s=f.get(i),s||(s=new Map,f.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[yi]||h[st]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var S=h.getAttribute(n)||"";S=e+S;var E=s.get(S);E?E.push(h):s.set(S,[h])}}return s}function Ch(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function hy(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Eh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function py(e,n,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=li(s.href),h=n.querySelector(eo(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=xa.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=h,ot(h);return}h=n.ownerDocument||n,s=Th(s),(f=Kt.get(f))&&Xr(s,f),h=h.createElement("link"),ot(h);var S=h;S._p=new Promise(function(E,b){S.onload=E,S.onerror=b}),dt(h,"link",s),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=xa.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var Wr=0;function my(e,n){return e.stylesheets&&e.count===0&&Ca(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Ca(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Wr===0&&(Wr=62500*Q0());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ca(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Wr?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function xa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ca(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sa=null;function Ca(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sa=new Map,n.forEach(gy,e),Sa=null,xa.call(e))}function gy(e,n){if(!(n.state.loading&4)){var i=Sa.get(e);if(i)var s=i.get(null);else{i=new Map,Sa.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var S=f[h];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(i.set(S.dataset.precedence,S),s=S)}s&&i.set(null,s)}f=n.instance,S=f.getAttribute("data-precedence"),h=i.get(S)||s,h===s&&i.set(null,f),i.set(S,f),this.count++,s=xa.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var no={$$typeof:Y,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function yy(e,n,i,s,f,h,S,E,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.hiddenUpdates=Ja(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function _h(e,n,i,s,f,h,S,E,b,L,K,Z){return e=new yy(e,n,i,S,b,L,K,Z,E),n=1,h===!0&&(n|=24),h=bt(3,null,null,n),e.current=h,h.stateNode=e,n=Is(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:i,cache:n},Ps(h),e}function Ah(e){return e?(e=Pl,e):Pl}function Nh(e,n,i,s,f,h){f=Ah(f),s.context===null?s.context=f:s.pendingContext=f,s=Vn(n),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=kn(e,s,n),i!==null&&(St(i,e,n),Li(i,e,n))}function bh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function jr(e,n){bh(e,n),(e=e.alternate)&&bh(e,n)}function Mh(e){if(e.tag===13||e.tag===31){var n=al(e,67108864);n!==null&&St(n,e,67108864),jr(e,67108864)}}function Rh(e){if(e.tag===13||e.tag===31){var n=Dt();n=$a(n);var i=al(e,n);i!==null&&St(i,e,n),jr(e,n)}}var Ea=!0;function vy(e,n,i,s){var f=A.T;A.T=null;var h=X.p;try{X.p=2,eu(e,n,i,s)}finally{X.p=h,A.T=f}}function Ty(e,n,i,s){var f=A.T;A.T=null;var h=X.p;try{X.p=8,eu(e,n,i,s)}finally{X.p=h,A.T=f}}function eu(e,n,i,s){if(Ea){var f=tu(s);if(f===null)qr(e,n,s,_a,i),Ih(e,s);else if(Sy(f,e,n,i,s))s.stopPropagation();else if(Ih(e,s),n&4&&-1<xy.indexOf(e)){for(;f!==null;){var h=_l(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var S=tl(h.pendingLanes);if(S!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var b=1<<31-At(S);E.entanglements[1]|=b,S&=~b}ln(h),(Pe&6)===0&&(aa=Et()+500,Xi(0))}}break;case 31:case 13:E=al(h,2),E!==null&&St(E,h,2),ra(),jr(h,2)}if(h=tu(s),h===null&&qr(e,n,s,_a,i),h===f)break;f=h}f!==null&&s.stopPropagation()}else qr(e,n,s,null,i)}}function tu(e){return e=ls(e),nu(e)}var _a=null;function nu(e){if(_a=null,e=El(e),e!==null){var n=d(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=p(n),e!==null)return e;e=null}else if(i===31){if(e=g(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _a=e,null}function wh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(og()){case ku:return 2;case Gu:return 8;case ho:case ag:return 32;case Hu:return 268435456;default:return 32}default:return 32}}var lu=!1,$n=null,Qn=null,Xn=null,lo=new Map,io=new Map,Zn=[],xy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ih(e,n){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(n.pointerId)}}function oo(e,n,i,s,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:h,targetContainers:[f]},n!==null&&(n=_l(n),n!==null&&Mh(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Sy(e,n,i,s,f){switch(n){case"focusin":return $n=oo($n,e,n,i,s,f),!0;case"dragenter":return Qn=oo(Qn,e,n,i,s,f),!0;case"mouseover":return Xn=oo(Xn,e,n,i,s,f),!0;case"pointerover":var h=f.pointerId;return lo.set(h,oo(lo.get(h)||null,e,n,i,s,f)),!0;case"gotpointercapture":return h=f.pointerId,io.set(h,oo(io.get(h)||null,e,n,i,s,f)),!0}return!1}function Dh(e){var n=El(e.target);if(n!==null){var i=d(n);if(i!==null){if(n=i.tag,n===13){if(n=p(i),n!==null){e.blockedOn=n,Ku(e.priority,function(){Rh(i)});return}}else if(n===31){if(n=g(i),n!==null){e.blockedOn=n,Ku(e.priority,function(){Rh(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Aa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=tu(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);ns=s,i.target.dispatchEvent(s),ns=null}else return n=_l(i),n!==null&&Mh(n),e.blockedOn=i,!1;n.shift()}return!0}function Uh(e,n,i){Aa(e)&&i.delete(n)}function Cy(){lu=!1,$n!==null&&Aa($n)&&($n=null),Qn!==null&&Aa(Qn)&&(Qn=null),Xn!==null&&Aa(Xn)&&(Xn=null),lo.forEach(Uh),io.forEach(Uh)}function Na(e,n){e.blockedOn===n&&(e.blockedOn=null,lu||(lu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Cy)))}var ba=null;function Lh(e){ba!==e&&(ba=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){ba===e&&(ba=null);for(var n=0;n<e.length;n+=3){var i=e[n],s=e[n+1],f=e[n+2];if(typeof s!="function"){if(nu(s||i)===null)continue;break}var h=_l(i);h!==null&&(e.splice(n,3),n-=3,tr(h,{pending:!0,data:f,method:i.method,action:s},s,f))}}))}function oi(e){function n(b){return Na(b,e)}$n!==null&&Na($n,e),Qn!==null&&Na(Qn,e),Xn!==null&&Na(Xn,e),lo.forEach(n),io.forEach(n);for(var i=0;i<Zn.length;i++){var s=Zn[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Zn.length&&(i=Zn[0],i.blockedOn===null);)Dh(i),i.blockedOn===null&&Zn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var f=i[s],h=i[s+1],S=f[mt]||null;if(typeof h=="function")S||Lh(i);else if(S){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,S=h[mt]||null)E=S.formAction;else if(nu(f)!==null)continue}else E=S.action;typeof E=="function"?i[s+1]=E:(i.splice(s,3),s-=3),Lh(i)}}}function Ph(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function iu(e){this._internalRoot=e}Ma.prototype.render=iu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,s=Dt();Nh(i,s,e,n,null,null)},Ma.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Nh(e.current,2,null,e,null,null),ra(),n[Cl]=null}};function Ma(e){this._internalRoot=e}Ma.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fu();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Zn.length&&n!==0&&n<Zn[i].priority;i++);Zn.splice(i,0,e),i===0&&Dh(e)}};var Vh=t.version;if(Vh!=="19.2.0")throw Error(a(527,Vh,"19.2.0"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Ey={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ra.isDisabled&&Ra.supportsFiber)try{pi=Ra.inject(Ey),_t=Ra}catch{}}return so.createRoot=function(e,n){if(!r(e))throw Error(a(299));var i=!1,s="",f=Od,h=zd,S=Fd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=_h(e,1,!1,null,null,i,s,null,f,h,S,Ph),e[Cl]=n.current,Hr(e),new iu(n)},so.hydrateRoot=function(e,n,i){if(!r(e))throw Error(a(299));var s=!1,f="",h=Od,S=zd,E=Fd,b=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(S=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(b=i.formState)),n=_h(e,1,!0,n,i??null,s,f,b,h,S,E,Ph),n.context=Ah(null),i=n.current,s=Dt(),s=$a(s),f=Vn(s),f.callback=null,kn(i,f,s),i=s,n.current.lanes=i,gi(n,i),ln(n),e[Cl]=n.current,Hr(e),new Ma(n)},so.version="19.2.0",so}var Yh;function Uy(){if(Yh)return su.exports;Yh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),su.exports=Dy(),su.exports}var Ly=Uy();const Py=Em(Ly),Vy=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.12-1.588H6.88a2.25 2.25 0 00-2.12 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"})}),_m=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"})}),Am=l=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})]}),Nm=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663l.001.109m-11.964-4.663c1.862-1.123 4.043-1.766 6.374-1.766s4.512.645 6.374 1.766m-11.964 4.664A6.375 6.375 0 012.25 12c0-1.75.59-3.35 1.5-4.663m11.964 4.664c.909-1.313 1.5-2.913 1.5-4.664 0-1.75-.59-3.35-1.5-4.663m-1.5-4.663a9.336 9.336 0 00-3.178-.671 9.337 9.337 0 00-4.121.952 4.125 4.125 0 007.533 2.493z"})}),ky=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),Gy=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),fu=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.5 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})}),Hy=[{id:"businessPlan",name:"K hoch Kinh doanh",icon:Vy,indented:!1},{id:"savedPlans",name:"K hoch  lu",icon:fu,indented:!0},{id:"cashFlow",name:"Thu - Chi tin",icon:_m,indented:!1},{id:"inventory",name:"Nhp xut hng",icon:Am,indented:!1},{id:"salesTeam",name:"i KD & Marketing",icon:Nm,indented:!1},{id:"meetingMinutes",name:"Bin bn hp",icon:Gy,indented:!1}],qy=({activeModule:l,setActiveModule:t,isOpen:o})=>v.jsxs("div",{className:`fixed z-30 h-full flex flex-col w-64 bg-white shadow-lg transition-transform duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"}`,children:[v.jsxs("div",{className:"flex items-center justify-center h-16 shadow-md flex-shrink-0",children:[v.jsx(ky,{className:"h-8 w-8 text-indigo-600"}),v.jsx("h1",{className:"text-xl font-bold text-gray-800 ml-2",children:"App Qun tr"})]}),v.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:Hy.map(a=>v.jsxs("button",{onClick:()=>t(a.id),className:`w-full flex items-center py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 ${a.indented?"pl-11 pr-4":"px-4"} ${l===a.id?"bg-indigo-600 text-white shadow-md":`text-gray-600 hover:bg-gray-100 hover:text-gray-800 ${a.indented?"font-normal":"font-medium"}`}`,children:[v.jsx(a.icon,{className:"h-5 w-5 mr-3 flex-shrink-0"}),v.jsx("span",{className:"flex-grow text-left",children:a.name})]},a.id))})]}),By=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5"})}),co=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 016 0v8.25a3 3 0 01-3 3z"})}),Jh=window.SpeechRecognition||window.webkitSpeechRecognition,Oy=({onTranscript:l})=>{const[t,o]=j.useState(null),[a,r]=j.useState(!1),[d,p]=j.useState(!1),[g,y]=j.useState(!1);j.useEffect(()=>{if(Jh){const C=new Jh;C.continuous=!1,C.lang="vi-VN",C.interimResults=!1,C.onstart=()=>{y(!1),r(!0)},C.onend=()=>r(!1),C.onresult=_=>{const I=_.results[0][0].transcript;l(I)},C.onerror=_=>{console.error("Speech recognition error:",_.error),_.error==="no-speech"?(y(!0),setTimeout(()=>y(!1),2e3)):_.error==="not-allowed"?alert("Bn  t chi quyn truy cp micro. Vui lng cho php truy cp micro trong ci t trnh duyt  s dng tnh nng ny."):alert(` xy ra li khi nhn dng ging ni: ${_.error}. Vui lng th li.`),r(!1)},o(C),p(!0)}else p(!1)},[l]);const m=C=>{C.preventDefault(),t&&(a?t.stop():t.start())};if(!d)return null;const T=()=>g?"bg-yellow-400 text-white":a?"bg-red-500 text-white animate-pulse":"text-gray-400 hover:text-gray-600",x=()=>g?"Khng nghe r. Vui lng th li.":a?"Dng ghi m":"Nhp liu bng ging ni";return v.jsx("button",{type:"button",onClick:m,className:`p-1 rounded-full transition-colors focus:outline-none ${T()}`,"aria-label":a?"Dng ghi m":"Nhp liu bng ging ni",title:x(),children:v.jsx(co,{className:"h-5 w-5"})})};function zy(l){if(!l)return null;let t=l.replace(/,/g,".");t=t.replace(/[^0-9.-]/g,"");const o=t.split(".");o.length>1&&(t=o.slice(0,-1).join("")+"."+o.slice(-1));const a=parseFloat(t);return isNaN(a)?null:a}const Re=({value:l,onChange:t,onCommit:o,id:a,label:r,decimalPlaces:d=0,addon:p,srOnlyLabel:g,enableVoice:y=!1})=>{const m=z=>{const F=typeof z=="string"?parseFloat(z.replace(",",".")):z;return F==null||isNaN(F)?"":new Intl.NumberFormat("vi-VN",{minimumFractionDigits:d,maximumFractionDigits:d}).format(F)},[T,x]=Da.useState(m(l)),C=Da.useRef(!1);Da.useEffect(()=>{C.current||x(m(l))},[l,d]);const _=()=>{C.current=!0,x(l===0?"":String(l).replace(".",","))},I=()=>{C.current=!1,x(m(l)),o&&o(l)},D=z=>{const F=z.target.value;if(x(F),F.trim()===""||F.trim()==="-"){t(0);return}const Y=F.replace(/\./g,"").replace(",",".");if(/^-?\d*\.?\d*$/.test(Y)){const le=parseFloat(Y);isNaN(le)||t(le)}},H=z=>{const F=zy(z);F!==null&&(t(F),o&&o(F))};return v.jsxs("div",{children:[v.jsx("label",{htmlFor:a,className:g?"sr-only":"block text-sm font-medium text-gray-700 mb-1",children:r}),v.jsxs("div",{className:"flex rounded-md shadow-sm",children:[v.jsxs("div",{className:"relative flex-grow",children:[v.jsx("input",{id:a,type:"text",inputMode:d>0?"decimal":"numeric",value:T,onChange:D,onFocus:_,onBlur:I,className:`w-full px-3 py-2 border border-gray-300 sm:text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${p?"rounded-none rounded-l-md":"rounded-md"} ${y?"pr-10":""}`}),y&&v.jsx("div",{className:"absolute inset-y-0 right-0 pr-2 flex items-center",children:v.jsx(Oy,{onTranscript:H})})]}),p&&v.jsx("span",{className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:p})]})]})},Fy=({exchangeRateImport:l,setExchangeRateImport:t,exchangeRateTax:o,setExchangeRateTax:a,salesSalaryRate:r,setSalesSalaryRate:d})=>v.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-3 mb-4 flex items-center",children:[v.jsx(By,{className:"h-5 w-5 mr-2 text-gray-500"}),"Ci t chung"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(Re,{label:"T gi USD/VN (nhp khu)",value:l,onChange:t,id:"exchangeRateImport",enableVoice:!0}),v.jsx(Re,{label:"T gi USD/VN (tnh thu)",value:o,onChange:a,id:"exchangeRateTax",enableVoice:!0}),v.jsx(Re,{label:"T l lng NV bn hng",value:r,onChange:d,decimalPlaces:2,id:"salesSalaryRate",addon:"%",enableVoice:!0})]})]}),Ky=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Ba=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})}),Lt=({label:l,id:t,srOnlyLabel:o=!1,addon:a,...r})=>v.jsxs("div",{children:[v.jsx("label",{htmlFor:t,className:o?"sr-only":"block text-sm font-medium text-gray-700 mb-1",children:l}),v.jsxs("div",{className:"flex rounded-md shadow-sm",children:[v.jsx("input",{id:t,...r,className:`w-full px-3 py-2 border border-gray-300 sm:text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${a?"rounded-l-md":"rounded-md"}`}),a&&v.jsx("span",{className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:a})]})]}),Eu=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),_u=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),Yy=({products:l,selectedProductCode:t,setSelectedProductCode:o,addProductToPlan:a,onAddNewProduct:r,onImportPlan:d})=>{const[p,g]=j.useState(""),y=j.useMemo(()=>{if(!p)return l;const W=p.toLowerCase();return l.filter(V=>V.code.toLowerCase().includes(W)||V.nameVI.toLowerCase().includes(W)||V.brand.toLowerCase().includes(W)||V.group.toLowerCase().includes(W))},[l,p]);j.useEffect(()=>{!y.some(V=>V.code===t)&&y.length>0&&o(y[0].code)},[y,t,o]);const m=l.find(W=>W.code===t),[T,x]=j.useState(0),[C,_]=j.useState(""),[I,D]=j.useState(0),[H,z]=j.useState(0);j.useEffect(()=>{if(m){const W=m.defaultWeightKg;x(W),_("1"),D(m.defaultPriceUSDPerTon),z(m.defaultSellingPriceVND)}},[m]);const F=W=>{x(W),m&&m.defaultWeightKg>0&&!isNaN(W)&&_((W/m.defaultWeightKg).toFixed(2))},Y=W=>{const V=W.target.value;_(V);const J=Number(V);m&&!isNaN(J)&&x(Math.round(J*m.defaultWeightKg))},le=()=>{a({productCode:t,quantityInKg:Number(T)||0,priceUSDPerTon:Number(I)||0,sellingPriceVNDPerKg:Number(H)||0})};return v.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200",children:[v.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[v.jsx(Ba,{className:"h-5 w-5 mr-2 text-gray-500"}),"Thm sn phm vo k hoch"]}),v.jsxs("div",{children:[v.jsxs("label",{htmlFor:"import-plan-selection",className:"cursor-pointer flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-orange-500 hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[v.jsx(_u,{className:"h-5 w-5 mr-2"}),"Ti ln K hoch"]}),v.jsx("input",{id:"import-plan-selection",type:"file",className:"hidden",accept:".json,application/json",onChange:d})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(Lt,{id:"product-search",label:"Tm kim sn phm (theo m, tn, thng hiu, nhm)",type:"text",placeholder:"V d: g 'tht tru' hoc 'thn'...",value:p,onChange:W=>g(W.target.value)}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsx("label",{htmlFor:"product-select",className:"block text-sm font-medium text-gray-700",children:"Chn sn phm"}),v.jsxs("button",{onClick:r,className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center space-x-1",children:[v.jsx(Eu,{className:"h-4 w-4"}),v.jsx("span",{children:"Thm mi"})]})]}),v.jsx("select",{id:"product-select",value:t,onChange:W=>o(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:y.map(W=>v.jsx("option",{value:W.code,children:`${W.brand} - ${W.group} - ${W.nameVI} (${W.code})`},W.code))})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsx(Re,{id:"quantity-kg",label:"S lng (KG)",value:T,onChange:F,enableVoice:!0}),v.jsx(Lt,{id:"quantity-cont",label:"S lng (Cont)",type:"number",value:C,onChange:Y,step:"0.01"}),v.jsx(Re,{id:"price-usd",label:"Gi nhp (USD/Tn)",value:I,onChange:D,decimalPlaces:2,enableVoice:!0}),v.jsx(Re,{id:"selling-price-vnd",label:"Gi bn (VND/KG)",value:H,onChange:z,enableVoice:!0})]}),v.jsx("div",{className:"pt-2 flex justify-end",children:v.jsxs("button",{onClick:le,className:"w-full sm:w-auto flex justify-center items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:!t,children:[v.jsx(Ky,{className:"h-5 w-5 mr-2"}),"Thm vo k hoch"]})})]})]})};function O(l){return l==null||isNaN(l)?"0":new Intl.NumberFormat("vi-VN").format(Math.round(l))}const Pa=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Jy=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),$y=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),Qy=({item:l,updateItem:t,planTotals:o,salesSalaryRate:a,setSalesSalaryRate:r,totalMonthlyIndirectSalary:d,setTotalMonthlyIndirectSalary:p,workingDaysPerMonth:g,setWorkingDaysPerMonth:y,totalMonthlyRent:m,setTotalMonthlyRent:T,totalMonthlyElectricity:x,setTotalMonthlyElectricity:C,totalMonthlyWater:_,setTotalMonthlyWater:I,totalMonthlyStationery:D,setTotalMonthlyStationery:H,totalMonthlyDepreciation:z,setTotalMonthlyDepreciation:F,totalMonthlyExternalServices:Y,setTotalMonthlyExternalServices:le,totalMonthlyOtherCashExpenses:W,setTotalMonthlyOtherCashExpenses:V,totalMonthlyFinancialCost:J,setTotalMonthlyFinancialCost:ue})=>{var ge,ce;const{id:P,userInput:ee,calculated:Q}=l,te=({label:A,value:X})=>v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsxs("span",{className:"text-gray-600",children:[A,":"]}),v.jsx("span",{className:"font-medium text-gray-800 text-right",children:X})]}),ae=({id:A,label:X,totalMonthlyCost:de,setTotalMonthlyCost:q,allocatedCost:oe=0,totalQuantityInKg:N,itemQuantityInKg:M})=>{const[ne,ie]=j.useState(de);j.useEffect(()=>{ie(de)},[de]);const se=fe=>{fe!==de&&q(fe)};return v.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 space-y-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:X}),v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("label",{htmlFor:`total-cost-${A}`,className:"text-gray-600",children:"1. Tng chi ph/thng:"}),v.jsx("div",{className:"w-40",children:v.jsx(Re,{srOnlyLabel:!0,label:`Tng ${X}/thng`,id:`total-cost-${A}`,value:ne,onChange:ie,onCommit:se,addon:"VND"})})]}),v.jsx(te,{label:"2. Tng s lng (kg)",value:O(N)}),v.jsx(te,{label:"3. SL sn phm (kg)",value:O(M)}),v.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[v.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"4. Chi ph phn b"}),v.jsx("span",{className:"font-bold text-gray-900",children:O(oe)})]}),v.jsx("p",{className:"text-xs text-gray-500 !mt-2 text-center italic",children:"Cng thc: Tng chi ph thng  (SL sn phm / Tng SL)"})]})};return v.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-4",children:[v.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[v.jsx("h4",{className:"font-semibold text-gray-700 border-b pb-2",children:"S lng & Gi"}),v.jsx(Re,{id:`quantity-${P}`,label:"1. S lng (Kg)",value:ee.quantityInKg,onChange:A=>t(P,"quantityInKg",A),addon:v.jsxs("span",{children:["~",(ge=Q.containers)==null?void 0:ge.toFixed(2)," cont"]})}),v.jsx(Re,{id:`priceUSD-${P}`,label:"2. Gi mua (USD/tn)",value:ee.priceUSDPerTon,onChange:A=>t(P,"priceUSDPerTon",A),decimalPlaces:2}),v.jsx(te,{label:"= Gi mua (VND/tn)",value:O(Q.priceVNDPerTon)}),v.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[v.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"3. Tng gi mua (VND)"}),v.jsx("span",{className:"font-bold text-gray-900",children:O(Q.importValueVND)})]}),v.jsx(Re,{id:`importVatRate-${P}`,label:"4. Thu sut GTGT NK",value:ee.costs.importVatRate,onChange:A=>t(P,"costs.importVatRate",A),decimalPlaces:2,addon:"%"}),v.jsx(Re,{id:`priceVND-${P}`,label:"6. Gi bn (VND/kg)",value:ee.sellingPriceVNDPerKg,onChange:A=>t(P,"sellingPriceVNDPerKg",A),addon:" gm VAT"}),v.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[v.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"7. Tng doanh thu (gm VAT)"}),v.jsx("span",{className:"font-bold text-gray-900",children:O(Q.totalRevenueInclVAT)})]})]}),v.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[v.jsx("h4",{className:"font-semibold text-gray-700 border-b pb-2",children:"1. Chi ph thng quan & kho bi"}),v.jsx("div",{className:"p-2 bg-white rounded border border-gray-200",children:v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"text-gray-600",children:"Cng thc tnh (1.1+...+1.10)"}),v.jsx("span",{className:"font-bold text-gray-900 text-right",children:O(Q.totalClearanceAndLogisticsCost)})]})}),v.jsx(Re,{id:`customsFee-${P}`,label:"1.1 Ph Hi quan",value:ee.costs.customsFee,onChange:A=>t(P,"costs.customsFee",A),addon:"VND"}),v.jsx(Re,{id:`quarantineFee-${P}`,label:"1.2 Ph kim dch",value:ee.costs.quarantineFee,onChange:A=>t(P,"costs.quarantineFee",A),addon:"VND"}),v.jsx(Re,{id:`containerRentalFee-${P}`,label:"1.3 Ph thu Cont",value:ee.costs.containerRentalFee,onChange:A=>t(P,"costs.containerRentalFee",A),addon:"VND"}),v.jsx(Re,{id:`portStorageFee-${P}`,label:"1.4 Ph lu kho bi cng",value:ee.costs.portStorageFee,onChange:A=>t(P,"costs.portStorageFee",A),addon:"VND"}),v.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1.5 Chi ph chung nhp kho"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Re,{srOnlyLabel:!0,label:"n gi chi ph chung",id:`generalWarehouseCostRate-${P}`,value:ee.costs.generalWarehouseCostRatePerKg,onChange:A=>t(P,"costs.generalWarehouseCostRatePerKg",A),addon:"VND/kg"}),v.jsxs("p",{className:"text-sm text-gray-600",children:["S lng (kg): ",v.jsx("span",{className:"font-semibold float-right text-gray-800",children:O(ee.quantityInKg)})]}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Cng chi ph chung nhp kho: ",v.jsx("span",{className:"font-semibold float-right text-gray-800",children:O(Q.generalWarehouseCost)})]})]})]}),v.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 space-y-3",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"1.6 Chi ph li vay nhp hng"}),v.jsx(Re,{label:"1. Li sut",id:`loanInterestRate-${P}`,value:ee.costs.loanInterestRatePerYear,onChange:A=>t(P,"costs.loanInterestRatePerYear",A),decimalPlaces:2,addon:"%/nm"}),v.jsxs("div",{className:"border-t pt-3 space-y-2",children:[v.jsx("h5",{className:"font-medium text-sm text-gray-600",children:"Ln chuyn 1"}),v.jsx(Re,{label:"2. S tin chuyn ln 1",id:`loanFirstTransferUSD-${P}`,value:ee.costs.loanFirstTransferUSD,onChange:A=>t(P,"costs.loanFirstTransferUSD",A),addon:"USD",decimalPlaces:2}),v.jsx(te,{label:"= S tin (VND)",value:O(Q.loanFirstTransferAmountVND)}),v.jsx(Re,{label:"3. Thi gian tnh li ln 1",id:`loanFirstTransferInterestDays-${P}`,value:ee.costs.loanFirstTransferInterestDays,onChange:A=>t(P,"costs.loanFirstTransferInterestDays",A),addon:"ngy"}),v.jsx(te,{label:"4. Chi ph li vay ln 1",value:O(Q.loanInterestCostFirstTransfer)})]}),v.jsxs("div",{className:"border-t pt-3 space-y-2",children:[v.jsx("h5",{className:"font-medium text-sm text-gray-600",children:"Ln chuyn 2"}),v.jsx(te,{label:"5. S tin chuyn ln 2",value:O(Q.loanSecondTransferAmountVND)}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Thi gian tnh li: ",v.jsxs("span",{className:"font-semibold float-right text-gray-800",children:[ee.costs.postClearanceStorageDays," ngy"]})]}),v.jsx(te,{label:"6. Chi ph li vay ln 2",value:O(Q.loanInterestCostSecondTransfer)})]}),v.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[v.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"7. Tng li vay"}),v.jsx("span",{className:"font-bold text-gray-900",children:O(Q.importInterestCost)})]})]}),v.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1.7 Ph lu kho sau thng quan"}),v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v.jsx(Re,{srOnlyLabel:!0,label:"S ngy lu kho",id:`postClearanceStorageDays-${P}`,value:ee.costs.postClearanceStorageDays,onChange:A=>t(P,"costs.postClearanceStorageDays",A),addon:"ngy"}),v.jsx(Re,{srOnlyLabel:!0,label:"n gi lu kho",id:`postClearanceStorageRate-${P}`,value:ee.costs.postClearanceStorageRatePerKgDay,onChange:A=>t(P,"costs.postClearanceStorageRatePerKgDay",A),addon:"VND/kg"})]}),v.jsxs("p",{className:"text-sm mt-2 text-gray-600",children:["Chi ph lu kho: ",v.jsx("span",{className:"font-semibold float-right text-gray-800",children:O(Q.postClearanceStorageCost)})]})]}),v.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1.8 Chi ph thu dch v mua hng"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Re,{srOnlyLabel:!0,label:"n gi thu dch v mua hng",id:`purchasingServiceFee-${P}`,value:ee.costs.purchasingServiceFeeInMillionsPerCont*1e6,onChange:A=>t(P,"costs.purchasingServiceFeeInMillionsPerCont",A/1e6),addon:"VND/cont"}),v.jsxs("p",{className:"text-sm text-gray-600",children:["S lng (cont): ",v.jsx("span",{className:"font-semibold float-right text-gray-800",children:(ce=Q.containers)==null?void 0:ce.toFixed(2)})]}),v.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[v.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Tng chi ph thu"}),v.jsx("span",{className:"font-bold text-gray-900",children:O(Q.purchasingServiceFee)})]})]})]}),v.jsx(Re,{id:`buyerDeliveryFee-${P}`,label:"1.9 Ph VC n kho bn mua",value:ee.costs.buyerDeliveryFee,onChange:A=>t(P,"costs.buyerDeliveryFee",A),addon:"VND"}),v.jsx(Re,{id:`otherInternationalCosts-${P}`,label:"1.10 Chi ph khc",value:ee.costs.otherInternationalCosts,onChange:A=>t(P,"costs.otherInternationalCosts",A),addon:"VND"})]}),v.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg md:col-span-2 lg:col-span-1",children:[v.jsx("h4",{className:"font-semibold text-gray-700 border-b pb-2",children:"2. Chi ph bn hng"}),v.jsx("div",{className:"p-2 bg-white rounded border border-gray-200",children:v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"text-gray-600",children:"Cng thc tnh (2.1+2.2)"}),v.jsx("span",{className:"font-bold text-gray-900 text-right",children:O(Q.totalSellingCost)})]})}),v.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 space-y-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"2.1 Lng nhn vin bn hng"}),v.jsx(te,{label:"1. Tng LN gp",value:O(o.totalGrossProfit)}),v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("label",{htmlFor:`sales-salary-rate-${P}`,className:"text-gray-600",children:"2. T l lng:"}),v.jsx("div",{className:"w-28",children:v.jsx(Re,{srOnlyLabel:!0,label:"T l lng NV bn hng",id:`sales-salary-rate-${P}`,value:a,onChange:r,decimalPlaces:2,addon:"%"})})]}),v.jsx(te,{label:"3. Tng s lng (kg)",value:O(o.totalQuantityInKg)}),v.jsx(te,{label:"4. SL sn phm (kg)",value:O(ee.quantityInKg)}),v.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[v.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"5. S tin lng"}),v.jsx("span",{className:"font-bold text-gray-900",children:O(Q.salesStaffSalary)})]}),v.jsx("p",{className:"text-xs text-gray-500 !mt-2 text-center italic",children:"Cng thc: (Tng LN gp  T l lng) / Tng SL  SL sn phm"})]}),v.jsx(Re,{id:`otherSellingCosts-${P}`,label:"2.2 Chi ph khc ti ni bn",value:ee.costs.otherSellingCosts,onChange:A=>t(P,"costs.otherSellingCosts",A),addon:"VND"}),v.jsx("h4",{className:"font-semibold text-gray-700 border-b pt-4 pb-2",children:"3. Chi ph qun l doanh nghip"}),v.jsx("div",{className:"p-2 bg-white rounded border border-gray-200",children:v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"text-gray-600",children:"Cng thc tnh (3.1+...+3.8)"}),v.jsx("span",{className:"font-bold text-gray-900 text-right",children:O(Q.totalGaCost)})]})}),v.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 space-y-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"3.1 Lng nhn vin gin tip"}),v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("label",{htmlFor:`total-indirect-salary-${P}`,className:"text-gray-600",children:"1. Tng lng/thng:"}),v.jsx("div",{className:"w-40",children:v.jsx(Re,{srOnlyLabel:!0,label:"Tng lng gin tip/thng",id:`total-indirect-salary-${P}`,value:d,onChange:p,addon:"VND"})})]}),v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("label",{htmlFor:`working-days-${P}`,className:"text-gray-600",children:"2. S ngy cng/thng:"}),v.jsx("div",{className:"w-40",children:v.jsx(Re,{srOnlyLabel:!0,label:"S ngy cng/thng",id:`working-days-${P}`,value:g,onChange:y,addon:"ngy"})})]}),v.jsx(te,{label:"3. Lng 1 ngy (tham kho)",value:O(g>0?d/g:0)}),v.jsx(te,{label:"4. Tng s lng (kg)",value:O(o.totalQuantityInKg)}),v.jsx(te,{label:"5. SL sn phm (kg)",value:O(ee.quantityInKg)}),v.jsxs("div",{className:"!mt-3 pt-2 border-t flex justify-between items-center",children:[v.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"6. Lng phn b"}),v.jsx("span",{className:"font-bold text-gray-900",children:O(Q.indirectStaffSalary)})]}),v.jsx("p",{className:"text-xs text-gray-500 !mt-2 text-center italic",children:"Cng thc: Tng lng thng  (SL sn phm / Tng SL)"})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(ae,{id:`rent-${P}`,label:"3.2 Thu nh",totalMonthlyCost:m,setTotalMonthlyCost:T,allocatedCost:Q.rent,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ee.quantityInKg}),v.jsx(ae,{id:`electricity-${P}`,label:"3.3 in",totalMonthlyCost:x,setTotalMonthlyCost:C,allocatedCost:Q.electricity,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ee.quantityInKg}),v.jsx(ae,{id:`water-${P}`,label:"3.4 Nc",totalMonthlyCost:_,setTotalMonthlyCost:I,allocatedCost:Q.water,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ee.quantityInKg}),v.jsx(ae,{id:`stationery-${P}`,label:"3.5 VPP",totalMonthlyCost:D,setTotalMonthlyCost:H,allocatedCost:Q.stationery,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ee.quantityInKg}),v.jsx(ae,{id:`depreciation-${P}`,label:"3.6 Khu hao TSC",totalMonthlyCost:z,setTotalMonthlyCost:F,allocatedCost:Q.depreciation,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ee.quantityInKg}),v.jsx(ae,{id:`externalServices-${P}`,label:"3.7 Dch v mua ngoi",totalMonthlyCost:Y,setTotalMonthlyCost:le,allocatedCost:Q.externalServices,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ee.quantityInKg}),v.jsx(ae,{id:`otherCashExpenses-${P}`,label:"3.8 Chi ph tin khc",totalMonthlyCost:W,setTotalMonthlyCost:V,allocatedCost:Q.otherCashExpenses,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ee.quantityInKg})]}),v.jsx("h4",{className:"font-semibold text-gray-700 border-b pt-4 pb-2",children:"4. Chi ph Ti chnh"}),v.jsx(ae,{id:`financialCost-${P}`,label:"4.1 CP ti sn, nh gi...",totalMonthlyCost:J,setTotalMonthlyCost:ue,allocatedCost:Q.financialValuationCost,totalQuantityInKg:o.totalQuantityInKg,itemQuantityInKg:ee.quantityInKg})]})]})})},Xy=l=>{const{item:t,removeItem:o,index:a}=l,[r,d]=j.useState(!1),{code:p,nameVI:g,brand:y,group:m,calculated:T}=t,x=C=>{C.stopPropagation(),o(t.id)};return v.jsxs(v.Fragment,{children:[v.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>d(!r),children:[v.jsx("td",{className:"pl-4 pr-2 py-4 align-top",children:v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx("button",{onClick:x,className:"text-gray-400 hover:text-red-600 flex-shrink-0 mt-1",children:v.jsx(Pa,{className:"h-5 w-5"})}),v.jsx("div",{className:"text-gray-400 mt-1",children:r?v.jsx($y,{className:"h-5 w-5"}):v.jsx(Jy,{className:"h-5 w-5"})})]})}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-500 align-top text-center",children:a+1}),v.jsxs("td",{className:"px-3 py-4 whitespace-nowrap align-top",children:[v.jsx("div",{className:"text-sm font-medium text-gray-900",children:`${p} - ${m} - ${g}`}),v.jsx("div",{className:"text-sm text-gray-500",children:y})]}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-green-700 align-top",children:O(T.totalRevenue)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:O(T.importValueVND)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:O(T.totalClearanceAndLogisticsCost)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-blue-700 font-medium align-top",children:O(T.grossProfit)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:O(T.totalSellingCost)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:O(T.totalGaCost)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:O(T.totalFinancialCost)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-purple-700 font-medium align-top",children:O(T.profitBeforeTax)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-red-700 align-top",children:O(T.corporateIncomeTax)}),v.jsx("td",{className:`px-3 py-4 whitespace-nowrap text-sm font-bold align-top ${(T.netProfit??0)<0?"text-red-600":"text-green-600"}`,children:O(T.netProfit)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:O(T.importVAT)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 align-top",children:O(T.outputVAT)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 font-medium align-top",children:O(T.vatPayable)}),v.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-red-700 font-bold align-top",children:O(T.totalTaxPayable)})]}),r&&v.jsx("tr",{className:"bg-gray-50",children:v.jsx("td",{colSpan:17,className:"p-0",children:v.jsx(Qy,{...l})})})]})},Zy=({items:l})=>{const t=l.reduce((o,a)=>(o.importValueVND+=a.calculated.importValueVND||0,o.totalClearanceAndLogisticsCost+=a.calculated.totalClearanceAndLogisticsCost||0,o.totalSellingCost+=a.calculated.totalSellingCost||0,o.totalGaCost+=a.calculated.totalGaCost||0,o.totalFinancialCost+=a.calculated.totalFinancialCost||0,o.totalRevenue+=a.calculated.totalRevenue||0,o.grossProfit+=a.calculated.grossProfit||0,o.profitBeforeTax+=a.calculated.profitBeforeTax||0,o.corporateIncomeTax+=a.calculated.corporateIncomeTax||0,o.importVAT+=a.calculated.importVAT||0,o.outputVAT+=a.calculated.outputVAT||0,o.vatPayable+=a.calculated.vatPayable||0,o.netProfit+=a.calculated.netProfit||0,o.totalTaxPayable+=a.calculated.totalTaxPayable||0,o),{importValueVND:0,totalClearanceAndLogisticsCost:0,totalSellingCost:0,totalGaCost:0,totalFinancialCost:0,totalRevenue:0,grossProfit:0,profitBeforeTax:0,corporateIncomeTax:0,importVAT:0,outputVAT:0,vatPayable:0,netProfit:0,totalTaxPayable:0});return v.jsx("tfoot",{className:"bg-gray-100 font-bold",children:v.jsxs("tr",{children:[v.jsx("td",{colSpan:3,className:"pl-4 pr-2 py-3 text-left text-sm text-gray-800 uppercase tracking-wider",children:"Tng cng"}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-green-800",children:O(t.totalRevenue)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:O(t.importValueVND)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:O(t.totalClearanceAndLogisticsCost)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-blue-800",children:O(t.grossProfit)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:O(t.totalSellingCost)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:O(t.totalGaCost)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:O(t.totalFinancialCost)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-purple-800",children:O(t.profitBeforeTax)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-red-800",children:O(t.corporateIncomeTax)}),v.jsx("td",{className:`px-3 py-3 text-left text-sm ${t.netProfit<0?"text-red-700":"text-green-700"}`,children:O(t.netProfit)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:O(t.importVAT)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:O(t.outputVAT)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-gray-700",children:O(t.vatPayable)}),v.jsx("td",{className:"px-3 py-3 text-left text-sm text-red-800",children:O(t.totalTaxPayable)})]})})},Wy=["STT","Sn phm","Doanh thu","Gi vn","CP Vn hnh & kho","Li nhun gp","CP Bn hng","CP Qun l","CP Ti chnh","Li nhun trc thu","Thu TNDN","Li rng","Thu GTGT Mua vo","Thu GTGT Bn ra","Thu GTGT Phi np","Tng thu phi np"],jy=l=>{const{items:t,updateItem:o,removeItem:a,planTotals:r}=l;return v.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"w-12 pl-4 pr-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),Wy.map(d=>v.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:d},d))]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((d,p)=>v.jsx(Xy,{item:d,index:p,updateItem:o,removeItem:a,planTotals:r,...l},d.id))}),v.jsx(Zy,{items:t})]})})})},ev=28e3,tv=22e3,nv=25e3,lv=2e4,iv=4100,ov=125e3,av=1450,sv=48e3,rv=2500,uv=8e4,cv=5e3,dv=15e4,G=(l,t,o,a,r="N/A")=>{let d=ev,p=iv,g=ov;const y=a.toLowerCase();return y.includes("g")?(d=tv,p=av,g=sv):y.includes("ln")?(d=nv,p=rv,g=uv):y.includes("thy hi sn")&&(d=lv,p=cv,g=dv),{code:l,nameEN:r,nameVI:t,brand:o,group:a,defaultWeightKg:d,defaultPriceUSDPerTon:p,defaultSellingPriceVND:g}},fv=[{...G("46-ALANA","Thn ngoi","Alana","Tht tru"),nameEN:"Striploin C",defaultPriceUSDPerTon:4675},{...G("47-BLACKGOLD","Bp ra ng x","Black Gold","Tht tru"),nameEN:"Kasila IWP",defaultPriceUSDPerTon:4275},{...G("25-BLACKGOLD","Nm bng ri","Black Gold","Tht ln"),nameEN:"Flank IWP",defaultPriceUSDPerTon:2625},{...G("123-AMBER","D sn ng ri","Amber","Tht tru"),nameEN:"Ribmeat",defaultPriceUSDPerTon:3100},{...G("64-ALANA","Bp c lc","Alana","Tht tru"),nameEN:"Chuck tender",defaultPriceUSDPerTon:4675},{...G("65-ALANA","Nc vai","Alana","Tht tru"),nameEN:"Blade",defaultPriceUSDPerTon:4275},{...G("60A-ALANA","Bp hoa ng x","Alana","Tht tru"),nameEN:"Shin shank IWP",defaultPriceUSDPerTon:4675},{...G("M41-ALANA","Nc i","Alana","Tht tru"),nameEN:"Chuck Tender",defaultPriceUSDPerTon:4450},{...G("M42-ALANA","i ng","Alana","Tht tru"),nameEN:"Blade / Top Blade",defaultPriceUSDPerTon:4450},{...G("M44-ALANA","Thn l c","Alana","Tht tru"),nameEN:"Rib Meat",defaultPriceUSDPerTon:4450},{...G("M45-ALANA","Nc mng","Alana","Tht tru"),nameEN:"Shin/Shank",defaultPriceUSDPerTon:4450},G("9-ALANA","Gn ch Y","Alana","Tht tru"),G("11-ALANA","Nm","Alana","Tht tru"),G("19-ALANA","Nm bng","Alana","Tht tru"),G("222-ALANA","Vn","Alana","Tht tru"),G("31-ALANA","Thn ni","Alana","Tht tru"),G("41-ALANA-OLD","Nc i","Alana","Tht tru"),G("42-ALANA-OLD","i g","Alana","Tht tru"),G("44-ALANA-OLD","Tht thn","Alana","Tht tru"),G("45-ALANA-OLD","Nc mng","Alana","Tht tru"),G("57-ALANA","ui","Alana","Tht tru"),G("58-ALANA","D sn","Alana","Tht tru"),G("60S-ALANA-OLD","Bp hoa","Alana","Tht tru"),G("67-ALANA","u thn ngoi","Alana","Tht tru"),G("67-AMBER","Dim thn","Amber","Tht tru"),G("123-BLACKGOLD","D sn","Black Gold","Tht tru"),G("60S-BLACKGOLD","Bp hoa","Black Gold","Tht tru"),G("57-BLACKGOLD","ui","Black Gold","Tht tru"),G("19-BLACKGOLD","Nm","Black Gold","Tht tru"),G("19-ALSAMI","Nm","Alsami","Tht tru"),G("45-ALSAMI","Nc mng","Alsami","Tht tru"),G("13-MINHA","Nm gin","Minha","Tht tru"),G("31-TOURO","Thn ni","Touro","Tht tru"),G("60B-TOURO","Bp ra","Touro","Tht tru"),G("09-TOURO","Gn","Touro","Tht tru"),G("52-TOURO","Gn ngn","Touro","Tht tru"),G("42-TOURO","i g","Touro","Tht tru"),G("44-TOURO","Tht thn l c","Touro","Tht tru"),G("45-TOURO","Nc mng","Touro","Tht tru"),G("65-TOURO","Nm vai","Touro","Tht tru"),G("19-TOURO","Nm bng","Touro","Tht tru"),G("MA-LON-TOURO","M ln","Touro","Tht tru"),G("60S-MKEEN","Bp hoa","Mkeen","Tht tru"),G("19-ALHILAL","Nm bng","AL-HILAL","Tht tru"),G("46-ALHILAL","Thn ngoi","AL-HILAL","Tht tru"),G("42-ALHABIBI","i g","AL-HABIBI","Tht tru"),G("41-ALHABIBI","Tht i","AL-HABIBI","Tht tru"),G("65-ALHABIBI","Nm vai","AL-HABIBI","Tht tru"),G("19-ALHABIBI","Nm bng","AL-HABIBI","Tht tru"),G("46-ALHABIBI","Thn ngoi","AL-HABIBI","Tht tru"),G("67-ALHABIBI","u thn ngoi","AL-HABIBI","Tht tru"),G("44-ALHABIBI","Thn l c","AL-HABIBI","Tht tru"),G("45-ALHABIBI","Tht mng","AL-HABIBI","Tht tru"),G("11-ALHABIBI","Tht vn","AL-HABIBI","Tht tru"),G("31-ALHABIBI","Thn ni","AL-HABIBI","Tht tru"),G("17-ALHABIBI","Tht c","AL-HABIBI","Tht tru"),G("07-SAHIBA","Gn Y cng to","Sahiba","Tht tru"),G("152-SAHIBA","Tht vn","Sahiba","Tht tru"),G("86-SAHIBA","Li","Sahiba","Tht tru"),G("70-SAHIBA","Bp ra","Sahiba","Tht tru"),G("57-SAHIBA","ui","Sahiba","Tht tru"),G("46-SAHIBA","Thn ngoi","Sahiba","Tht tru"),G("123-SAHIBA","D sn","Sahiba","Tht tru"),G("64-IAF","Bp c lc","IAF","Tht tru"),G("64-ZAKIYAH","Bp c lc","ZAKIYAH","Tht tru"),G("MACAN-MIRATORG","Ba ch C da - C Xng","Miratorg","Tht ln"),G("MACAN-APK-VLMK","Ba ch C da - Rt xng","APK/VLMK","Tht ln"),G("MACAN-RUSAGO","Ba ch C da - Rt xng","RUSAGO","Tht ln"),G("MACAN-CHANGIO","Chn gi trc nguyn ci","Generic","Tht ln"),G("MACAN-M3Q6","Da heo lng M3/Q6","M3/Q6","Tht ln"),G("MACAN-APK","Khoanh trc APK","APK","Tht ln"),G("MACAN-BZAXIN","Khoanh trc Bzaxin Palmali ng ti","Bzaxin Palmali ng ti","Tht ln"),G("MACAN-VLMK-SAU","Khoanh sau VLMK","VLMK","Tht ln"),G("MACAN-VLMK-TRUOC","Khoanh trc VLMK","VLMK","Tht ln"),G("MACAN-OLYMEL","Khoanh trc Olymel","Olymel","Tht ln"),G("LUOIHEO-TONNIES","Li heo - khng c cung","Tonnies","Tht ln"),G("MUIHEO-TONNIES","Mi heo Tonnies","Tonnies","Tht ln"),G("MACAN-MIKABALAN","M heo Mika Balan - khng c Da","Mika Balan","Tht ln"),G("MONGSAUDAI-TONNIES","Mng sau di - Tonnies","Tonnies","Tht ln"),G("MONGSAU-YONNONI","Mng sau  Onnoni - p"," Onnoni","Tht ln"),G("MONGSAUNGAN-Y","Mng sau ngn - Y","Y","Tht ln"),G("MONGTRUOC-MIKAB","Mng trc Mika B","Mika B","Tht ln"),G("MONGTRUOC-NWT","Mng trc NWT","NWT","Tht ln"),G("MONGTRUOC-M77","Mng trc M77","M77","Tht ln"),G("MONGTRUOC-APK","Mng trc - APK - trng p","APK","Tht ln"),G("MONGTRUOC-Y","Mng trc ","Y","Tht ln"),G("MOHEOCAT-ANIMEX","M heo ct Animex","Animex","Tht ln"),G("MACAN-MOHEOLUNG","M heo lng","Generic","Tht ln"),G("NACMONG-FRIMESA","Nc mng - Frimesa","Frimesa","Tht ln"),G("MACAN-NACMONG-APK","Nc mng - APK","APK","Tht ln"),G("MACAN-NACVAI-MIRATOG","Nc vai - Miratog","Miratog","Tht ln"),G("NACVAI-SEARA","Nc vai - Seara","Seara","Tht ln"),G("SCB-TONIS","Sn cnh bum Tonis","Tonis","Tht ln"),G("SCB-DANISH","Sn cnh bum Danish","Danish","Tht ln"),G("MACAN-SCB-RAINHA","Sn cnh bum Rainha - Nhiu Tht","Rainha","Tht ln"),G("SVT-CDS","Sn vng trng CDS","CDS","Tht ln"),G("SUNNON-NWT","Sn non c NWT","NWT","Tht ln"),G("MACAN-TAITAYXANH","Tai ty xanh Zamesky","Zamesky","Tht ln"),G("MACAN-TAI-M77A","Tai M77 Loi A","M77","Tht ln"),G("MACAN-TAI-APKA","Tai APK loi A","APK","Tht ln"),G("MACAN-TAI-M3Q6","Tai M3(Q6)","M3(Q6)","Tht ln"),G("MACAN-TIMHEO-TBN","Tim heo TBN - RETXACH","TBN - RETXACH","Tht ln"),G("XOS-NIPOK-MIKA","Xng ng sau Nipok v Mika","Nipok v Mika","Tht ln"),{...G("L-CHICKEN","G Hn Quc (L)","Generic","Tht g"),nameEN:"L Size FROZEN WHOLE CHICKEN",defaultPriceUSDPerTon:1500},{...G("M-CHICKEN","G Hn Quc (M)","Generic","Tht g"),nameEN:"M Size FROZEN WHOLE CHICKEN",defaultPriceUSDPerTon:1450},{...G("S-CHICKEN","G Hn Quc (S)","Generic","Tht g"),nameEN:"S Size FROZEN WHOLE CHICKEN",defaultPriceUSDPerTon:1400},G("DUIMAI-LAMEX","i Mi Lamex","Lamex","Tht g"),G("DUIMAI-SHINWOO","i Mi ma Shinwoo","Shinwoo","Tht g"),G("DUIMAITO-SHINWOO","i Mi Shin Woo - to p","Shinwoo","Tht g"),G("DUITRONG-SHINWOO","i Trng Shin Woo - to p","Shinwoo","Tht g"),G("DUITRONG-TIPTOP","i Trng TipTop","TipTop","Tht g"),G("DUINON-MOUTE","i non Moute ( i mm)","Moute","Tht g"),G("DUITOI-SANDERSON","i ti Sanderson size 4-5 ci/kg","Sanderson","Tht g"),G("DUITOI-MOUNTAIRE","i ti Mountaire size 4-5 ci/kg","Mountaire","Tht g"),G("DUITOI-TYSON","i ti Tyson size 5-6 ci/kg","Tyson","Tht g"),G("CGNC-XEPROI","Cnh g nguyn ci  xp ri","Generic","Tht g"),G("CGNC-CEDAL","Cnh g nguyn ci  xp lp CEDAL","CEDAL","Tht g"),G("CGNC-SINGREEN","Cnh g nguyn ci  Cnh g gi Singreen","Singreen","Tht g"),G("CG-KHUCGIUA","Cnh g - Khc gia","Generic","Tht g"),G("CHANGA-HUNGARY-A35","Chn g Hungary A 35gr+","Hungary","Tht g"),G("CHANGA-KZEROA-35","Chn g KZEROA 35gr +","KZEROA","Tht g"),G("CHANGA-THANHTUNG-50","Chn g Thanh Tng 50gr+","Thanh Tng","Tht g"),G("CGRX-NET5","Chn g rt xng net 5","Generic","Tht g"),G("CGRX-NET9","Chn g rt xng net 9","Generic","Tht g"),G("10D2-SHINWOO","G 10con (120-129kg/thng)","Shinwoo","Tht g"),G("10D3N-SHINWOO","G 10con (130-134kg/thng) - nh","Shinwoo","Tht g"),G("10D3T-SHINWOO","G 10con (135-139kg/thng)  to","Shinwoo","Tht g"),G("10D4N-SHINWOO","G 10con (140-144kg/thng) - nh","Shinwoo","Tht g"),G("10D4T-SHINWOO","G 10con (145-149kg/thng)  to","Shinwoo","Tht g"),G("10D5-SHINWOO","G 10con (150-159kg/thng)","Shinwoo","Tht g"),G("10D6N-SHINWOO","G 10con (160-164kg/thng) - nh","Shinwoo","Tht g"),G("10D6T-SHINWOO","G 10con (165-169kg/thng) - to","Shinwoo","Tht g"),G("10D7-SHINWOO","G 10con (170-179kg/thng)","Shinwoo","Tht g"),G("12D911-SHINWOO","G 12con (90-110kg/thng)","Shinwoo","Tht g"),G("12D234-SHINWOO","G 12con (120-149kg/thng)","Shinwoo","Tht g"),G("GAXAY-PALET-SHINWOO","Tht g xay Shinwoo - Palet","Shinwoo","Tht g"),G("GAXAY-CATON-SHINWOO","Tht g xay Shinwoo - Thng Caton","Shinwoo","Tht g"),G("SUNUCGA-HUNGARY","Sn c g Hungary","Hungary","Tht g"),G("THITUC-PALET-SHINWOO","Tht c g ShinWoo - palet","Shinwoo","Tht g"),G("THITUC-CATON-SHINWOO","Tht c g Shin Woo - thng caton","Shinwoo","Tht g"),G("BASA-KHUC-GODACO","C Basa ct khc","GoDaCo","Thy hi sn"),G("BASA-KHUC-NAVICO","C Basa ct khc","NaViCo","Thy hi sn"),G("BASA-FILE-NAVICO","C Basa File","NaViCo","Thy hi sn"),G("CANUC-NHAT","C Nc Nht 200/300g","Nht","Thy hi sn"),G("BASA-NGUYENCON-VN","C Basa nguyn con","Vit Nam","Thy hi sn")].sort((l,t)=>l.brand.localeCompare(t.brand)||l.nameVI.localeCompare(t.nameVI)),hv=.2,pv=.1,mv=.6,gv=.3;function yv(l,t){const{defaultWeightKg:o,userInput:a}=l,{costs:r,quantityInKg:d}=a,p=(r.importVatRate||0)/100,g=d>0&&o>0?d/o:0,y=a.priceUSDPerTon/1e3,m=d*y,T=m*t.importRate,x=d*y*t.taxRate*p,C=a.priceUSDPerTon*t.importRate,_=a.sellingPriceVNDPerKg*d,I=r.loanInterestRatePerYear/100/365,D=r.loanFirstTransferUSD*t.importRate,H=D*I*r.loanFirstTransferInterestDays,z=T>D?T-D:0,F=(D+z)*I*r.postClearanceStorageDays,Y=H+F,le=d*r.generalWarehouseCostRatePerKg,W=d*r.postClearanceStorageDays*r.postClearanceStorageRatePerKgDay,V=g*r.purchasingServiceFeeInMillionsPerCont*1e6,J=r.otherInternationalCosts,ue=r.customsFee+r.quarantineFee+r.containerRentalFee+r.portStorageFee+le+Y+W+V+r.buyerDeliveryFee+J,P=a.sellingPriceVNDPerKg/(1+p),ee=P*d,Q=T+ue,te=ee-Q;return l.calculated={...l.calculated,containers:g,priceUSDPerKg:y,importValueUSD:m,importValueVND:T,importVAT:x,priceVNDPerTon:C,totalRevenueInclVAT:_,totalClearanceAndLogisticsCost:ue,generalWarehouseCost:le,importInterestCost:Y,loanFirstTransferAmountVND:D,loanInterestCostFirstTransfer:H,loanSecondTransferAmountVND:z,loanInterestCostSecondTransfer:F,postClearanceStorageCost:W,purchasingServiceFee:V,otherInternationalPurchaseCost:J,sellingPriceExclVAT:P,totalRevenue:ee,totalCOGS:Q,grossProfit:te},l}function vv(l,t,o){const{userInput:a}=l,{costs:r,quantityInKg:d}=a,p=(r.importVatRate||0)/100,g=t.totalGrossProfit*(o.salesSalaryRate/100),y=de=>t.totalQuantityInKg>0?de*(d/t.totalQuantityInKg):0,m=y(g),T=y(o.totalMonthlyIndirectSalary),x=y(o.totalMonthlyRent),C=y(o.totalMonthlyElectricity),_=y(o.totalMonthlyWater),I=y(o.totalMonthlyStationery),D=y(o.totalMonthlyDepreciation),H=y(o.totalMonthlyExternalServices),z=y(o.totalMonthlyOtherCashExpenses),F=y(o.totalMonthlyFinancialCost),Y=m+r.otherSellingCosts,le=T+x+C+_+I+D+H+z,W=F,V=(l.calculated.totalRevenue??0)*p,J=V-(l.calculated.importVAT??0),ue=d>0?(l.calculated.totalCOGS??0)/d:0,P=Y+le,ee=(l.calculated.totalCOGS??0)+P+W,Q=(l.calculated.totalRevenue??0)-ee,te=Q>0?Q*hv:0,ae=Q-te,ge=te+(J??0),ce=ae>0?ae*pv:0,A=ae>0?ae*mv:0,X=ae>0?ae*gv:0;return l.calculated={...l.calculated,salesStaffSalary:m,indirectStaffSalary:T,rent:x,electricity:C,water:_,stationery:I,depreciation:D,externalServices:H,otherCashExpenses:z,financialValuationCost:F,totalSellingCost:Y,totalGaCost:le,totalFinancialCost:W,outputVAT:V,vatPayable:J,cogsPerKg:ue,totalOperatingCost:P,totalPreTaxCost:ee,profitBeforeTax:Q,corporateIncomeTax:te,netProfit:ae,totalTaxPayable:ge,retainedForProvision:ce,retainedForBusiness:A,dividends:X},l}function bm(l,t){if(l.length===0)return[];const o=l.map(d=>yv(JSON.parse(JSON.stringify(d)),t)),a=o.reduce((d,p)=>(d.totalGrossProfit+=p.calculated.grossProfit||0,d.totalQuantityInKg+=p.userInput.quantityInKg||0,d),{totalGrossProfit:0,totalQuantityInKg:0});return o.map(d=>vv(d,a,t))}const Tv=l=>l.reduce((t,o)=>(t.importValueVND+=o.calculated.importValueVND||0,t.totalClearanceAndLogisticsCost+=o.calculated.totalClearanceAndLogisticsCost||0,t.totalSellingCost+=o.calculated.totalSellingCost||0,t.totalGaCost+=o.calculated.totalGaCost||0,t.totalFinancialCost+=o.calculated.totalFinancialCost||0,t.totalRevenue+=o.calculated.totalRevenue||0,t.grossProfit+=o.calculated.grossProfit||0,t.profitBeforeTax+=o.calculated.profitBeforeTax||0,t.corporateIncomeTax+=o.calculated.corporateIncomeTax||0,t.importVAT+=o.calculated.importVAT||0,t.outputVAT+=o.calculated.outputVAT||0,t.vatPayable+=o.calculated.vatPayable||0,t.netProfit+=o.calculated.netProfit||0,t.importInterestCost+=o.calculated.importInterestCost||0,t.totalCOGS+=o.calculated.totalCOGS||0,t.totalTaxPayable+=o.calculated.totalTaxPayable||0,t),{importValueVND:0,totalClearanceAndLogisticsCost:0,totalSellingCost:0,totalGaCost:0,totalFinancialCost:0,totalRevenue:0,grossProfit:0,profitBeforeTax:0,corporateIncomeTax:0,importVAT:0,outputVAT:0,vatPayable:0,netProfit:0,importInterestCost:0,totalCOGS:0,totalTaxPayable:0}),Ve=(l,t,o=!1)=>`
  <div class="flex justify-between py-2 border-b border-gray-200">
    <span class="text-sm ${o?"text-gray-500":"text-gray-600"}">${l}</span>
    <span class="text-sm font-semibold text-gray-800 text-right">${t}</span>
  </div>
`,Zt=(l,t)=>`
  <div class="flex justify-between py-2 border-b-2 border-gray-400">
    <span class="text-sm font-bold text-gray-800">${l}</span>
    <span class="text-sm font-bold text-gray-900 text-right">${t}</span>
  </div>
`,lt=(l,t,o,a,r,d=!1,p=!1)=>{const g=a!==null?O(a):"",y=r!==0&&a!==null?`${(a/r*100).toFixed(2)}%`:"",m=p?"pl-8":"pl-4",T=d?"font-bold":"";return`
    <tr class="border-b">
      <td class="py-3 ${m} pr-2 text-sm text-gray-800 ${T}">${l}</td>
      <td class="py-3 px-2 text-center text-sm text-gray-600">${t}</td>
      <td class="py-3 px-2 text-center text-sm text-gray-600">${o}</td>
      <td class="py-3 px-4 text-right text-sm text-gray-900 ${T}">${g}</td>
      <td class="py-3 pl-2 pr-4 text-right text-sm text-gray-500">${y}</td>
    </tr>
  `},Mm=(l,t,o,a)=>{const r=Tv(l),d=new Date().toLocaleString("vi-VN"),p=r.totalRevenue,g=0,y=r.vatPayable,m=p-g,T=r.totalCOGS,x=m-T,C=0,_=r.totalFinancialCost,I=r.importInterestCost,D=r.totalSellingCost,H=r.totalGaCost,z=x+(C-_)-D-H,F=0,Y=0,le=F-Y,W=z+le,V=W>0?W*.2:0,J=0,ue=W-V-J,P=V+y,ee=`
    <div class="mb-12 break-after-page">
      <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-2">PHNG N KINH DOANH</h1>
        <p class="text-gray-600">n v tnh: VND</p>
      </div>
      
      <div class="overflow-hidden border rounded-lg">
        <table class="min-w-full">
          <thead class="bg-gray-100">
            <tr class="border-b">
              <th class="py-3 pl-4 pr-2 text-left text-xs font-bold text-gray-600 uppercase tracking-wider w-1/2">Ch tiu</th>
              <th class="py-3 px-2 text-center text-xs font-bold text-gray-600 uppercase tracking-wider">M s</th>
              <th class="py-3 px-2 text-center text-xs font-bold text-gray-600 uppercase tracking-wider">Chi tit ly d liu</th>
              <th class="py-3 px-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider">S tin</th>
              <th class="py-3 pl-2 pr-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider">T l</th>
            </tr>
          </thead>
          <tbody class="bg-white">
            ${lt("1. Doanh thu bn hng v cung cp dch v","01","Tng hp",p,m,!1)}
            ${lt("2. Cc khon gim tr doanh thu","02","",g,m,!1)}
            ${lt("3. Doanh thu thun v bn hng v cung cp dch v (10 = 01 - 02)","10","[01] - [02]",m,m,!1)}
            ${lt("4. Gi vn hng bn","11","Tng hp",T,m,!1)}
            ${lt("5. Li nhun gp v bn hng v cung cp dch v (20 = 10 - 11)","20","[10] - [11]",x,m,!0)}
            ${lt("6. Doanh thu hot ng ti chnh","21","",C,m,!1)}
            ${lt("7. Chi ph ti chnh","22","Tng hp",_,m,!1)}
            ${lt("8. Chi ph li vay  tnh vo gi vn","23","Tng hp",I,m,!1,!0)}
            ${lt("9. Chi ph bn hng","25","Tng hp",D,m,!1)}
            ${lt("10. Chi ph qun l doanh nghip","26","Tng hp",H,m,!1)}
            ${lt("11. Li nhun thun t hot ng kinh doanh (30 = 20 + (21 - 22)  25  26)","30","[20] + ([21]-[22]) - [25] - [26]",z,m,!0)}
            ${lt("12. Thu nhp khc","31","",F,m,!1)}
            ${lt("13. Chi ph khc","32","",Y,m,!1)}
            ${lt("14. Li nhun khc (40 = 31 - 32)","40","[31] - [32]",le,m,!1)}
            ${lt("15. Tng li nhun k ton trc thu (50 = 30 + 40)","50","[30] + [40]",W,m,!0)}
            ${lt("16. Chi ph thu TNDN hin hnh (20% x 50)","51","[50] x 20%",V,m,!1)}
            ${lt("17. Chi ph thu TNDN hon li","52","",J,m,!1)}
            ${lt("18. Li nhun sau thu thu nhp doanh nghip (60 = 50 - 51 - 52)","60","[50] - [51] - [52]",ue,m,!0)}
            ${lt("19. Thu GTGT phi np nh nc","70","Tng hp",y,m,!1)}
            ${lt("20. Tng thu phi np cho nh nc","80","[51] + [70]",P,m,!0)}
          </tbody>
        </table>
      </div>
      <div class="flex justify-between items-start mt-12">
        <p class="text-gray-600 text-sm italic">Ngy to bo co: ${d}</p>
        <div class="text-center w-64">
            <p class="font-bold text-gray-800">Ngi lp bo co</p>
            <p class="italic text-sm text-gray-600 mb-12">(K, h tn)</p>
        </div>
      </div>
    </div>
  `,Q=l.reduce((M,ne)=>{const ie=ne.userInput.costs,se=ne.calculated;return M.customsFee+=ie.customsFee||0,M.quarantineFee+=ie.quarantineFee||0,M.containerRentalFee+=ie.containerRentalFee||0,M.portStorageFee+=ie.portStorageFee||0,M.generalWarehouseCost+=se.generalWarehouseCost||0,M.importInterestCost+=se.importInterestCost||0,M.postClearanceStorageCost+=se.postClearanceStorageCost||0,M.purchasingServiceFee+=se.purchasingServiceFee||0,M.buyerDeliveryFee+=ie.buyerDeliveryFee||0,M.otherInternationalPurchaseCost+=se.otherInternationalPurchaseCost||0,M},{customsFee:0,quarantineFee:0,containerRentalFee:0,portStorageFee:0,generalWarehouseCost:0,importInterestCost:0,postClearanceStorageCost:0,purchasingServiceFee:0,buyerDeliveryFee:0,otherInternationalPurchaseCost:0}),te=r.totalClearanceAndLogisticsCost,ae=te+D+H+_,ce=`(Lu kho ~${(l.length>0?l.reduce((M,ne)=>M+ne.userInput.costs.postClearanceStorageDays,0)/l.length:0).toFixed(0)} ngy)`,A=(M,ne,ie,se,fe="",Ae=!1,Fe=!1,Te=!1)=>{const we=se>0?`${(ie/se*100).toFixed(2)}%`:"0.00%",Ce=Ae?"pl-8":"pl-4",Ie=Fe||Te?"font-bold":"";return`
          <tr class="border-b ${Te?"bg-gray-100":"bg-white"}">
              <td class="py-2 px-2 text-center text-sm ${Ie}">${M}</td>
              <td class="py-2 ${Ce} pr-2 text-sm ${Te?"text-gray-900":"text-gray-800"} ${Ie}">${ne}</td>
              <td class="py-2 px-4 text-right text-sm text-gray-900 ${Ie}">${O(ie)}</td>
              <td class="py-2 px-4 text-right text-sm ${Fe||Te?"font-semibold text-gray-800":"text-gray-600"}">${we}</td>
              <td class="py-2 px-4 text-sm text-gray-600">${fe}</td>
          </tr>
      `},X=`
    <div class="mb-12 break-after-page">
      <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-2">BNG TNG HP CHI PH</h1>
        <p class="text-gray-600">n v tnh: VND</p>
      </div>
      
      <div class="overflow-hidden border rounded-lg">
        <table class="min-w-full">
          <thead class="bg-gray-100">
            <tr class="border-b">
              <th class="py-3 px-2 text-center text-xs font-bold text-gray-600 uppercase tracking-wider w-16">STT</th>
              <th class="py-3 pl-4 pr-2 text-left text-xs font-bold text-gray-600 uppercase tracking-wider w-2/5">Cc loi chi ph</th>
              <th class="py-3 px-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider">S tin</th>
              <th class="py-3 px-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider">T l %/Doanh thu thun</th>
              <th class="py-3 px-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Ghi ch</th>
            </tr>
          </thead>
          <tbody class="bg-white">
            ${A("1","Chi ph Thng quan & Vn hnh (c tnh vo gi vn)",te,m,"",!1,!0)}
            ${A("1.1","Ph Hi quan",Q.customsFee,m,"",!0)}
            ${A("1.2","Ph kim dch",Q.quarantineFee,m,"",!0)}
            ${A("1.3","Ph thu Cont",Q.containerRentalFee,m,"",!0)}
            ${A("1.4","Ph lu kho bi cng",Q.portStorageFee,m,"",!0)}
            ${A("1.5","Chi ph chung nhp kho",Q.generalWarehouseCost,m,"",!0)}
            ${A("1.6","Li vay nhp hng",Q.importInterestCost,m,"",!0)}
            ${A("1.7","Ph lu kho sau TQ",Q.postClearanceStorageCost,m,ce,!0)}
            ${A("1.8","DV mua hng",Q.purchasingServiceFee,m,"",!0)}
            ${A("1.9","Ph VC n bn mua",Q.buyerDeliveryFee,m,"",!0)}
            ${A("1.10","Chi ph khc",Q.otherInternationalPurchaseCost,m,"",!0)}
            ${A("2","Chi ph Bn hng",D,m,"",!1,!0)}
            ${A("3","Chi ph Qun l doanh nghip",H,m,"",!1,!0)}
            ${A("4","Chi ph Ti chnh",_,m,"",!1,!0)}
          </tbody>
          <tfoot class="bg-gray-100 font-bold">
             ${A("","Tng Cng",ae,m,"",!1,!1,!0)}
          </tfoot>
        </table>
      </div>
       <div class="flex justify-between items-start mt-12">
            <p class="text-gray-600 text-sm italic">Ngy to bo co: ${d}</p>
            <div class="text-center w-64">
                <p class="font-bold text-gray-800">Ngi lp bo co</p>
                <p class="italic text-sm text-gray-600 mb-12">(K, h tn)</p>
            </div>
          </div>
    </div>
  `,q=`
    <div class="mb-12 break-after-page">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">BO CO TNG HP THEO SN PHM</h1>
        <div class="overflow-x-auto border rounded-lg">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-100">
                    <tr>
                        ${["STT","Sn phm","Doanh thu","Gi vn","CP Vn hnh & kho","Li nhun gp","CP Bn hng","CP Qun l","CP Ti chnh","Li nhun trc thu","Thu TNDN","Li rng","Thu GTGT Mua vo","Thu GTGT Bn ra","Thu GTGT Phi np","Tng thu phi np"].map(M=>`<th scope="col" class="px-3 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider whitespace-nowrap">${M}</th>`).join("")}
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    ${l.map((M,ne)=>`
                        <tr>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500 text-center">${ne+1}</td>
                            <td class="px-3 py-4 whitespace-nowrap">
                                <div class="text-sm font-medium text-gray-900">${M.code} - ${M.group} - ${M.nameVI}</div>
                                <div class="text-sm text-gray-500">${M.brand}</div>
                            </td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-green-700 text-right">${O(M.calculated.totalRevenue)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${O(M.calculated.importValueVND)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${O(M.calculated.totalClearanceAndLogisticsCost)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-blue-700 font-medium text-right">${O(M.calculated.grossProfit)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${O(M.calculated.totalSellingCost)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${O(M.calculated.totalGaCost)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${O(M.calculated.totalFinancialCost)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-purple-700 font-medium text-right">${O(M.calculated.profitBeforeTax)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-red-700 text-right">${O(M.calculated.corporateIncomeTax)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm font-bold text-right ${M.calculated.netProfit&&M.calculated.netProfit<0?"text-red-600":"text-green-600"}">${O(M.calculated.netProfit)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${O(M.calculated.importVAT)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 text-right">${O(M.calculated.outputVAT)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700 font-medium text-right">${O(M.calculated.vatPayable)}</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-red-700 font-bold text-right">${O(M.calculated.totalTaxPayable)}</td>
                        </tr>
                    `).join("")}
                </tbody>
                <tfoot class="bg-gray-100 font-bold">
                    <tr>
                        <td class="px-3 py-3 text-left text-sm text-gray-800 uppercase tracking-wider" colSpan="2">Tng cng</td>
                        <td class="px-3 py-3 text-right text-sm text-green-800">${O(r.totalRevenue)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${O(r.importValueVND)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${O(r.totalClearanceAndLogisticsCost)}</td>
                        <td class="px-3 py-3 text-right text-sm text-blue-800">${O(r.grossProfit)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${O(r.totalSellingCost)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${O(r.totalGaCost)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${O(r.totalFinancialCost)}</td>
                        <td class="px-3 py-3 text-right text-sm text-purple-800">${O(r.profitBeforeTax)}</td>
                        <td class="px-3 py-3 text-right text-sm text-red-800">${O(r.corporateIncomeTax)}</td>
                        <td class="px-3 py-3 text-right text-sm ${r.netProfit<0?"text-red-700":"text-green-700"}">${O(r.netProfit)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${O(r.importVAT)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${O(r.outputVAT)}</td>
                        <td class="px-3 py-3 text-right text-sm text-gray-700">${O(r.vatPayable)}</td>
                        <td class="px-3 py-3 text-right text-sm text-red-800">${O(r.totalTaxPayable)}</td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
  `,oe=`
    <div>
      <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">BO CO K HOCH KINH DOANH CHI TIT</h1>
      ${l.map(M=>`
        <div class="mb-8 p-6 border rounded-lg break-inside-avoid bg-white shadow-sm">
           <h2 class="text-2xl font-semibold text-indigo-700 mb-1">${M.group} - ${M.nameVI} (${M.code})</h2>
           <p class="text-md text-gray-500 mb-2"><strong>Tn ting Anh:</strong> ${M.nameEN}</p>
           <p class="text-md text-gray-500 mb-6"><strong>Thng hiu:</strong> ${M.brand}</p>
           
           <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
             <div class="space-y-4">
                <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Chi ph nhp khu & Thu</h3>
                ${Ve("S lng (Kg)",O(M.userInput.quantityInKg))}
                ${Ve("Gi (USD)/Kg",(M.calculated.priceUSDPerKg||0).toFixed(3))}
                ${Ve("T gi USD/VN",O(t))}
                ${Ve("Gi nhp (USD)",O(M.calculated.importValueUSD))}
                ${Zt("Gi nhp (VN)",O(M.calculated.importValueVND))}
                ${Ve("Thu sut GTGT","5%")}
                ${Ve("T gi USD/VN tnh thu",O(o))}
                ${Zt("Thu GTGT nhp khu",O(M.calculated.importVAT))}
             </div>
             
             <div class="space-y-4">
                <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Chi ph Thng quan & Vn hnh</h3>
                ${Ve("1.1 Ph Hi quan",O(M.userInput.costs.customsFee),!0)}
                ${Ve("1.2 Ph kim dch",O(M.userInput.costs.quarantineFee),!0)}
                ${Ve("1.3 Ph thu Cont",O(M.userInput.costs.containerRentalFee),!0)}
                ${Ve("1.4 Ph lu kho bi cng",O(M.userInput.costs.portStorageFee),!0)}
                ${Ve("1.5 Chi ph chung nhp kho",O(M.calculated.generalWarehouseCost),!0)}
                ${Ve("1.6 Li vay nhp hng",O(M.calculated.importInterestCost),!0)}
                ${Ve("1.7 Ph lu kho sau TQ",O(M.calculated.postClearanceStorageCost),!0)}
                ${Ve("1.8 DV mua hng",O(M.calculated.purchasingServiceFee),!0)}
                ${Ve("1.9 Ph VC n bn mua",O(M.userInput.costs.buyerDeliveryFee),!0)}
                ${Ve("1.10 Chi ph khc",O(M.calculated.otherInternationalPurchaseCost),!0)}
                ${Zt("Tng Chi ph TQ & Kho",O(M.calculated.totalClearanceAndLogisticsCost))}
             </div>
             
             <div class="space-y-4">
                <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Gi vn & Doanh thu</h3>
                ${Ve("Gi nhp (VN)",O(M.calculated.importValueVND))}
                ${Ve("Tng Chi ph TQ & Kho",O(M.calculated.totalClearanceAndLogisticsCost))}
                ${Zt("Tng gi vn hng bn",O(M.calculated.totalCOGS))}
                ${Zt("Gi vn/kg",O(M.calculated.cogsPerKg))}
                 <div class="pt-4">
                    ${Ve("Gi bn/kg (c VAT)",O(M.userInput.sellingPriceVNDPerKg))}
                    ${Ve("Gi bn/kg (ko VAT)",O(M.calculated.sellingPriceExclVAT))}
                    ${Zt("Tng doanh thu",O(M.calculated.totalRevenue))}
                    ${Ve("Thu GTGT u ra (5%)",O(M.calculated.outputVAT))}
                    ${Zt("Thu GTGT phi np",O(M.calculated.vatPayable))}
                 </div>
             </div>
           </div>
           
           <hr class="my-6 border-t-2 rounded"/>

           <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
              <div>
                  <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Chi ph Hot ng</h3>
                  ${Ve("CP Bn hng",O(M.calculated.totalSellingCost))}
                  ${Ve("CP Qun l DN",O(M.calculated.totalGaCost))}
                  ${Ve("CP Ti chnh",O(M.calculated.totalFinancialCost))}
                  ${Zt("Tng chi ph hot ng",O((M.calculated.totalOperatingCost||0)+(M.calculated.totalFinancialCost||0)))}
              </div>
              <div>
                  <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Phn tch Li nhun</h3>
                  ${Ve("Doanh thu",O(M.calculated.totalRevenue))}
                  ${Ve("Gi vn hng bn",`-${O(M.calculated.totalCOGS)}`)}
                  ${Zt("Li nhun gp",O(M.calculated.grossProfit))}
                  ${Ve("Tng chi ph hot ng",`-${O((M.calculated.totalOperatingCost||0)+(M.calculated.totalFinancialCost||0))}`)}
                  ${Zt("Li nhun trc thu",O(M.calculated.profitBeforeTax))}
                  ${Ve("Thu TNDN (20%)",`-${O(M.calculated.corporateIncomeTax)}`)}
                  <div class="mt-2 p-2 rounded-lg bg-green-100">
                    ${Zt("Li rng",O(M.calculated.netProfit))}
                  </div>
              </div>
               <div>
                  <h3 class="font-semibold text-lg pb-2 border-b text-gray-700">Phn chia Li nhun</h3>
                  ${Ve("Trch lp d phng (10%)",O(M.calculated.retainedForProvision))}
                  ${Ve("B sung vn KD (60%)",O(M.calculated.retainedForBusiness))}
                  ${Ve("Chia c ng (30%)",O(M.calculated.dividends))}
              </div>
           </div>
        </div>
      `).join("")}
    </div>
  `,N=a?`
    <div class="break-inside-avoid">
      <h1 class="text-3xl font-bold text-center text-gray-800 mb-8 mt-12">PHN TCH & NH GI K HOCH (AI)</h1>
      <div class="analysis-content p-6 border rounded-lg bg-white shadow-sm text-gray-800">
        ${a}
      </div>
    </div>
  `:"";return`
    <!DOCTYPE html>
    <html lang="vi">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Bo co K hoch Kinh doanh</title>
        <script src="https://cdn.tailwindcss.com"><\/script>
        <style>
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            .no-print { display: none; }
            .break-after-page { page-break-after: always; }
            .break-inside-avoid { page-break-inside: avoid; }
          }
          .analysis-content h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5em; margin-bottom: 0.5em; padding-bottom: 0.25em; border-bottom: 1px solid #e5e7eb; color: #1e3a8a; }
          .analysis-content p { margin-bottom: 1em; line-height: 1.6; }
          .analysis-content ul { list-style-position: inside; padding-left: 1em; margin-bottom: 1em; }
          .analysis-content li { margin-bottom: 0.5em; }
          .analysis-content strong { font-weight: 600; color: #1f2937; }
        </style>
    </head>
    <body class="bg-gray-100 font-sans">
      <div class="container mx-auto p-4 sm:p-8 bg-white shadow-lg my-8">
        ${ee}
        ${X}
        ${q}
        ${oe}
        ${N}
      </div>
    </body>
    </html>
  `},Va=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Au=l=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639l4.43-4.43a1.012 1.012 0 011.431 0l4.43 4.43a1.012 1.012 0 010 .639l-4.43 4.43a1.012 1.012 0 01-1.431 0l-4.43-4.43z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Rm=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.75 18l1.197-.398a3.375 3.375 0 002.456-2.456L16.5 14.25l.398 1.197a3.375 3.375 0 002.456 2.456L20.25 18l-1.197.398a3.375 3.375 0 00-2.456 2.456z"})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xv,Sv;function Cv(){return{geminiUrl:xv,vertexUrl:Sv}}function Ev(l,t,o,a){var r,d;if(!(l!=null&&l.baseUrl)){const p=Cv();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return l.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nn{}function re(l,t){const o=/\{([^}]+)\}/g;return l.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(l,t,o){for(let d=0;d<t.length-1;d++){const p=t[d];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in l))if(Array.isArray(o))l[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(l[g])){const y=l[g];if(Array.isArray(o))for(let m=0;m<y.length;m++){const T=y[m];c(T,t.slice(d+1),o[m])}else for(const m of y)c(m,t.slice(d+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in l||(l[g]=[{}]);const y=l[g];c(y[0],t.slice(d+1),o);return}(!l[p]||typeof l[p]!="object")&&(l[p]={}),l=l[p]}const a=t[t.length-1],r=l[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(l,o):l[a]=o}function u(l,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return l;for(let a=0;a<t.length;a++){if(typeof l!="object"||l===null)return o;const r=t[a];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in l){const p=l[d];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else l=l[r]}return l}catch(a){if(a instanceof TypeError)return o;throw a}}function _v(l,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),d=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const m=d[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}hu(l,r,d,0,p)}}function hu(l,t,o,a,r){if(a>=t.length||typeof l!="object"||l===null)return;const d=t[a];if(d.endsWith("[]")){const p=d.slice(0,-2),g=l;if(p in g&&Array.isArray(g[p]))for(const y of g[p])hu(y,t,o,a+1,r)}else if(d==="*"){if(typeof l=="object"&&l!==null&&!Array.isArray(l)){const p=l,g=Object.keys(p).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=p[m];for(const[m,T]of Object.entries(y)){const x=[];for(const C of o.slice(a))C==="*"?x.push(m):x.push(C);c(p,x,T)}for(const m of g)delete p[m]}}else{const p=l;d in p&&hu(p[d],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nu(l){if(typeof l!="string")throw new Error("fromImageBytes must be a string");return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Av(l){const t={},o=u(l,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(l,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function Nv(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],Mv(p)),t}function bv(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response"]);return p!=null&&c(t,["response"],Rv(p)),t}function Mv(l){const t={},o=u(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>wv(p))),c(t,["generatedVideos"],d)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Rv(l){const t={},o=u(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Iv(p))),c(t,["generatedVideos"],d)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function wv(l){const t={},o=u(l,["video"]);return o!=null&&c(t,["video"],kv(o)),t}function Iv(l){const t={},o=u(l,["_self"]);return o!=null&&c(t,["video"],Gv(o)),t}function Dv(l){const t={},o=u(l,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Uv(l){const t={},o=u(l,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Lv(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response"]);return p!=null&&c(t,["response"],Pv(p)),t}function Pv(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function wm(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response"]);return p!=null&&c(t,["response"],Vv(p)),t}function Vv(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function kv(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Nu(a));const r=u(l,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Gv(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Nu(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $h;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($h||($h={}));var Qh;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(Qh||(Qh={}));var Xh;(function(l){l.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT"})(Xh||(Xh={}));var Oe;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL"})(Oe||(Oe={}));var Zh;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Zh||(Zh={}));var Wh;(function(l){l.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",l.SIMPLE_SEARCH="SIMPLE_SEARCH",l.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Wh||(Wh={}));var jh;(function(l){l.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",l.NO_AUTH="NO_AUTH",l.API_KEY_AUTH="API_KEY_AUTH",l.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",l.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",l.OAUTH="OAUTH",l.OIDC_AUTH="OIDC_AUTH"})(jh||(jh={}));var ep;(function(l){l.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",l.HTTP_IN_QUERY="HTTP_IN_QUERY",l.HTTP_IN_HEADER="HTTP_IN_HEADER",l.HTTP_IN_PATH="HTTP_IN_PATH",l.HTTP_IN_BODY="HTTP_IN_BODY",l.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ep||(ep={}));var tp;(function(l){l.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",l.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",l.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",l.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tp||(tp={}));var np;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",l.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",l.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",l.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",l.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(np||(np={}));var lp;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(lp||(lp={}));var ip;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})(ip||(ip={}));var op;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY",l.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",l.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",l.NO_IMAGE="NO_IMAGE"})(op||(op={}));var ap;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(ap||(ap={}));var sp;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sp||(sp={}));var rp;(function(l){l.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",l.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",l.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",l.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",l.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(rp||(rp={}));var up;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.IMAGE_SAFETY="IMAGE_SAFETY",l.MODEL_ARMOR="MODEL_ARMOR",l.JAILBREAK="JAILBREAK"})(up||(up={}));var cp;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cp||(cp={}));var ka;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})(ka||(ka={}));var dp;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dp||(dp={}));var fp;(function(l){l.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",l.TUNING_MODE_FULL="TUNING_MODE_FULL",l.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fp||(fp={}));var hp;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hp||(hp={}));var pu;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pu||(pu={}));var pp;(function(l){l.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",l.TUNING_TASK_I2V="TUNING_TASK_I2V",l.TUNING_TASK_T2V="TUNING_TASK_T2V",l.TUNING_TASK_R2V="TUNING_TASK_R2V"})(pp||(pp={}));var mp;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(mp||(mp={}));var gp;(function(l){l.UNSPECIFIED="UNSPECIFIED",l.BLOCKING="BLOCKING",l.NON_BLOCKING="NON_BLOCKING"})(gp||(gp={}));var yp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(yp||(yp={}));var vp;(function(l){l.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",l.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(vp||(vp={}));var Tp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE",l.VALIDATED="VALIDATED"})(Tp||(Tp={}));var xp;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(xp||(xp={}));var Sp;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(Sp||(Sp={}));var Cp;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi",l.zh="zh",l.pt="pt",l.es="es"})(Cp||(Cp={}));var Ep;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ep||(Ep={}));var _p;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_p||(_p={}));var Ap;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ap||(Ap={}));var Np;(function(l){l.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",l.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",l.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",l.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",l.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",l.EDIT_MODE_STYLE="EDIT_MODE_STYLE",l.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",l.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Np||(Np={}));var bp;(function(l){l.FOREGROUND="FOREGROUND",l.BACKGROUND="BACKGROUND",l.PROMPT="PROMPT",l.SEMANTIC="SEMANTIC",l.INTERACTIVE="INTERACTIVE"})(bp||(bp={}));var Mp;(function(l){l.ASSET="ASSET",l.STYLE="STYLE"})(Mp||(Mp={}));var Rp;(function(l){l.INSERT="INSERT",l.REMOVE="REMOVE",l.REMOVE_STATIC="REMOVE_STATIC",l.OUTPAINT="OUTPAINT"})(Rp||(Rp={}));var wp;(function(l){l.OPTIMIZED="OPTIMIZED",l.LOSSLESS="LOSSLESS"})(wp||(wp={}));var Ip;(function(l){l.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",l.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ip||(Ip={}));var Dp;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.STATE_PENDING="STATE_PENDING",l.STATE_ACTIVE="STATE_ACTIVE",l.STATE_FAILED="STATE_FAILED"})(Dp||(Dp={}));var Up;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(Up||(Up={}));var Lp;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(Lp||(Lp={}));var Pp;(function(l){l.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.RESPONSE_REJECTED="RESPONSE_REJECTED",l.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Pp||(Pp={}));var Vp;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(Vp||(Vp={}));var kp;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kp||(kp={}));var Gp;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Gp||(Gp={}));var Hp;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(Hp||(Hp={}));var qp;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qp||(qp={}));var Bp;(function(l){l.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",l.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",l.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",l.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",l.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",l.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",l.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",l.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",l.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",l.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",l.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",l.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",l.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Bp||(Bp={}));var Op;(function(l){l.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",l.QUALITY="QUALITY",l.DIVERSITY="DIVERSITY",l.VOCALIZATION="VOCALIZATION"})(Op||(Op={}));var ai;(function(l){l.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",l.PLAY="PLAY",l.PAUSE="PAUSE",l.STOP="STOP",l.RESET_CONTEXT="RESET_CONTEXT"})(ai||(ai={}));class mu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class ro{get text(){var t,o,a,r,d,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",T=!1;const x=[];for(const C of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,I]of Object.entries(C))_!=="text"&&_!=="thought"&&(I!==null||I!==void 0)&&x.push(_);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;T=!0,m+=C.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?m:void 0}get data(){var t,o,a,r,d,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const T=[];for(const x of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,_]of Object.entries(x))C!=="inlineData"&&(_!==null||_!==void 0)&&T.push(C);x.inlineData&&typeof x.inlineData.data=="string"&&(m+=atob(x.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,a,r,d,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,o,a,r,d,p,g,y,m;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((T==null?void 0:T.length)!==0)return(m=T==null?void 0:T[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,a,r,d,p,g,y,m;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((T==null?void 0:T.length)!==0)return(m=T==null?void 0:T[0])===null||m===void 0?void 0:m.output}}class zp{}class Fp{}class Hv{}class qv{}class Bv{}class Ov{}class Kp{}class Yp{}class Jp{}class zv{}class Ga{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ga;let r;const d=t;return o?r=bv(d):r=Nv(d),Object.assign(a,r),a}}class $p{}class Qp{}class Xp{}class Fv{}class Kv{}class Yv{}class bu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new bu,d=Lv(t);return Object.assign(a,d),a}}class Jv{}class $v{}class Qv{}class Zp{}class Xv{get text(){var t,o,a;let r="",d=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,o,a;let r="";const d=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Zv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Mu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Mu,d=wm(t);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(l,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(l.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Im(l,t){const o=Le(l,t);return o?o.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}`:o.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${o}`:o:""}function Dm(l){return Array.isArray(l)?l.map(t=>Ha(t)):[Ha(l)]}function Ha(l){if(typeof l=="object"&&l!==null)return l;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof l}`)}function Um(l){const t=Ha(l);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Lm(l){const t=Ha(l);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Wp(l){if(l==null)throw new Error("PartUnion is required");if(typeof l=="object")return l;if(typeof l=="string")return{text:l};throw new Error(`Unsupported part type: ${typeof l}`)}function Pm(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("PartListUnion is required");return Array.isArray(l)?l.map(t=>Wp(t)):[Wp(l)]}function gu(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function jp(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function em(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function ht(l){if(l==null)throw new Error("ContentUnion is required");return gu(l)?l:{role:"user",parts:Pm(l)}}function Ru(l,t){if(!t)return[];if(l.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=ht(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(l.isVertexAI()){const o=ht(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>ht(o)):[ht(t)]}function Yt(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("contents are required");if(!Array.isArray(l)){if(jp(l)||em(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ht(l)]}const t=[],o=[],a=gu(l[0]);for(const r of l){const d=gu(r);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(jp(r)||em(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:Pm(o)}),t}function Wv(l,t){l.includes("null")&&(t.nullable=!0);const o=l.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(Oe).includes(o[0].toUpperCase())?o[0].toUpperCase():Oe.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(Oe).includes(a.toUpperCase())?a.toUpperCase():Oe.TYPE_UNSPECIFIED})}}function si(l){const t={},o=["items"],a=["anyOf"],r=["properties"];if(l.type&&l.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=l.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,l=d[1]):d[1].type==="null"&&(t.nullable=!0,l=d[0])),l.type instanceof Array&&Wv(l.type,t);for(const[p,g]of Object.entries(l))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Oe).includes(g.toUpperCase())?g.toUpperCase():Oe.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=si(g);else if(a.includes(p)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(si(m))}t[p]=y}else if(r.includes(p)){const y={};for(const[m,T]of Object.entries(g))y[m]=si(T);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function wu(l){return si(l)}function Iu(l){if(typeof l=="object")return l;if(typeof l=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:l}}};throw new Error(`Unsupported speechConfig type: ${typeof l}`)}function Du(l){if("multiSpeakerVoiceConfig"in l)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return l}function ci(l){if(l.functionDeclarations)for(const t of l.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=si(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=si(t.response));return l}function di(l){if(l==null)throw new Error("tools is required");if(!Array.isArray(l))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of l)t.push(o);return t}function jv(l,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return l.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${l.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${t}`:r?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function bn(l,t){if(typeof t!="string")throw new Error("name must be a string");return jv(l,t,"cachedContents")}function Vm(l){switch(l){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return l}}function jn(l){return Nu(l)}function eT(l){return l!=null&&typeof l=="object"&&"name"in l}function tT(l){return l!=null&&typeof l=="object"&&"video"in l}function nT(l){return l!=null&&typeof l=="object"&&"uri"in l}function km(l){var t;let o;if(eT(l)&&(o=l.name),!(nT(l)&&(o=l.uri,o===void 0))&&!(tT(l)&&(o=(t=l.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof l=="string"&&(o=l),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Gm(l,t){let o;return l.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Hm(l){for(const t of["models","tunedModels","publisherModels"])if(lT(l,t))return l[t];return[]}function lT(l,t){return l!==null&&typeof l=="object"&&t in l}function iT(l,t={}){const o=l,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function oT(l,t={}){const o=[],a=new Set;for(const r of l){const d=r.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const p=iT(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function qm(l,t){let o;if(typeof t=="string")if(l.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(l.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(l.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function aT(l){if(typeof l!="string")return l;const t=l;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Bm(l){if(typeof l!="object"||l===null)return{};const t=l,o=t.inlinedResponses;if(typeof o!="object"||o===null)return l;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return l;let d=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),l}function fi(l,t){const o=t;if(!l.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Om(l){const t=l;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(l){const t={},o=u(l,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(l,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>GT(p))),c(t,["inlinedResponses"],d)}const r=u(l,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["inlinedEmbedContentResponses"],d)}return t}function rT(l){const t={},o=u(l,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(l,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(l,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function uT(l){const t={},o=u(l,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(l,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(l,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(l,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ua(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["metadata","state"]);r!=null&&c(t,["state"],Om(r));const d=u(l,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const p=u(l,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(l,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(l,["metadata","model"]);y!=null&&c(t,["model"],y);const m=u(l,["metadata","output"]);return m!=null&&c(t,["dest"],sT(Bm(m))),t}function yu(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["state"]);r!=null&&c(t,["state"],Om(r));const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(l,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(l,["endTime"]);y!=null&&c(t,["endTime"],y);const m=u(l,["updateTime"]);m!=null&&c(t,["updateTime"],m);const T=u(l,["model"]);T!=null&&c(t,["model"],T);const x=u(l,["inputConfig"]);x!=null&&c(t,["src"],cT(x));const C=u(l,["outputConfig"]);C!=null&&c(t,["dest"],rT(Bm(C)));const _=u(l,["completionStats"]);return _!=null&&c(t,["completionStats"],_),t}function cT(l){const t={},o=u(l,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(l,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(l,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function dT(l,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>kT(l,p))),c(o,["requests","requests"],d)}return o}function fT(l){const t={},o=u(l,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(l,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(l,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function hT(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function pT(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function mT(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function gT(l){const t={},o=u(l,["content"]);o!=null&&c(t,["content"],o);const a=u(l,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],yT(a));const r=u(l,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(l,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(l,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(l,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(l,["index"]);y!=null&&c(t,["index"],y);const m=u(l,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const T=u(l,["safetyRatings"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(_=>_)),c(t,["safetyRatings"],C)}const x=u(l,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function yT(l){const t={},o=u(l,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function zm(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>KT(d))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function vT(l,t){const o={},a=u(l,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(l,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function TT(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],uT(aT(r))),o}function tm(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],dT(l,qm(l,r)));const d=u(t,["config"]);return d!=null&&vT(d,o),o}function xT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Le(l,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],fT(qm(l,r)));const d=u(t,["config"]);return d!=null&&TT(d,o),o}function ST(l,t){const o={},a=u(l,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function CT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],RT(l,r));const d=u(t,["config"]);return d!=null&&ST(d,o),o}function ET(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function _T(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function AT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);return d!=null&&c(t,["error"],d),t}function NT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);return d!=null&&c(t,["error"],d),t}function bT(l,t){const o={},a=u(t,["contents"]);if(a!=null){let d=Ru(l,a);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],MT(r,o)),_v(o,{"requests[].*":"requests[].request.*"})),o}function MT(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(l,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function RT(l,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],bT(l,r)),o}function wT(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function IT(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],zm(ht(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const T=u(t,["stopSequences"]);T!=null&&c(a,["stopSequences"],T);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const C=u(t,["logprobs"]);C!=null&&c(a,["logprobs"],C);const _=u(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const D=u(t,["seed"]);D!=null&&c(a,["seed"],D);const H=u(t,["responseMimeType"]);H!=null&&c(a,["responseMimeType"],H);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],wu(z));const F=u(t,["responseJsonSchema"]);if(F!=null&&c(a,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=u(t,["safetySettings"]);if(o!==void 0&&Y!=null){let te=Y;Array.isArray(te)&&(te=te.map(ae=>YT(ae))),c(o,["safetySettings"],te)}const le=u(t,["tools"]);if(o!==void 0&&le!=null){let te=di(le);Array.isArray(te)&&(te=te.map(ae=>JT(ci(ae)))),c(o,["tools"],te)}const W=u(t,["toolConfig"]);if(o!==void 0&&W!=null&&c(o,["toolConfig"],W),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(t,["cachedContent"]);o!==void 0&&V!=null&&c(o,["cachedContent"],bn(l,V));const J=u(t,["responseModalities"]);J!=null&&c(a,["responseModalities"],J);const ue=u(t,["mediaResolution"]);ue!=null&&c(a,["mediaResolution"],ue);const P=u(t,["speechConfig"]);if(P!=null&&c(a,["speechConfig"],Iu(P)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=u(t,["thinkingConfig"]);ee!=null&&c(a,["thinkingConfig"],ee);const Q=u(t,["imageConfig"]);return Q!=null&&c(a,["imageConfig"],Q),a}function DT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>gT(m))),c(t,["candidates"],y)}const r=u(l,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(l,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(l,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(l,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function UT(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function LT(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],fi(l,a)),o}function PT(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function VT(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function kT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],Le(l,a));const r=u(t,["contents"]);if(r!=null){let g=Yt(r);Array.isArray(g)&&(g=g.map(y=>zm(y))),c(o,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],IT(l,p,u(o,["request"],{}))),o}function GT(l){const t={},o=u(l,["response"]);o!=null&&c(t,["response"],DT(o));const a=u(l,["error"]);return a!=null&&c(t,["error"],a),t}function HT(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(l,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function qT(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(l,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),o}function BT(l){const t={},o=u(l,["config"]);return o!=null&&HT(o,t),t}function OT(l){const t={},o=u(l,["config"]);return o!=null&&qT(o,t),t}function zT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Ua(p))),c(t,["batchJobs"],d)}return t}function FT(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>yu(p))),c(t,["batchJobs"],d)}return t}function KT(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(t,["fileData"],wT(d));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(t,["inlineData"],hT(g));const y=u(l,["text"]);y!=null&&c(t,["text"],y);const m=u(l,["thought"]);m!=null&&c(t,["thought"],m);const T=u(l,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const x=u(l,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function YT(l){const t={},o=u(l,["category"]);if(o!=null&&c(t,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(l,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function JT(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(t,["functionDeclarations"],T)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],PT(g));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],VT(y));const m=u(l,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var An;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents",l.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",l.PAGED_ITEM_DOCUMENTS="documents"})(An||(An={}));class Tl{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,d;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $T extends Nn{constructor(t){super(),this.apiClient=t,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new Tl(An.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}createInlinedGenerateContentRequest(t){const o=tm(this.apiClient,t),a=o._url,r=re("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,m=[];for(const T of y){const x=Object.assign({},T);if(x.systemInstruction){const C=x.systemInstruction;delete x.systemInstruction;const _=x.request;_.systemInstruction=C,x.request=_}m.push(x)}return g.requests=m,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const d=this.getGcsUri(t),p=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=xT(this.apiClient,t);return g=re("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>yu(T))}else{const m=tm(this.apiClient,t);return g=re("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>Ua(T))}}async createEmbeddingsInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CT(this.apiClient,t);return d=re("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ua(y))}}async get(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=LT(this.apiClient,t);return g=re("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>yu(T))}else{const m=UT(this.apiClient,t);return g=re("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>Ua(T))}}async cancel(t){var o,a,r,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=mT(this.apiClient,t);p=re("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=pT(this.apiClient,t);p=re("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=OT(t);return g=re("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=FT(T),C=new Zp;return Object.assign(C,x),C})}else{const m=BT(t);return g=re("batches",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=zT(T),C=new Zp;return Object.assign(C,x),C})}}async delete(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=_T(this.apiClient,t);return g=re("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>NT(T))}else{const m=ET(this.apiClient,t);return g=re("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>AT(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QT(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function nm(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>gx(d))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function XT(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(l,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(l,["contents"]);if(t!==void 0&&p!=null){let T=Yt(p);Array.isArray(T)&&(T=T.map(x=>nm(x))),c(t,["contents"],T)}const g=u(l,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],nm(ht(g)));const y=u(l,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(x=>yx(x))),c(t,["tools"],T)}const m=u(l,["toolConfig"]);if(t!==void 0&&m!=null&&c(t,["toolConfig"],m),u(l,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function ZT(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(l,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(l,["contents"]);if(t!==void 0&&p!=null){let x=Yt(p);Array.isArray(x)&&(x=x.map(C=>C)),c(t,["contents"],x)}const g=u(l,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],ht(g));const y=u(l,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(C=>vx(C))),c(t,["tools"],x)}const m=u(l,["toolConfig"]);t!==void 0&&m!=null&&c(t,["toolConfig"],m);const T=u(l,["kmsKeyName"]);return t!==void 0&&T!=null&&c(t,["encryption_spec","kmsKeyName"],T),o}function WT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Im(l,a));const r=u(t,["config"]);return r!=null&&XT(r,o),o}function jT(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Im(l,a));const r=u(t,["config"]);return r!=null&&ZT(r,o),o}function ex(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],bn(l,a)),o}function tx(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],bn(l,a)),o}function nx(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function lx(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ix(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ox(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function ax(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],bn(l,a)),o}function sx(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],bn(l,a)),o}function rx(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function ux(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function cx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function dx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function fx(l){const t={},o=u(l,["config"]);return o!=null&&cx(o,t),t}function hx(l){const t={},o=u(l,["config"]);return o!=null&&dx(o,t),t}function px(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function mx(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function gx(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(t,["fileData"],ix(d));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(t,["inlineData"],QT(g));const y=u(l,["text"]);y!=null&&c(t,["text"],y);const m=u(l,["thought"]);m!=null&&c(t,["thought"],m);const T=u(l,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const x=u(l,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function yx(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(t,["functionDeclarations"],T)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],rx(g));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],ux(y));const m=u(l,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function vx(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(C=>ox(C))),c(t,["functionDeclarations"],x)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(l,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(l,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(l,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const T=u(l,["urlContext"]);return T!=null&&c(t,["urlContext"],T),t}function Tx(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function xx(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function Sx(l,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],bn(l,a));const r=u(t,["config"]);return r!=null&&Tx(r,o),o}function Cx(l,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],bn(l,a));const r=u(t,["config"]);return r!=null&&xx(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ex extends Nn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Tl(An.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=jT(this.apiClient,t);return g=re("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const m=WT(this.apiClient,t);return g=re("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async get(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=sx(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const m=ax(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async delete(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=tx(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=lx(T),C=new Qp;return Object.assign(C,x),C})}else{const m=ex(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=nx(T),C=new Qp;return Object.assign(C,x),C})}}async update(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Cx(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const m=Sx(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async listInternal(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=hx(t);return g=re("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=mx(T),C=new Xp;return Object.assign(C,x),C})}else{const m=fx(t);return g=re("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=px(T),C=new Xp;return Object.assign(C,x),C})}}}function lm(l){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&l[t],a=0;if(o)return o.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&a>=l.length&&(l=void 0),{value:l&&l[a++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Je(l){return this instanceof Je?(this.v=l,this):new Je(l)}function ri(l,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(l,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(_){return function(I){return Promise.resolve(I).then(_,x)}}function g(_,I){a[_]&&(r[_]=function(D){return new Promise(function(H,z){d.push([_,D,H,z])>1||y(_,D)})},I&&(r[_]=I(r[_])))}function y(_,I){try{m(a[_](I))}catch(D){C(d[0][3],D)}}function m(_){_.value instanceof Je?Promise.resolve(_.value.v).then(T,x):C(d[0][2],_)}function T(_){y("next",_)}function x(_){y("throw",_)}function C(_,I){_(I),d.shift(),d.length&&y(d[0][0],d[0][1])}}function uo(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=l[Symbol.asyncIterator],o;return t?t.call(l):(l=typeof lm=="function"?lm(l):l[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=l[d]&&function(p){return new Promise(function(g,y){p=l[d](p),r(g,y,p.done,p.value)})}}function r(d,p,g,y){Promise.resolve(y).then(function(m){d({value:m,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _x(l){var t;if(l.candidates==null||l.candidates.length===0)return!1;const o=(t=l.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Fm(o)}function Fm(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const t of l.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Ax(l){if(l.length!==0){for(const t of l)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function im(l){if(l===void 0||l.length===0)return[];const t=[],o=l.length;let a=0;for(;a<o;)if(l[a].role==="user")t.push(l[a]),a++;else{const r=[];let d=!0;for(;a<o&&l[a].role==="model";)r.push(l[a]),d&&!Fm(l[a])&&(d=!1),a++;d?t.push(...r):t.pop()}return t}class Nx{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new bx(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class bx{constructor(t,o,a,r={},d=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),Ax(d)}async sendMessage(t){var o;await this.sendPromise;const a=ht(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,g;const y=await r,m=(p=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,T=y.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let C=[];T!=null&&(C=(g=T.slice(x))!==null&&g!==void 0?g:[]);const _=m?[m]:[];this.recordHistory(a,_,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=ht(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,a)}getHistory(t=!1){const o=t?im(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){var a,r;return ri(this,arguments,function*(){var p,g,y,m;const T=[];try{for(var x=!0,C=uo(t),_;_=yield Je(C.next()),p=_.done,!p;x=!0){m=_.value,x=!1;const I=m;if(_x(I)){const D=(r=(a=I.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;D!==void 0&&T.push(D)}yield yield Je(I)}}catch(I){g={error:I}}finally{try{!x&&!p&&(y=C.return)&&(yield Je(y.call(C)))}finally{if(g)throw g.error}}this.recordHistory(o,T)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...im(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Oa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mx(l){const t={},o=u(l,["file"]);return o!=null&&c(t,["file"],o),t}function Rx(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function wx(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","file"],km(o)),t}function Ix(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Dx(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","file"],km(o)),t}function Ux(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function Lx(l){const t={},o=u(l,["config"]);return o!=null&&Ux(o,t),t}function Px(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vx extends Nn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Tl(An.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Lx(t);return d=re("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>{const m=Px(y),T=new Jv;return Object.assign(T,m),T})}}async createInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Mx(t);return d=re("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=Rx(y),T=new $v;return Object.assign(T,m),T})}}async get(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Dx(t);return d=re("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wx(t);return d=re("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>{const m=Ix(y),T=new Qv;return Object.assign(T,m),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function La(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function kx(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>Wx(d))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function Gx(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Hx(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function qx(l){const t={},o=u(l,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(l,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(l,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(l,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(l,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(l,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(l,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(l,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const T=u(l,["mediaResolution"]);T!=null&&c(t,["mediaResolution"],T);const x=u(l,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const C=u(l,["responseLogprobs"]);C!=null&&c(t,["responseLogprobs"],C);const _=u(l,["responseMimeType"]);_!=null&&c(t,["responseMimeType"],_);const I=u(l,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const D=u(l,["responseSchema"]);D!=null&&c(t,["responseSchema"],D);const H=u(l,["routingConfig"]);H!=null&&c(t,["routingConfig"],H);const z=u(l,["seed"]);z!=null&&c(t,["seed"],z);const F=u(l,["speechConfig"]);F!=null&&c(t,["speechConfig"],Km(F));const Y=u(l,["stopSequences"]);Y!=null&&c(t,["stopSequences"],Y);const le=u(l,["temperature"]);le!=null&&c(t,["temperature"],le);const W=u(l,["thinkingConfig"]);W!=null&&c(t,["thinkingConfig"],W);const V=u(l,["topK"]);V!=null&&c(t,["topK"],V);const J=u(l,["topP"]);if(J!=null&&c(t,["topP"],J),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Bx(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function Ox(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function zx(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(l,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const T=u(l,["seed"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","seed"],T);const x=u(l,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Du(x));const C=u(l,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const _=u(l,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const I=u(l,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],kx(ht(I)));const D=u(l,["tools"]);if(t!==void 0&&D!=null){let V=di(D);Array.isArray(V)&&(V=V.map(J=>eS(ci(J)))),c(t,["setup","tools"],V)}const H=u(l,["sessionResumption"]);t!==void 0&&H!=null&&c(t,["setup","sessionResumption"],jx(H));const z=u(l,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(l,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const Y=u(l,["realtimeInputConfig"]);t!==void 0&&Y!=null&&c(t,["setup","realtimeInputConfig"],Y);const le=u(l,["contextWindowCompression"]);t!==void 0&&le!=null&&c(t,["setup","contextWindowCompression"],le);const W=u(l,["proactivity"]);return t!==void 0&&W!=null&&c(t,["setup","proactivity"],W),o}function Fx(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],qx(a));const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(l,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const T=u(l,["seed"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","seed"],T);const x=u(l,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Km(Du(x)));const C=u(l,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const _=u(l,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const I=u(l,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],ht(I));const D=u(l,["tools"]);if(t!==void 0&&D!=null){let V=di(D);Array.isArray(V)&&(V=V.map(J=>tS(ci(J)))),c(t,["setup","tools"],V)}const H=u(l,["sessionResumption"]);t!==void 0&&H!=null&&c(t,["setup","sessionResumption"],H);const z=u(l,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(l,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const Y=u(l,["realtimeInputConfig"]);t!==void 0&&Y!=null&&c(t,["setup","realtimeInputConfig"],Y);const le=u(l,["contextWindowCompression"]);t!==void 0&&le!=null&&c(t,["setup","contextWindowCompression"],le);const W=u(l,["proactivity"]);return t!==void 0&&W!=null&&c(t,["setup","proactivity"],W),o}function Kx(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Le(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],zx(r,o)),o}function Yx(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Le(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],Fx(r,o)),o}function Jx(l){const t={},o=u(l,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function $x(l){const t={},o=u(l,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function Qx(l){const t={},o=u(l,["media"]);if(o!=null){let m=Dm(o);Array.isArray(m)&&(m=m.map(T=>La(T))),c(t,["mediaChunks"],m)}const a=u(l,["audio"]);a!=null&&c(t,["audio"],La(Lm(a)));const r=u(l,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(l,["video"]);d!=null&&c(t,["video"],La(Um(d)));const p=u(l,["text"]);p!=null&&c(t,["text"],p);const g=u(l,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(l,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function Xx(l){const t={},o=u(l,["media"]);if(o!=null){let m=Dm(o);Array.isArray(m)&&(m=m.map(T=>T)),c(t,["mediaChunks"],m)}const a=u(l,["audio"]);a!=null&&c(t,["audio"],Lm(a));const r=u(l,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(l,["video"]);d!=null&&c(t,["video"],Um(d));const p=u(l,["text"]);p!=null&&c(t,["text"],p);const g=u(l,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(l,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function Zx(l){const t={},o=u(l,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(l,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(l,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(l,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const p=u(l,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],nS(p));const g=u(l,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(l,["sessionResumptionUpdate"]);return y!=null&&c(t,["sessionResumptionUpdate"],y),t}function Wx(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(t,["fileData"],Gx(d));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(t,["inlineData"],La(g));const y=u(l,["text"]);y!=null&&c(t,["text"],y);const m=u(l,["thought"]);m!=null&&c(t,["thought"],m);const T=u(l,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const x=u(l,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function jx(l){const t={},o=u(l,["handle"]);if(o!=null&&c(t,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Km(l){const t={},o=u(l,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=u(l,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function eS(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(t,["functionDeclarations"],T)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],Bx(g));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],Ox(y));const m=u(l,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function tS(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(C=>Hx(C))),c(t,["functionDeclarations"],x)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(l,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(l,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(l,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const T=u(l,["urlContext"]);return T!=null&&c(t,["urlContext"],T),t}function nS(l){const t={},o=u(l,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(l,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(l,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(l,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const p=u(l,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(l,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(l,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(I=>I)),c(t,["promptTokensDetails"],_)}const m=u(l,["cacheTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(I=>I)),c(t,["cacheTokensDetails"],_)}const T=u(l,["candidatesTokensDetails"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(I=>I)),c(t,["responseTokensDetails"],_)}const x=u(l,["toolUsePromptTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(I=>I)),c(t,["toolUsePromptTokensDetails"],_)}const C=u(l,["trafficType"]);return C!=null&&c(t,["trafficType"],C),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lS(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function iS(l){const t={},o=u(l,["content"]);o!=null&&c(t,["content"],o);const a=u(l,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],oS(a));const r=u(l,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(l,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(l,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(l,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(l,["index"]);y!=null&&c(t,["index"],y);const m=u(l,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const T=u(l,["safetyRatings"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(_=>_)),c(t,["safetyRatings"],C)}const x=u(l,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function oS(l){const t={},o=u(l,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function aS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["contents"]);if(r!=null){let d=Yt(r);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["contents"],d)}return o}function sS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function rS(l){const t={},o=u(l,["values"]);o!=null&&c(t,["values"],o);const a=u(l,["statistics"]);return a!=null&&c(t,["statistics"],uS(a)),t}function uS(l){const t={},o=u(l,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(l,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function za(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>pC(d))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function cS(l){const t={},o=u(l,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(l,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function dS(l){const t={};if(u(l,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(l,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(l,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function fS(l,t){const o={},a=u(l,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],ht(a));const r=u(l,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>Xm(g))),c(t,["tools"],p)}const d=u(l,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],tC(d)),o}function hS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["contents"]);if(r!=null){let p=Yt(r);Array.isArray(p)&&(p=p.map(g=>za(g))),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&dS(d),o}function pS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["contents"]);if(r!=null){let p=Yt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&fS(d,o),o}function mS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(l,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function gS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function yS(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Le(l,a)),o}function vS(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Le(l,a)),o}function TS(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function xS(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function SS(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(l,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(l,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(l,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(l,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(l,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const T=u(l,["personGeneration"]);t!==void 0&&T!=null&&c(t,["parameters","personGeneration"],T);const x=u(l,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const C=u(l,["includeRaiReason"]);t!==void 0&&C!=null&&c(t,["parameters","includeRaiReason"],C);const _=u(l,["language"]);t!==void 0&&_!=null&&c(t,["parameters","language"],_);const I=u(l,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const D=u(l,["outputCompressionQuality"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","compressionQuality"],D);const H=u(l,["addWatermark"]);t!==void 0&&H!=null&&c(t,["parameters","addWatermark"],H);const z=u(l,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const F=u(l,["editMode"]);t!==void 0&&F!=null&&c(t,["parameters","editMode"],F);const Y=u(l,["baseSteps"]);return t!==void 0&&Y!=null&&c(t,["parameters","editConfig","baseSteps"],Y),o}function CS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>xC(y))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&SS(p,o),o}function ES(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Fa(d))),c(t,["generatedImages"],r)}return t}function _S(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(l,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function AS(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(l,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const p=u(l,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(l,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function NS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["contents"]);if(r!=null){let g=Ru(l,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&_S(d,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],Le(l,p)),o}function bS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["contents"]);if(r!=null){let p=Ru(l,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const d=u(t,["config"]);return d!=null&&AS(d,o),o}function MS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["embeddings"],d)}const r=u(l,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function RS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>rS(p))),c(t,["embeddings"],d)}const r=u(l,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function wS(l){const t={},o=u(l,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(l,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function IS(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function DS(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function US(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],za(ht(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const T=u(t,["stopSequences"]);T!=null&&c(a,["stopSequences"],T);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const C=u(t,["logprobs"]);C!=null&&c(a,["logprobs"],C);const _=u(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const D=u(t,["seed"]);D!=null&&c(a,["seed"],D);const H=u(t,["responseMimeType"]);H!=null&&c(a,["responseMimeType"],H);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],wu(z));const F=u(t,["responseJsonSchema"]);if(F!=null&&c(a,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=u(t,["safetySettings"]);if(o!==void 0&&Y!=null){let te=Y;Array.isArray(te)&&(te=te.map(ae=>SC(ae))),c(o,["safetySettings"],te)}const le=u(t,["tools"]);if(o!==void 0&&le!=null){let te=di(le);Array.isArray(te)&&(te=te.map(ae=>bC(ci(ae)))),c(o,["tools"],te)}const W=u(t,["toolConfig"]);if(o!==void 0&&W!=null&&c(o,["toolConfig"],W),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(t,["cachedContent"]);o!==void 0&&V!=null&&c(o,["cachedContent"],bn(l,V));const J=u(t,["responseModalities"]);J!=null&&c(a,["responseModalities"],J);const ue=u(t,["mediaResolution"]);ue!=null&&c(a,["mediaResolution"],ue);const P=u(t,["speechConfig"]);if(P!=null&&c(a,["speechConfig"],Iu(P)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=u(t,["thinkingConfig"]);ee!=null&&c(a,["thinkingConfig"],ee);const Q=u(t,["imageConfig"]);return Q!=null&&c(a,["imageConfig"],Q),a}function LS(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],ht(r));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const T=u(t,["stopSequences"]);T!=null&&c(a,["stopSequences"],T);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const C=u(t,["logprobs"]);C!=null&&c(a,["logprobs"],C);const _=u(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const D=u(t,["seed"]);D!=null&&c(a,["seed"],D);const H=u(t,["responseMimeType"]);H!=null&&c(a,["responseMimeType"],H);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],wu(z));const F=u(t,["responseJsonSchema"]);F!=null&&c(a,["responseJsonSchema"],F);const Y=u(t,["routingConfig"]);Y!=null&&c(a,["routingConfig"],Y);const le=u(t,["modelSelectionConfig"]);le!=null&&c(a,["modelConfig"],le);const W=u(t,["safetySettings"]);if(o!==void 0&&W!=null){let A=W;Array.isArray(A)&&(A=A.map(X=>X)),c(o,["safetySettings"],A)}const V=u(t,["tools"]);if(o!==void 0&&V!=null){let A=di(V);Array.isArray(A)&&(A=A.map(X=>Xm(ci(X)))),c(o,["tools"],A)}const J=u(t,["toolConfig"]);o!==void 0&&J!=null&&c(o,["toolConfig"],J);const ue=u(t,["labels"]);o!==void 0&&ue!=null&&c(o,["labels"],ue);const P=u(t,["cachedContent"]);o!==void 0&&P!=null&&c(o,["cachedContent"],bn(l,P));const ee=u(t,["responseModalities"]);ee!=null&&c(a,["responseModalities"],ee);const Q=u(t,["mediaResolution"]);Q!=null&&c(a,["mediaResolution"],Q);const te=u(t,["speechConfig"]);te!=null&&c(a,["speechConfig"],Qm(Iu(te)));const ae=u(t,["audioTimestamp"]);ae!=null&&c(a,["audioTimestamp"],ae);const ge=u(t,["thinkingConfig"]);ge!=null&&c(a,["thinkingConfig"],ge);const ce=u(t,["imageConfig"]);return ce!=null&&c(a,["imageConfig"],ce),a}function om(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["contents"]);if(r!=null){let p=Yt(r);Array.isArray(p)&&(p=p.map(g=>za(g))),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],US(l,d,o)),o}function am(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["contents"]);if(r!=null){let p=Yt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],LS(l,d,o)),o}function sm(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>iS(m))),c(t,["candidates"],y)}const r=u(l,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(l,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(l,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(l,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function rm(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(T=>T)),c(t,["candidates"],m)}const r=u(l,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(l,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const p=u(l,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(l,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(l,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function PS(l,t){const o={};if(u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(l,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(l,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(l,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(l,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(l,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const m=u(l,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const T=u(l,["language"]);t!==void 0&&T!=null&&c(t,["parameters","language"],T);const x=u(l,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const C=u(l,["outputCompressionQuality"]);if(t!==void 0&&C!=null&&c(t,["parameters","outputOptions","compressionQuality"],C),u(l,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=u(l,["imageSize"]);if(t!==void 0&&_!=null&&c(t,["parameters","sampleImageSize"],_),u(l,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function VS(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(l,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(l,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(l,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(l,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(l,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const T=u(l,["personGeneration"]);t!==void 0&&T!=null&&c(t,["parameters","personGeneration"],T);const x=u(l,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const C=u(l,["includeRaiReason"]);t!==void 0&&C!=null&&c(t,["parameters","includeRaiReason"],C);const _=u(l,["language"]);t!==void 0&&_!=null&&c(t,["parameters","language"],_);const I=u(l,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const D=u(l,["outputCompressionQuality"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","compressionQuality"],D);const H=u(l,["addWatermark"]);t!==void 0&&H!=null&&c(t,["parameters","addWatermark"],H);const z=u(l,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const F=u(l,["imageSize"]);t!==void 0&&F!=null&&c(t,["parameters","sampleImageSize"],F);const Y=u(l,["enhancePrompt"]);return t!==void 0&&Y!=null&&c(t,["parameters","enhancePrompt"],Y),o}function kS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&PS(d,o),o}function GS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&VS(d,o),o}function HS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>ZS(p))),c(t,["generatedImages"],d)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Jm(r)),t}function qS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Fa(p))),c(t,["generatedImages"],d)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],$m(r)),t}function BS(l,t){const o={},a=u(l,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(l,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(l,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const p=u(l,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(l,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(l,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(l,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const m=u(l,["enhancePrompt"]);if(t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m),u(l,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=u(l,["lastFrame"]);t!==void 0&&T!=null&&c(t,["instances[0]","lastFrame"],Ka(T));const x=u(l,["referenceImages"]);if(t!==void 0&&x!=null){let C=x;Array.isArray(C)&&(C=C.map(_=>qC(_))),c(t,["instances[0]","referenceImages"],C)}if(u(l,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(l,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function OS(l,t){const o={},a=u(l,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(l,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const p=u(l,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(l,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(l,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const m=u(l,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const T=u(l,["personGeneration"]);t!==void 0&&T!=null&&c(t,["parameters","personGeneration"],T);const x=u(l,["pubsubTopic"]);t!==void 0&&x!=null&&c(t,["parameters","pubsubTopic"],x);const C=u(l,["negativePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","negativePrompt"],C);const _=u(l,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const I=u(l,["generateAudio"]);t!==void 0&&I!=null&&c(t,["parameters","generateAudio"],I);const D=u(l,["lastFrame"]);t!==void 0&&D!=null&&c(t,["instances[0]","lastFrame"],Wt(D));const H=u(l,["referenceImages"]);if(t!==void 0&&H!=null){let Y=H;Array.isArray(Y)&&(Y=Y.map(le=>BC(le))),c(t,["instances[0]","referenceImages"],Y)}const z=u(l,["mask"]);t!==void 0&&z!=null&&c(t,["instances[0]","mask"],HC(z));const F=u(l,["compressionQuality"]);return t!==void 0&&F!=null&&c(t,["parameters","compressionQuality"],F),o}function zS(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],JS(p)),t}function FS(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response"]);return p!=null&&c(t,["response"],$S(p)),t}function KS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],Ka(d));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],Zm(p));const g=u(t,["source"]);g!=null&&QS(g,o);const y=u(t,["config"]);return y!=null&&BS(y,o),o}function YS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],Wt(d));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],Wm(p));const g=u(t,["source"]);g!=null&&XS(g,o);const y=u(t,["config"]);return y!=null&&OS(y,o),o}function JS(l){const t={},o=u(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>jS(p))),c(t,["generatedVideos"],d)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function $S(l){const t={},o=u(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>eC(p))),c(t,["generatedVideos"],d)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function QS(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ka(r));const d=u(l,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],Zm(d)),o}function XS(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Wt(r));const d=u(l,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],Wm(d)),o}function ZS(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["image"],aC(o));const a=u(l,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(l,["_self"]);return r!=null&&c(t,["safetyAttributes"],Jm(r)),t}function Fa(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["image"],Ym(o));const a=u(l,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(l,["_self"]);r!=null&&c(t,["safetyAttributes"],$m(r));const d=u(l,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function WS(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["mask"],Ym(o));const a=u(l,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function jS(l){const t={},o=u(l,["video"]);return o!=null&&c(t,["video"],kC(o)),t}function eC(l){const t={},o=u(l,["_self"]);return o!=null&&c(t,["video"],GC(o)),t}function tC(l){const t={},o=u(l,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(l,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(l,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(l,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(l,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(l,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(l,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(l,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const T=u(l,["mediaResolution"]);T!=null&&c(t,["mediaResolution"],T);const x=u(l,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const C=u(l,["responseLogprobs"]);C!=null&&c(t,["responseLogprobs"],C);const _=u(l,["responseMimeType"]);_!=null&&c(t,["responseMimeType"],_);const I=u(l,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const D=u(l,["responseSchema"]);D!=null&&c(t,["responseSchema"],D);const H=u(l,["routingConfig"]);H!=null&&c(t,["routingConfig"],H);const z=u(l,["seed"]);z!=null&&c(t,["seed"],z);const F=u(l,["speechConfig"]);F!=null&&c(t,["speechConfig"],Qm(F));const Y=u(l,["stopSequences"]);Y!=null&&c(t,["stopSequences"],Y);const le=u(l,["temperature"]);le!=null&&c(t,["temperature"],le);const W=u(l,["thinkingConfig"]);W!=null&&c(t,["thinkingConfig"],W);const V=u(l,["topK"]);V!=null&&c(t,["topK"],V);const J=u(l,["topP"]);if(J!=null&&c(t,["topP"],J),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function nC(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Le(l,a)),o}function lC(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Le(l,a)),o}function iC(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function oC(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function aC(l){const t={},o=u(l,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],jn(o));const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Ym(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],jn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ka(l){const t={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(l,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],jn(o));const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Wt(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],jn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function sC(l,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Gm(l,g)),a}function rC(l,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Gm(l,g)),a}function uC(l,t){const o={},a=u(t,["config"]);return a!=null&&sC(l,a,o),o}function cC(l,t){const o={},a=u(t,["config"]);return a!=null&&rC(l,a,o),o}function dC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["_self"]);if(r!=null){let d=Hm(r);Array.isArray(d)&&(d=d.map(p=>vu(p))),c(t,["models"],d)}return t}function fC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["_self"]);if(r!=null){let d=Hm(r);Array.isArray(d)&&(d=d.map(p=>Tu(p))),c(t,["models"],d)}return t}function hC(l){const t={},o=u(l,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(l,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(l,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function vu(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);r!=null&&c(t,["description"],r);const d=u(l,["version"]);d!=null&&c(t,["version"],d);const p=u(l,["_self"]);p!=null&&c(t,["tunedModelInfo"],MC(p));const g=u(l,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(l,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const m=u(l,["supportedGenerationMethods"]);return m!=null&&c(t,["supportedActions"],m),t}function Tu(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);r!=null&&c(t,["description"],r);const d=u(l,["versionId"]);d!=null&&c(t,["version"],d);const p=u(l,["deployedModels"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(C=>wS(C))),c(t,["endpoints"],x)}const g=u(l,["labels"]);g!=null&&c(t,["labels"],g);const y=u(l,["_self"]);y!=null&&c(t,["tunedModelInfo"],RC(y));const m=u(l,["defaultCheckpointId"]);m!=null&&c(t,["defaultCheckpointId"],m);const T=u(l,["checkpoints"]);if(T!=null){let x=T;Array.isArray(x)&&(x=x.map(C=>C)),c(t,["checkpoints"],x)}return t}function pC(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(t,["fileData"],IS(d));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(t,["inlineData"],lS(g));const y=u(l,["text"]);y!=null&&c(t,["text"],y);const m=u(l,["thought"]);m!=null&&c(t,["thought"],m);const T=u(l,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const x=u(l,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function mC(l){const t={},o=u(l,["productImage"]);return o!=null&&c(t,["image"],Wt(o)),t}function gC(l,t){const o={},a=u(l,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","editConfig","baseSteps"],r);const d=u(l,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const p=u(l,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(l,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(l,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const m=u(l,["addWatermark"]);t!==void 0&&m!=null&&c(t,["parameters","addWatermark"],m);const T=u(l,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const x=u(l,["outputCompressionQuality"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","compressionQuality"],x);const C=u(l,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const _=u(l,["labels"]);return t!==void 0&&_!=null&&c(t,["labels"],_),o}function yC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["source"]);r!=null&&TC(r,o);const d=u(t,["config"]);return d!=null&&gC(d,o),o}function vC(l){const t={},o=u(l,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Fa(r))),c(t,["generatedImages"],a)}return t}function TC(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Wt(r));const d=u(l,["productImages"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>mC(g))),c(t,["instances[0]","productImages"],p)}return o}function xC(l){const t={},o=u(l,["referenceImage"]);o!=null&&c(t,["referenceImage"],Wt(o));const a=u(l,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(l,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(l,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],hC(d));const p=u(l,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],cS(p));const g=u(l,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(l,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Jm(l){const t={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(l,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(l,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function $m(l){const t={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(l,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(l,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function SC(l){const t={},o=u(l,["category"]);if(o!=null&&c(t,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(l,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function CC(l){const t={},o=u(l,["image"]);return o!=null&&c(t,["image"],Wt(o)),t}function EC(l,t){const o={},a=u(l,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(l,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(l,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const p=u(l,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(l,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(l,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function _C(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["source"]);r!=null&&NC(r,o);const d=u(t,["config"]);return d!=null&&EC(d,o),o}function AC(l){const t={},o=u(l,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>WS(r))),c(t,["generatedMasks"],a)}return t}function NC(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Wt(r));const d=u(l,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],CC(d)),o}function Qm(l){const t={},o=u(l,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=u(l,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function bC(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(t,["functionDeclarations"],T)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],iC(g));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],oC(y));const m=u(l,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function Xm(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(C=>DS(C))),c(t,["functionDeclarations"],x)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(l,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(l,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(l,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const T=u(l,["urlContext"]);return T!=null&&c(t,["urlContext"],T),t}function MC(l){const t={},o=u(l,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(l,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(l,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function RC(l){const t={},o=u(l,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(l,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(l,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function wC(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(l,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function IC(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(l,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function DC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],Le(l,a));const r=u(t,["config"]);return r!=null&&wC(r,o),o}function UC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["config"]);return r!=null&&IC(r,o),o}function LC(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(l,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const p=u(l,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(l,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(l,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const m=u(l,["enhanceInputImage"]);t!==void 0&&m!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],m);const T=u(l,["imagePreservationFactor"]);t!==void 0&&T!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],T);const x=u(l,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const C=u(l,["numberOfImages"]);t!==void 0&&C!=null&&c(t,["parameters","sampleCount"],C);const _=u(l,["mode"]);return t!==void 0&&_!=null&&c(t,["parameters","mode"],_),o}function PC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Le(l,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Wt(r));const d=u(t,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=u(t,["config"]);return p!=null&&LC(p,o),o}function VC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Fa(d))),c(t,["generatedImages"],r)}return t}function kC(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["encodedVideo"]);a!=null&&c(t,["videoBytes"],jn(a));const r=u(l,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function GC(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],jn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function HC(l){const t={},o=u(l,["image"]);o!=null&&c(t,["_self"],Wt(o));const a=u(l,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function qC(l){const t={},o=u(l,["image"]);o!=null&&c(t,["image"],Ka(o));const a=u(l,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function BC(l){const t={},o=u(l,["image"]);o!=null&&c(t,["image"],Wt(o));const a=u(l,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Zm(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["videoBytes"]);a!=null&&c(t,["encodedVideo"],jn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function Wm(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],jn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OC="Content-Type",zC="X-Server-Timeout",FC="User-Agent",xu="x-goog-api-client",KC="1.29.0",YC=`google-genai-sdk/${KC}`,JC="v1beta1",$C="v1beta",um=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class QC{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:JC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:$C,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(o))typeof d=="object"?a[r]=Object.assign(Object.assign({},a[r]),d):d!==void 0&&(a[r]=d);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const d=new AbortController,p=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=p}return o&&o.extraBody!==null&&XC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await cm(r),new mu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await cm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var o;return ri(this,arguments,function*(){const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:y}=yield Je(r.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=d.decode(y,{stream:!0});try{const x=JSON.parse(m);if("error"in x){const C=JSON.parse(JSON.stringify(x.error)),_=C.status,I=C.code,D=`got status: ${_}. ${JSON.stringify(x)}`;if(I>=400&&I<600)throw new Oa({message:D,status:I})}}catch(x){if(x.name==="ApiError")throw x}p+=m;let T=p.match(um);for(;T;){const x=T[1];try{const C=new Response(x,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Je(new mu(C)),p=p.slice(T[0].length),T=p.match(um)}catch(C){throw new Error(`exception parsing stream chunk ${x}. ${C}`)}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=YC+" "+this.clientOptions.userAgentExtra;return t[FC]=o,t[xu]=o,t[OC]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))a.append(r,d);t.timeout&&t.timeout>0&&a.append(zC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,p=await d.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),T=re("upload/v1beta/files",y._url),x=await this.fetchUploadUrl(T,r.sizeBytes,r.mimeType,m,y,o==null?void 0:o.httpOptions);return d.upload(t,x,this)}async uploadFileToFileSearchStore(t,o,a){var r;const d=this.clientOptions.uploader,p=await d.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,T=this.getFileName(o),x={};a!=null&&a.customMetadata&&(x.customMetadata=a.customMetadata),a!=null&&a.chunkingConfig&&(x.chunkingConfig=a.chunkingConfig);const C=await this.fetchUploadUrl(m,g,y,T,x,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(o,C,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,d,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const T=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(T===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return T}}async function cm(l){var t;if(l===void 0)throw new Error("response is undefined");if(!l.ok){const o=l.status;let a;!((t=l.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await l.json():a={error:{message:await l.text(),code:l.status,status:l.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Oa({message:r,status:o}):new Error(r)}}function XC(l,t){if(!t||Object.keys(t).length===0)return;if(l.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof l.body=="string"&&l.body.length>0)try{const d=JSON.parse(l.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,p){const g=Object.assign({},d);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const m=p[y],T=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&T&&typeof T=="object"&&!Array.isArray(T)?g[y]=a(T,m):(T&&m&&typeof T!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof T}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=a(o,t);l.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZC="mcp_used/unknown";let WC=!1;function jm(l){for(const t of l)if(jC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return WC}function eg(l){var t;const o=(t=l[xu])!==null&&t!==void 0?t:"";l[xu]=(o+` ${ZC}`).trimStart()}function jC(l){return l!==null&&typeof l=="object"&&l instanceof Uu}function eE(l,t=100){return ri(this,arguments,function*(){let a,r=0;for(;r<t;){const d=yield Je(l.listTools({cursor:a}));for(const p of d.tools)yield yield Je(p),r++;if(!d.nextCursor)break;a=d.nextCursor}})}class Uu{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Uu(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const d={},p=[];for(const T of this.mcpClients)try{for(var g=!0,y=(o=void 0,uo(eE(T))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const x=r;p.push(x);const C=x.name;if(d[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);d[C]=T}}catch(x){o={error:x}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),oT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tE(l,t,o){const a=new Zv;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class nE{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=oE(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const T=new Promise(Y=>{m=Y}),x=t.callbacks,C=function(){m({})},_=this.apiClient,I={onopen:C,onmessage:Y=>{tE(_,x.onmessage,Y)},onerror:(o=x==null?void 0:x.onerror)!==null&&o!==void 0?o:function(Y){},onclose:(a=x==null?void 0:x.onclose)!==null&&a!==void 0?a:function(Y){}},D=this.webSocketFactory.create(y,iE(p),I);D.connect(),await T;const F={setup:{model:Le(this.apiClient,t.model)}};return D.send(JSON.stringify(F)),new lE(D,this.apiClient)}}class lE{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=$x(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=Jx(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(ai.PLAY)}pause(){this.sendPlaybackControl(ai.PAUSE)}stop(){this.sendPlaybackControl(ai.STOP)}resetContext(){this.sendPlaybackControl(ai.RESET_CONTEXT)}close(){this.conn.close()}}function iE(l){const t={};return l.forEach((o,a)=>{t[a]=o}),t}function oE(l){const t=new Headers;for(const[o,a]of Object.entries(l))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function sE(l,t,o){const a=new Xv;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(l.isVertexAI()){const p=Zx(d);Object.assign(a,p)}else Object.assign(a,d);t(a)}class rE{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new nE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,d,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let T;const x=this.apiClient.getHeaders();t.config&&t.config.tools&&jm(t.config.tools)&&eg(x);const C=fE(x);if(this.apiClient.isVertexAI())T=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,T);else{const P=this.apiClient.getApiKey();let ee="BidiGenerateContent",Q="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ee="BidiGenerateContentConstrained",Q="access_token"),T=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ee}?${Q}=${P}`}let _=()=>{};const I=new Promise(P=>{_=P}),D=t.callbacks,H=function(){var P;(P=D==null?void 0:D.onopen)===null||P===void 0||P.call(D),_({})},z=this.apiClient,F={onopen:H,onmessage:P=>{sE(z,D.onmessage,P)},onerror:(o=D==null?void 0:D.onerror)!==null&&o!==void 0?o:function(P){},onclose:(a=D==null?void 0:D.onclose)!==null&&a!==void 0?a:function(P){}},Y=this.webSocketFactory.create(T,dE(C),F);Y.connect(),await I;let le=Le(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&le.startsWith("publishers/")){const P=this.apiClient.getProject(),ee=this.apiClient.getLocation();le=`projects/${P}/locations/${ee}/`+le}let W={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ka.AUDIO]}:t.config.responseModalities=[ka.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],J=[];for(const P of V)if(this.isCallableTool(P)){const ee=P;J.push(await ee.tool())}else J.push(P);J.length>0&&(t.config.tools=J);const ue={model:le,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?W=Yx(this.apiClient,ue):W=Kx(this.apiClient,ue),delete W.config,Y.send(JSON.stringify(W)),new cE(Y,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const uE={turnComplete:!0};class cE{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Yt(o.turns),t.isVertexAI()||(a=a.map(r=>za(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(aE)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},uE),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Xx(t)}:o={realtimeInput:Qx(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function dE(l){const t={};return l.forEach((o,a)=>{t[a]=o}),t}function fE(l){const t=new Headers;for(const[o,a]of Object.entries(l))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dm=10;function fm(l){var t,o,a;if(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=l==null?void 0:l.tools)!==null&&o!==void 0?o:[])if(ui(p)){r=!0;break}if(!r)return!0;const d=(a=l==null?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function ui(l){return"callTool"in l&&typeof l.callTool=="function"}function hE(l){var t,o,a;return(a=(o=(t=l.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>ui(r)))!==null&&a!==void 0?a:!1}function hm(l){var t;const o=[];return!((t=l==null?void 0:l.config)===null||t===void 0)&&t.tools&&l.config.tools.forEach((a,r)=>{if(ui(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(r)}),o}function pm(l){var t;return!(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pE extends Nn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,d,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!hE(o)||fm(o.config))return await this.generateContentInternal(y);const m=hm(o);if(m.length>0){const D=m.map(H=>`tools[${H}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${D}.`)}let T,x;const C=Yt(y.contents),_=(d=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:dm;let I=0;for(;I<_&&(T=await this.generateContentInternal(y),!(!T.functionCalls||T.functionCalls.length===0));){const D=T.candidates[0].content,H=[];for(const z of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(ui(z)){const Y=await z.callTool(T.functionCalls);H.push(...Y)}I++,x={role:"user",parts:H},y.contents=Yt(y.contents),y.contents.push(D),y.contents.push(x),pm(y.config)&&(C.push(D),C.push(x))}return pm(y.config)&&(T.automaticFunctionCallingHistory=C),T},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),fm(o.config)){const r=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(r)}const a=hm(o);if(a.length>0){const r=a.map(d=>`tools[${d}]`).join(", ");throw new Error(`Incompatible tools found at ${r}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let d;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:p.push(y);let g;return d?g={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Tl(An.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,d,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(d=o.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const d=(o=t.config)===null||o===void 0?void 0:o.tools;if(!d)return t;const p=await Promise.all(d.map(async y=>ui(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&jm(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),eg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var o,a,r;const d=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(ui(p)){const g=p,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(d.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);d.set(m.name,g)}}return d}async processAfcStream(t){var o,a,r;const d=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:dm;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,T,x){var C,_;return ri(this,arguments,function*(){for(var I,D,H,z;g<d;){p&&(g++,p=!1);const W=yield Je(m.processParamsMaybeAddMcpUsage(x)),V=yield Je(m.generateContentStreamInternal(W)),J=[],ue=[];try{for(var F=!0,Y=(D=void 0,uo(V)),le;le=yield Je(Y.next()),I=le.done,!I;F=!0){z=le.value,F=!1;const P=z;if(yield yield Je(P),P.candidates&&(!((C=P.candidates[0])===null||C===void 0)&&C.content)){ue.push(P.candidates[0].content);for(const ee of(_=P.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(g<d&&ee.functionCall){if(!ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(ee.functionCall.name)){const Q=yield Je(T.get(ee.functionCall.name).callTool([ee.functionCall]));J.push(...Q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${ee.functionCall.name}`)}}}}catch(P){D={error:P}}finally{try{!F&&!I&&(H=Y.return)&&(yield Je(H.call(Y)))}finally{if(D)throw D.error}}if(J.length>0){p=!0;const P=new ro;P.candidates=[{content:{role:"user",parts:J}}],yield yield Je(P);const ee=[];ee.push(...ue),ee.push({role:"user",parts:J});const Q=Yt(x.contents).concat(ee);x.contents=Q}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=am(this.apiClient,t);return g=re("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=rm(T),C=new ro;return Object.assign(C,x),C})}else{const m=om(this.apiClient,t);return g=re("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=sm(T),C=new ro;return Object.assign(C,x),C})}}async generateContentStreamInternal(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=am(this.apiClient,t);return g=re("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(x){return ri(this,arguments,function*(){var C,_,I,D;try{for(var H=!0,z=uo(x),F;F=yield Je(z.next()),C=F.done,!C;H=!0){D=F.value,H=!1;const Y=D,le=rm(yield Je(Y.json()));le.sdkHttpResponse={headers:Y.headers};const W=new ro;Object.assign(W,le),yield yield Je(W)}}catch(Y){_={error:Y}}finally{try{!H&&!C&&(I=z.return)&&(yield Je(I.call(z)))}finally{if(_)throw _.error}}})})}else{const m=om(this.apiClient,t);return g=re("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(x){return ri(this,arguments,function*(){var C,_,I,D;try{for(var H=!0,z=uo(x),F;F=yield Je(z.next()),C=F.done,!C;H=!0){D=F.value,H=!1;const Y=D,le=sm(yield Je(Y.json()));le.sdkHttpResponse={headers:Y.headers};const W=new ro;Object.assign(W,le),yield yield Je(W)}}catch(Y){_={error:Y}}finally{try{!H&&!C&&(I=z.return)&&(yield Je(I.call(z)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=bS(this.apiClient,t);return g=re("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=RS(T),C=new zp;return Object.assign(C,x),C})}else{const m=NS(this.apiClient,t);return g=re("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=MS(T),C=new zp;return Object.assign(C,x),C})}}async generateImagesInternal(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=GS(this.apiClient,t);return g=re("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=qS(T),C=new Fp;return Object.assign(C,x),C})}else{const m=kS(this.apiClient,t);return g=re("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=HS(T),C=new Fp;return Object.assign(C,x),C})}}async editImageInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=CS(this.apiClient,t);return d=re("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>{const m=ES(y),T=new Hv;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=PC(this.apiClient,t);return d=re("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>{const m=VC(y),T=new qv;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=yC(this.apiClient,t);return d=re("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=vC(y),T=new Bv;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=_C(this.apiClient,t);return d=re("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=AC(y),T=new Ov;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=lC(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>Tu(T))}else{const m=nC(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>vu(T))}}async listInternal(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=cC(this.apiClient,t);return g=re("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=fC(T),C=new Kp;return Object.assign(C,x),C})}else{const m=uC(this.apiClient,t);return g=re("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=dC(T),C=new Kp;return Object.assign(C,x),C})}}async update(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=UC(this.apiClient,t);return g=re("{model}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>Tu(T))}else{const m=DC(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>vu(T))}}async delete(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=vS(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=xS(T),C=new Yp;return Object.assign(C,x),C})}else{const m=yS(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=TS(T),C=new Yp;return Object.assign(C,x),C})}}async countTokens(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=pS(this.apiClient,t);return g=re("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=gS(T),C=new Jp;return Object.assign(C,x),C})}else{const m=hS(this.apiClient,t);return g=re("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=mS(T),C=new Jp;return Object.assign(C,x),C})}}async computeTokens(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=aS(this.apiClient,t);return d=re("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>{const m=sS(y),T=new zv;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=YS(this.apiClient,t);return g=re("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>{const x=FS(T),C=new Ga;return Object.assign(C,x),C})}else{const m=KS(this.apiClient,t);return g=re("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>{const x=zS(T),C=new Ga;return Object.assign(C,x),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mE extends Nn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Uv(t);return g=re("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p}else{const m=Dv(t);return g=re("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=Av(t);return d=re("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gE(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function yE(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>AE(d))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function vE(l,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],_E(l,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function TE(l,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],vE(l,a,o)),o}function xE(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function SE(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function CE(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function EE(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(l,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const T=u(l,["seed"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","seed"],T);const x=u(l,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Du(x));const C=u(l,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const _=u(l,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const I=u(l,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],yE(ht(I)));const D=u(l,["tools"]);if(t!==void 0&&D!=null){let V=di(D);Array.isArray(V)&&(V=V.map(J=>bE(ci(J)))),c(t,["setup","tools"],V)}const H=u(l,["sessionResumption"]);t!==void 0&&H!=null&&c(t,["setup","sessionResumption"],NE(H));const z=u(l,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(l,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const Y=u(l,["realtimeInputConfig"]);t!==void 0&&Y!=null&&c(t,["setup","realtimeInputConfig"],Y);const le=u(l,["contextWindowCompression"]);t!==void 0&&le!=null&&c(t,["setup","contextWindowCompression"],le);const W=u(l,["proactivity"]);return t!==void 0&&W!=null&&c(t,["setup","proactivity"],W),o}function _E(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Le(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],EE(r,o)),o}function AE(l){const t={},o=u(l,["functionCall"]);o!=null&&c(t,["functionCall"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(t,["fileData"],xE(d));const p=u(l,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(t,["inlineData"],gE(g));const y=u(l,["text"]);y!=null&&c(t,["text"],y);const m=u(l,["thought"]);m!=null&&c(t,["thought"],m);const T=u(l,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const x=u(l,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function NE(l){const t={},o=u(l,["handle"]);if(o!=null&&c(t,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function bE(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(t,["functionDeclarations"],T)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],SE(g));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],CE(y));const m=u(l,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ME(l){const t=[];for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)){const a=l[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(d=>`${o}.${d}`);t.push(...r)}else t.push(o)}return t.join(",")}function RE(l,t){let o=null;const a=l.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(l.bidiGenerateContentSetup=d,o=d):delete l.bidiGenerateContentSetup}else a!==void 0&&delete l.bidiGenerateContentSetup;const r=l.fieldMask;if(o){const d=ME(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?l.fieldMask=d:delete l.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>p.includes(m)?`generationConfig.${m}`:m));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?l.fieldMask=y.join(","):delete l.fieldMask}else delete l.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?l.fieldMask=r.join(","):delete l.fieldMask;return l}class wE extends Nn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=TE(this.apiClient,t);d=re("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=RE(g,t.config);return r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IE(l,t){const o={},a=u(l,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function DE(l){const t={},o=u(l,["config"]);return o!=null&&IE(o,t),t}function UE(l,t){const o={},a=u(l,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function LE(l){const t={},o=u(l,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(l,["config"]);return a!=null&&UE(a,t),t}function PE(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","name"],o),t}function VE(l,t){const o={},a=u(l,["customMetadata"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["customMetadata"],d)}const r=u(l,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function kE(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const d=u(l,["error"]);d!=null&&c(t,["error"],d);const p=u(l,["response"]);return p!=null&&c(t,["response"],HE(p)),t}function GE(l){const t={},o=u(l,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(l,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(l,["config"]);return r!=null&&VE(r,t),t}function HE(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function qE(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function BE(l){const t={},o=u(l,["config"]);return o!=null&&qE(o,t),t}function OE(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["fileSearchStores"],d)}return t}function zE(l,t){const o={},a=u(l,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(l,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(l,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(l,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function FE(l){const t={},o=u(l,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(l,["config"]);return a!=null&&zE(a,t),t}function KE(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YE(l,t){const o={},a=u(l,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function JE(l){const t={},o=u(l,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(l,["config"]);return a!=null&&YE(a,t),t}function $E(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","name"],o),t}function QE(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function XE(l){const t={},o=u(l,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(l,["config"]);return a!=null&&QE(a,t),t}function ZE(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WE extends Nn{constructor(t){super(),this.apiClient=t,this.list=async o=>new Tl(An.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$E(t);return d=re("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=JE(t);r=re("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=XE(t);return d=re("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=ZE(y),T=new Fv;return Object.assign(T,m),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jE extends Nn{constructor(t,o=new WE(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new Tl(An.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DE(t);return d=re("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PE(t);return d=re("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=LE(t);r=re("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=BE(t);return d=re("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=OE(y),T=new Kv;return Object.assign(T,m),T})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FE(t);return d=re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=KE(y),T=new Yv;return Object.assign(T,m),T})}}async importFile(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GE(t);return d=re("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=kE(y),T=new bu;return Object.assign(T,m),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function t_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function n_(l,t,o){const a={};if(u(l,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(l,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(l,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(l,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const p=u(l,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(l,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(l,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(l,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(l,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(l,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(l,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function l_(l,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const _=u(l,["validationDataset"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec"],mm(_))}else if(r==="PREFERENCE_TUNING"){const _=u(l,["validationDataset"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec"],mm(_))}const d=u(l,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const p=u(l,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const _=u(l,["epochCount"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(g==="PREFERENCE_TUNING"){const _=u(l,["epochCount"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const _=u(l,["learningRateMultiplier"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(y==="PREFERENCE_TUNING"){const _=u(l,["learningRateMultiplier"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const _=u(l,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(m==="PREFERENCE_TUNING"){const _=u(l,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let T=u(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const _=u(l,["adapterSize"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(T==="PREFERENCE_TUNING"){const _=u(l,["adapterSize"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(u(l,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(l,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=u(l,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const C=u(l,["beta"]);return t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],C),a}function i_(l,t){const o={},a=u(l,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(l,["trainingDataset"]);d!=null&&m_(d);const p=u(l,["config"]);return p!=null&&n_(p,o),o}function o_(l,t){const o={},a=u(l,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(l,["trainingDataset"]);d!=null&&g_(d,o,t);const p=u(l,["config"]);return p!=null&&l_(p,o,t),o}function a_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function s_(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function r_(l,t,o){const a={},r=u(l,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(l,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(l,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function u_(l,t,o){const a={},r=u(l,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(l,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(l,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function c_(l,t){const o={},a=u(l,["config"]);return a!=null&&r_(a,o),o}function d_(l,t){const o={},a=u(l,["config"]);return a!=null&&u_(a,o),o}function f_(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(l,["tunedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>tg(g))),c(o,["tuningJobs"],p)}return o}function h_(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(l,["tuningJobs"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Su(g))),c(o,["tuningJobs"],p)}return o}function p_(l,t){const o={},a=u(l,["name"]);a!=null&&c(o,["model"],a);const r=u(l,["name"]);return r!=null&&c(o,["endpoint"],r),o}function m_(l,t){const o={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(l,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(l,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["examples","examples"],r)}return o}function g_(l,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(l,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(l,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let d=u(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=u(l,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(d==="PREFERENCE_TUNING"){const p=u(l,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(l,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function tg(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["state"]);d!=null&&c(o,["state"],Vm(d));const p=u(l,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(l,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(l,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const m=u(l,["updateTime"]);m!=null&&c(o,["updateTime"],m);const T=u(l,["description"]);T!=null&&c(o,["description"],T);const x=u(l,["baseModel"]);x!=null&&c(o,["baseModel"],x);const C=u(l,["_self"]);return C!=null&&c(o,["tunedModel"],p_(C)),o}function Su(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["state"]);d!=null&&c(o,["state"],Vm(d));const p=u(l,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(l,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(l,["endTime"]);y!=null&&c(o,["endTime"],y);const m=u(l,["updateTime"]);m!=null&&c(o,["updateTime"],m);const T=u(l,["error"]);T!=null&&c(o,["error"],T);const x=u(l,["description"]);x!=null&&c(o,["description"],x);const C=u(l,["baseModel"]);C!=null&&c(o,["baseModel"],C);const _=u(l,["tunedModel"]);_!=null&&c(o,["tunedModel"],_);const I=u(l,["preTunedModel"]);I!=null&&c(o,["preTunedModel"],I);const D=u(l,["supervisedTuningSpec"]);D!=null&&c(o,["supervisedTuningSpec"],D);const H=u(l,["preferenceOptimizationSpec"]);H!=null&&c(o,["preferenceOptimizationSpec"],H);const z=u(l,["tuningDataStats"]);z!=null&&c(o,["tuningDataStats"],z);const F=u(l,["encryptionSpec"]);F!=null&&c(o,["encryptionSpec"],F);const Y=u(l,["partnerModelTuningSpec"]);Y!=null&&c(o,["partnerModelTuningSpec"],Y);const le=u(l,["customBaseModel"]);le!=null&&c(o,["customBaseModel"],le);const W=u(l,["experiment"]);W!=null&&c(o,["experiment"],W);const V=u(l,["labels"]);V!=null&&c(o,["labels"],V);const J=u(l,["outputUri"]);J!=null&&c(o,["outputUri"],J);const ue=u(l,["pipelineJob"]);ue!=null&&c(o,["pipelineJob"],ue);const P=u(l,["serviceAccount"]);P!=null&&c(o,["serviceAccount"],P);const ee=u(l,["tunedModelDisplayName"]);ee!=null&&c(o,["tunedModelDisplayName"],ee);const Q=u(l,["veoTuningSpec"]);return Q!=null&&c(o,["veoTuningSpec"],Q),o}function y_(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(l,["done"]);p!=null&&c(o,["done"],p);const g=u(l,["error"]);return g!=null&&c(o,["error"],g),o}function mm(l,t){const o={},a=u(l,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(l,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v_ extends Nn{constructor(t){super(),this.apiClient=t,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Tl(An.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:pu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=s_(t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>Su(T))}else{const m=a_(t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>tg(T))}}async listInternal(t){var o,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=d_(t);return g=re("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=h_(T),C=new $p;return Object.assign(C,x),C})}else{const m=c_(t);return g=re("tunedModels",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:T.headers},C})),p.then(T=>{const x=f_(T),C=new $p;return Object.assign(C,x),C})}}async cancel(t){var o,a,r,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=t_(t);p=re("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=e_(t);p=re("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=o_(t,t);return d=re("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>Su(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=i_(t);return d=re("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const T=m;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>y_(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T_{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const x_=1024*1024*8,S_=3,C_=1e3,E_=2,qa="x-goog-upload-status";async function __(l,t,o){var a;const r=await ng(l,t,o),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[qa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function A_(l,t,o){var a;const r=await ng(l,t,o),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[qa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=wm(d),g=new Mu;return Object.assign(g,p),g}async function ng(l,t,o){var a,r;let d=0,p=0,g=new mu(new Response),y="upload";for(d=l.size;p<d;){const m=Math.min(x_,d-p),T=l.slice(p,p+m);p+m>=d&&(y+=", finalize");let x=0,C=C_;for(;x<S_&&(g=await o.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[qa]));)x++,await b_(C),C=C*E_;if(p+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[qa])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function N_(l){return{size:l.size,type:l.type}}function b_(l){return new Promise(t=>setTimeout(t,l))}class M_{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await __(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await A_(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await N_(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R_{create(t,o,a){return new w_(t,o,a)}}class w_{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gm="x-goog-api-key";class I_{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(gm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(gm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D_="gl-node/";class Lu{constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=Ev(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const r=new I_(this.apiKey);this.apiClient=new QC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:D_+"web",uploader:new M_,downloader:new T_}),this.models=new pE(this.apiClient),this.live=new rE(this.apiClient,r,new R_),this.batches=new $T(this.apiClient),this.chats=new Nx(this.models,this.apiClient),this.caches=new Ex(this.apiClient),this.files=new Vx(this.apiClient),this.operations=new mE(this.apiClient),this.authTokens=new wE(this.apiClient),this.tunings=new v_(this.apiClient),this.fileSearchStores=new jE(this.apiClient)}}const Pu=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),U_=l=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3H5.25A2.25 2.25 0 003 5.25v1.5"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V1.5a1.5 1.5 0 00-3 0v2.25"})]}),fo=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),L_=l=>l.reduce((t,o)=>(t.totalRevenue+=o.calculated.totalRevenue||0,t.grossProfit+=o.calculated.grossProfit||0,t.profitBeforeTax+=o.calculated.profitBeforeTax||0,t.netProfit+=o.calculated.netProfit||0,t.totalSellingCost+=o.calculated.totalSellingCost||0,t.totalGaCost+=o.calculated.totalGaCost||0,t.totalCOGS+=o.calculated.totalCOGS||0,t.totalFinancialCost+=o.calculated.totalFinancialCost||0,t),{totalRevenue:0,grossProfit:0,profitBeforeTax:0,netProfit:0,totalSellingCost:0,totalGaCost:0,totalCOGS:0,totalFinancialCost:0}),P_=({items:l,uncalculatedItems:t,settings:o,onOpenAiAssistant:a})=>{const[r,d]=j.useState(!1),[p,g]=j.useState(0),[y,m]=j.useState(""),[T,x]=j.useState(!1),[C,_]=j.useState(!1),[I,D]=j.useState(""),H=V=>{if(l.length===0)return r||alert("Vui lng thm t nht mt sn phm vo k hoch  to bo co."),null;const J=Mm(l,o.exchangeRateImport,o.exchangeRateTax,V);return new Blob([J],{type:"text/html"})},z=()=>{const V=H();if(V){const J=URL.createObjectURL(V);window.open(J,"_blank")}},F=()=>{l.length===0||r||(d(!0),x(!0),g(0),m("ang chun b file..."),setTimeout(()=>{const V=H();if(V){g(100),m("Hon tt! ang ti xung...");const J=URL.createObjectURL(V),ue=document.createElement("a");ue.href=J,ue.download="KeHoachKinhDoanh.html",document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),URL.revokeObjectURL(J),setTimeout(()=>{x(!1),d(!1)},2e3)}else x(!1),d(!1)},300))},Y=()=>{if(l.length===0){alert("Vui lng thm t nht mt sn phm vo k hoch  lu.");return}_(!0)},le=()=>{if(!I.trim()){alert("Vui lng nhp tn cho k hoch.");return}try{const V={id:`plan-${Date.now()}`,name:I.trim(),createdAt:new Date().toISOString(),planItems:t,settings:o},J=localStorage.getItem("savedBusinessPlans"),ue=J?JSON.parse(J):[];ue.push(V),localStorage.setItem("savedBusinessPlans",JSON.stringify(ue)),alert(` lu thnh cng k hoch "${V.name}"!`),D(""),_(!1)}catch(V){console.error("Failed to save plan:",V),alert(" c li xy ra khi lu k hoch. Vui lng th li.")}},W=async()=>{if(l.length===0){alert("Vui lng thm t nht mt sn phm vo k hoch  to phn tch.");return}d(!0),x(!0),g(10),m("Bt u qu trnh...");try{const V=L_(l),J=V.totalRevenue,ue=J>0?(V.grossProfit/J*100).toFixed(2):"0",P=J>0?(V.netProfit/J*100).toFixed(2):"0";g(30),m("ang chun b d liu cho AI...");const ee=`
          **Bi cnh:**
          ng vai mt AI chuyn ngnh phn tch ti chnh doanh nghip vi nhiu nm kinh nghim trong lnh vc nh gi v nh gi hiu qu hot ng kinh doanh.
          
          **Nhim v:**
          Da vo d liu tm tt t mt k hoch kinh doanh di y, hy c v phn tch bo co kt qu kinh doanh. Hy trnh by mt bn phn tch chuyn su, logic, v c lun c r rng.

          **D liu k hoch kinh doanh:**
          - **Tng Doanh thu thun:** ${O(J)} VND
          - **Tng Gi vn hng bn (COGS):** ${O(V.totalCOGS)} VND
          - **Tng Li nhun gp:** ${O(V.grossProfit)} VND
          - **Tng Chi ph hot ng (Bn hng + QLDN):** ${O(V.totalSellingCost+V.totalGaCost)} VND
          - **Tng Chi ph ti chnh:** ${O(V.totalFinancialCost)} VND
          - **Tng Li nhun trc thu:** ${O(V.profitBeforeTax)} VND
          - **Tng Li nhun rng (sau thu):** ${O(V.netProfit)} VND

          **Cc ch s hiu sut chnh:**
          - **T sut li nhun gp:** ${ue}%
          - **T sut li nhun rng:** ${P}%
          - **C cu chi ph trn doanh thu:**
            - T l Gi vn: ${(J>0?V.totalCOGS/J*100:0).toFixed(2)}%
            - T l Chi ph hot ng: ${(J>0?(V.totalSellingCost+V.totalGaCost)/J*100:0).toFixed(2)}%
          - **S lng sn phm trong k hoch:** ${l.length}

          **Lu  cc k quan trng v d liu:**
          Bo co ny CH cung cp d liu t Bo co kt qu hot ng kinh doanh (P&L). Hon ton KHNG c d liu t Bng cn i k ton (Ti sn, N, Vn ch s hu) hoc Bo co lu chuyn tin t. Do , khi c yu cu phn tch cc ch s nh ROE, ROA, P/E, h s n, kh nng thanh ton, vng quay vn, vng quay hng tn kho, bn PHI nu r l khng c  d liu v phi a ra cc gi nh hp l  c tnh v phn tch mt cch nh tnh. V d: "Gi s tng ti sn l X v vn ch s hu l Y...". Ghi ch r rng v cc gi nh ny.

          **Yu cu cu trc v ni dung phn tch:**
          Bn phn tch cn c cc mc sau:
          1.  **Phn tch tng quan:** Tm tt ngn gn v doanh nghip (ngnh thng mi nhp khu thc phm ng lnh), lnh vc hot ng v quy m da trn doanh thu.
          2.  **nh gi kt qu kinh doanh:**
              - Phn tch doanh thu, li nhun gp, li nhun thun, chi ph hot ng v cc bin li nhun.
              - So snh (c tnh) kt qu hin ti vi cc doanh nghip cng ngnh thng mi nhp khu bn hng thc phm ng lnh ti Vit Nam.
          3.  **Phn tch im ha vn (Break-even Point):**
              - c tnh im ha vn bng cch phn loi chi ph (gi vn, chi ph bn hng...) thnh bin ph v nh ph. Nu r gi nh phn loi ca bn.
              - nh gi mi quan h gia im ha vn v cu trc chi ph ca doanh nghip.
              - Nhn xt v mc  an ton ti chnh v nng lc sinh li.
          4.  **Phn tch cc ch s ti chnh chnh (Da trn gi nh):**
              - ROE, ROA, EPS, P/E, h s n/vn, kh nng thanh ton.
              - Vng quay ca vn, vng quay ca hng tn kho (da trn gi nh v thi gian, v d: k hoch ny cho 1 thng hay 1 qu).
              - Tnh ton thi gian 1 nm quay c my vng v hiu qu t l % li nhun.
          5.  **Nhn nh v d bo:**
              - nh gi xu hng ti chnh, cc ri ro v c hi tim nng ca ngnh hng ny.
          6.  **Kt lun:** Tm tt sc khe ti chnh tng th v trin vng tng lai ca doanh nghip da trn k hoch ny.

          **Yu cu trnh by:**
          - Tr v di dng HTML. Ch s dng cc th sau: \`<h3>\` cho tiu  mc, \`<p>\` cho on vn, \`<ul>\`, \`<li>\` cho danh sch, \`<strong>\`  nhn mnh, v \`<table>\`, \`<thead>\`, \`<tbody>\`, \`<tr>\`, \`<th>\`, \`<td>\` cho bng. Khng bao gm th \`<html>\`, \`<body>\` hay \`<head>\`.
          - Ngn ng chuyn nghip, r rng, sc tch v mang phong cch hc thut.
        `;g(50),m("ang gi yu cu n AI...");const ae=(await new Lu({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:ee})).text;g(85),m("AI  phn tch xong, ang to file bo co...");const ge=H(ae);if(ge){const ce=URL.createObjectURL(ge),A=document.createElement("a");A.href=ce,A.download="KeHoachKinhDoanh_CoPhanTich.html",document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(ce)}g(100),m("Hon tt! Bo co  c ti xung."),setTimeout(()=>{x(!1),d(!1)},3e3)}catch(V){console.error("Error generating AI analysis:",V),g(100),m(" c li xy ra! Vui lng th li."),setTimeout(()=>{x(!1),d(!1)},4e3)}};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-3 mb-4 flex items-center",children:[v.jsx(Va,{className:"h-5 w-5 mr-2 text-gray-500"}),"Bo co & Phn tch"]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Lu, to bo co tng hp, chi tit v phn tch k hoch kinh doanh bng AI."}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Chn mt trong cc ty chn di y  xem trc hoc ti v."})]}),v.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[v.jsxs("button",{onClick:z,disabled:l.length===0||r,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-200 disabled:cursor-not-allowed",children:[v.jsx(Au,{className:"h-5 w-5 mr-2"}),"Xem trc"]}),v.jsxs("button",{onClick:a,disabled:l.length===0||r,className:"w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-300 disabled:cursor-not-allowed",children:[v.jsx(Pu,{className:"h-5 w-5 mr-2"}),"Yu cu chnh sa"]}),v.jsxs("button",{onClick:Y,disabled:l.length===0||r,className:"w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:bg-gray-300 disabled:cursor-not-allowed",children:[v.jsx(U_,{className:"h-5 w-5 mr-2"}),"Lu K hoch"]}),v.jsxs("button",{onClick:F,disabled:l.length===0||r,className:"w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-gray-300 disabled:cursor-not-allowed",children:[v.jsx(Va,{className:"h-5 w-5 mr-2"}),"Ti V"]}),v.jsx("div",{className:"hidden sm:block"}),v.jsxs("button",{onClick:W,disabled:l.length===0||r,className:"col-span-2 sm:col-span-3 w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-300 disabled:cursor-not-allowed",children:[v.jsx(Rm,{className:"h-5 w-5 mr-2"}),r?"ang x l...":"Ti v & Phn tch (AI)"]})]}),T&&v.jsxs("div",{className:"mt-4",children:[v.jsx("p",{className:"text-sm text-center text-gray-600 mb-2",children:y}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:v.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${p}%`}})})]})]}),C&&v.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>_(!1),children:v.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:V=>V.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Lu K hoch Kinh doanh"}),v.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:v.jsx(fo,{className:"h-6 w-6"})})]}),v.jsxs("main",{className:"p-6 space-y-4",children:[v.jsx("label",{htmlFor:"plan-name",className:"block text-sm font-medium text-gray-700",children:"t tn cho k hoch ca bn  d dng nhn bit sau ny."}),v.jsx("input",{id:"plan-name",type:"text",value:I,onChange:V=>D(V.target.value),onKeyPress:V=>V.key==="Enter"&&le(),placeholder:"V d: Phng n kinh doanh thng 10",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",autoFocus:!0})]}),v.jsxs("footer",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg space-x-2",children:[v.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",children:"Hy"}),v.jsx("button",{onClick:le,className:"px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Lu"})]})]})})]})},V_=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),k_=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),ym=window.SpeechRecognition||window.webkitSpeechRecognition,Ut=ym?new ym:null;Ut&&(Ut.continuous=!1,Ut.lang="vi-VN",Ut.interimResults=!1);const wa={so_luong_kg:"quantityInKg",gia_mua_usd:"priceUSDPerTon",gia_ban_vnd:"sellingPriceVNDPerKg",phi_hai_quan:"costs.customsFee",phi_kiem_dich:"costs.quarantineFee",phi_thue_cont:"costs.containerRentalFee",phi_luu_kho_cang:"costs.portStorageFee",don_gia_nhap_kho:"costs.generalWarehouseCostRatePerKg",lai_suat_vay:"costs.loanInterestRatePerYear",tien_vay_lan_1_usd:"costs.loanFirstTransferUSD",ngay_lai_lan_1:"costs.loanFirstTransferInterestDays",so_ngay_luu_kho:"costs.postClearanceStorageDays",don_gia_luu_kho:"costs.postClearanceStorageRatePerKgDay",thue_suat_vat:"costs.importVatRate",phi_dich_vu_mua_hang:"costs.purchasingServiceFeeInMillionsPerCont",phi_vc_den_kho_mua:"costs.buyerDeliveryFee",chi_phi_quoc_te_khac:"costs.otherInternationalCosts",chi_phi_ban_hang_khac:"costs.otherSellingCosts"},vm={ty_gia_nhap_khau:"setExchangeRateImport",ty_gia_thue:"setExchangeRateTax",ty_le_luong_ban_hang:"setSalesSalaryRate",tong_luong_gian_tiep:"setTotalMonthlyIndirectSalary",so_ngay_lam_viec:"setWorkingDaysPerMonth",chi_phi_thue_nha:"setTotalMonthlyRent",chi_phi_dien:"setTotalMonthlyElectricity",chi_phi_nuoc:"setTotalMonthlyWater",chi_phi_vpp:"setTotalMonthlyStationery",chi_phi_khau_hao:"setTotalMonthlyDepreciation",chi_phi_dich_vu_ngoai:"setTotalMonthlyExternalServices",chi_phi_tien_mat_khac:"setTotalMonthlyOtherCashExpenses",chi_phi_tai_chinh:"setTotalMonthlyFinancialCost"},G_=({isOpen:l,onClose:t,products:o,planItems:a,updatePlanItem:r,removePlanItem:d,addProductToPlan:p,setters:g})=>{const[y,m]=j.useState([]),[T,x]=j.useState(""),[C,_]=j.useState(!1),[I,D]=j.useState(!1),[H,z]=j.useState(""),F=j.useRef(null),Y=j.useRef(null);j.useEffect(()=>{l&&(Y.current=null,m([{id:Date.now(),sender:"ai",text:"Cho bn, ti c th gip bn iu chnh k hoch kinh doanh nh th no?"}]))},[l]),j.useEffect(()=>{Y.current&&(Y.current=null)},[a]),j.useEffect(()=>{var P;(P=F.current)==null||P.scrollIntoView({behavior:"smooth"})},[y]),j.useEffect(()=>{Ut&&(Ut.onstart=()=>D(!0),Ut.onend=()=>D(!1),Ut.onresult=P=>{const ee=P.results[0][0].transcript;x(ee)},Ut.onerror=P=>{console.error("Speech recognition error:",P.error),P.error==="no-speech"?(z("Khng nghe r. Vui lng th li..."),setTimeout(()=>z(""),3e3)):P.error==="not-allowed"?alert("Bn  t chi quyn truy cp micro. Vui lng cho php truy cp micro trong ci t trnh duyt  s dng tnh nng ny."):alert(` xy ra li khi nhn dng ging ni: ${P.error}. Vui lng th li.`),D(!1)})},[]);const le=()=>{if(!Ut){alert("Trnh duyt ca bn khng h tr nhn dng ging ni.");return}I?Ut.stop():Ut.start()},W=P=>{const ee=P.toLowerCase().trim(),Q=a.map(A=>({...A,combinedName:`${A.group.toLowerCase()} - ${A.nameVI.toLowerCase()}`.trim()})),te=Q.find(A=>A.combinedName===ee);if(te)return te;const ae=a.find(A=>A.nameVI.toLowerCase().trim()===ee);if(ae)return ae;const ge=Q.find(A=>A.combinedName.includes(ee));return ge||a.find(A=>A.nameVI.toLowerCase().trim().includes(ee))||null},V=P=>{const ee=P.toLowerCase().trim(),Q=o.map(A=>({...A,combinedName:`${A.group.toLowerCase()} - ${A.nameVI.toLowerCase()}`.trim()})),te=Q.find(A=>A.combinedName===ee);if(te)return te;const ae=o.find(A=>A.nameVI.toLowerCase().trim()===ee);if(ae)return ae;const ge=Q.find(A=>A.combinedName.includes(ee));return ge||o.find(A=>A.nameVI.toLowerCase().trim().includes(ee))||null},J=P=>{let ee=[];for(const Q of P){let te="";switch(Q.name){case"update_product_property":{const{product_name:ae,property_name:ge,new_value:ce}=Q.args,A=W(ae),X=wa[ge];if(A&&X){const de=ge==="phi_dich_vu_mua_hang"?ce/1e6:ce;r(A.id,X,de),te=` cp nht '${ge}' ca sn phm '${ae}' thnh '${ce}'.`}else te=`Li: Khng tm thy sn phm '${ae}' trong k hoch hoc thuc tnh '${ge}' khng hp l.`;break}case"bulk_update_products":{const{filter_property:ae,filter_value:ge,target_property:ce,update_type:A,update_value:X}=Q.args,de=wa[ce];if(!de){te=`Li: Thuc tnh '${ce}' khng hp l.`;break}let q=a.filter(oe=>ae==="all"?!0:ae==="brand"?oe.brand.toLowerCase()===ge.toLowerCase():ae==="group"?oe.group.toLowerCase()===ge.toLowerCase():!1);if(q.length===0){te=`Khng tm thy sn phm no khp vi iu kin: ${ae} = '${ge}'.`;break}q.forEach(oe=>{const N=de.split(".");let M=oe.userInput;for(let fe=0;fe<N.length-1;fe++)M=M[N[fe]];let ne=M[N[N.length-1]];ce==="phi_dich_vu_mua_hang"&&(ne*=1e6);let ie=0;switch(A){case"percentage_increase":ie=ne*(1+X/100);break;case"percentage_decrease":ie=ne*(1-X/100);break;case"absolute_increase":ie=ne+X;break;case"absolute_decrease":ie=ne-X;break;case"set_value":ie=X;break;default:ie=ne}const se=ce==="phi_dich_vu_mua_hang"?ie/1e6:ie;r(oe.id,de,se)}),te=` cp nht '${ce}' cho ${q.length} sn phm.`;break}case"add_product_to_plan":{const{product_name:ae,quantity_kg:ge,price_usd_per_ton:ce,selling_price_vnd_per_kg:A}=Q.args,X=V(ae);X?(p({productCode:X.code,quantityInKg:ge,priceUSDPerTon:ce??X.defaultPriceUSDPerTon,sellingPriceVNDPerKg:A??X.defaultSellingPriceVND}),te=` thm sn phm '${ae}' vo k hoch.`):te=`Li: Khng tm thy sn phm '${ae}' trong danh mc sn phm.`;break}case"update_general_setting":{const{setting_name:ae,new_value:ge}=Q.args,ce=vm[ae];ce&&g[ce]?(g[ce](ge),te=` cp nht ci t '${ae}' thnh '${ge}'.`):te=`Li: Khng tm thy ci t '${ae}'.`;break}case"remove_product_from_plan":{const{product_name:ae}=Q.args,ge=W(ae);ge?(d(ge.id),te=` xa sn phm '${ae}' khi k hoch.`):te=`Li: Khng tm thy sn phm '${ae}' trong k hoch  xa.`;break}}te&&ee.push(te)}ee.length>0&&m(Q=>[...Q,{id:Date.now()+Math.random(),sender:"system",text:ee.join(`
`)}])},ue=async()=>{if(!T.trim()||C)return;const P={id:Date.now(),sender:"user",text:T};m(Q=>[...Q,P]);const ee=T;x(""),_(!0);try{if(!Y.current){const te=new Lu({apiKey:"PLACEHOLDER_API_KEY"}),ae=[{name:"update_product_property",description:"Cp nht mt thuc tnh ca MT sn phm c th trong k hoch.",parameters:{type:Oe.OBJECT,properties:{product_name:{type:Oe.STRING,description:'Tn ting Vit ca sn phm, bao gm c nhm hng. V d: "Tht tru - Thn ngoi".'},property_name:{type:Oe.STRING,description:`Tn thuc tnh cn thay i. Gi tr hp l: ${Object.keys(wa).join(", ")}.`},new_value:{type:Oe.NUMBER,description:"Gi tr s mi."}},required:["product_name","property_name","new_value"]}},{name:"bulk_update_products",description:"Cp nht hng lot mt thuc tnh cho nhiu sn phm da trn mt iu kin lc.",parameters:{type:Oe.OBJECT,properties:{filter_property:{type:Oe.STRING,description:"Tiu ch lc sn phm. Dng 'brand'  lc theo thng hiu, 'group'  lc theo nhm (v d: 'Tht tru'), 'all'  p dng cho tt c sn phm."},filter_value:{type:Oe.STRING,description:"Gi tr  lc. V d: 'Alana' nu filter_property l 'brand'."},target_property:{type:Oe.STRING,description:`Tn thuc tnh cn thay i. Gi tr hp l: ${Object.keys(wa).join(", ")}.`},update_type:{type:Oe.STRING,description:"Loi cp nht: 'percentage_increase' (tng phn trm), 'percentage_decrease' (gim phn trm), 'absolute_increase' (tng gi tr tuyt i), 'absolute_decrease' (gim gi tr tuyt i), 'set_value' (t gi tr mi)."},update_value:{type:Oe.NUMBER,description:"Gi tr cho vic cp nht (v d: 10 cho 10%, 5000 cho 5000 VND)."}},required:["filter_property","target_property","update_type","update_value"]}},{name:"add_product_to_plan",description:"Thm mt sn phm mi t danh mc vo k hoch kinh doanh.",parameters:{type:Oe.OBJECT,properties:{product_name:{type:Oe.STRING,description:"Tn ting Vit chnh xc ca sn phm cn thm, bao gm c nhm hng."},quantity_kg:{type:Oe.NUMBER,description:"S lng tnh bng kg."},price_usd_per_ton:{type:Oe.NUMBER,description:"Gi mua USD/tn. Nu khng cung cp, s dng gi mc nh."},selling_price_vnd_per_kg:{type:Oe.NUMBER,description:"Gi bn VND/kg. Nu khng cung cp, s dng gi mc nh."}},required:["product_name","quantity_kg"]}},{name:"update_general_setting",description:"Cp nht mt ci t chung ca ton b k hoch.",parameters:{type:Oe.OBJECT,properties:{setting_name:{type:Oe.STRING,description:`Tn ci t cn thay i. Gi tr hp l: ${Object.keys(vm).join(", ")}.`},new_value:{type:Oe.NUMBER,description:"Gi tr s mi."}},required:["setting_name","new_value"]}},{name:"remove_product_from_plan",description:"Xa mt sn phm khi k hoch kinh doanh.",parameters:{type:Oe.OBJECT,properties:{product_name:{type:Oe.STRING,description:"Tn ting Vit ca sn phm cn xa, bao gm c nhm hng."}},required:["product_name"]}}],ge=`You are a helpful AI assistant for a business planning application. The user is creating a business plan for importing and selling frozen food products in Vietnam.
- The user will give instructions in Vietnamese. You must respond in Vietnamese.
- Your primary goal is to help the user modify their business plan using the provided tools.
- If the user's request is ambiguous (e.g., "update the price for Alana"), you MUST ask for clarification (e.g., "Which Alana product do you mean? And do you want to update the purchase price or selling price?").
- Be concise and helpful. 
- **Current Plan Context:**
  - Products currently in the plan (Tn sn phm): ${a.length>0?a.map(ce=>`'${ce.group} - ${ce.nameVI}' (thng hiu ${ce.brand}, m ${ce.code})`).join(", "):"Cha c sn phm no"}.
- **Available Products for Adding:**
  - You can add products from this master list: ${o.map(ce=>`'${ce.group} - ${ce.nameVI}' (thng hiu ${ce.brand}, m ${ce.code})`).join(", ")}.
- **Function Calling Rules:**
  - ALWAYS use the exact Vietnamese product name with its group (e.g., 'Tht tru - Thn ngoi') as found in the context when calling functions. Do not guess or abbreviate.`;Y.current=te.chats.create({model:"gemini-2.5-flash",config:{tools:[{functionDeclarations:ae}],systemInstruction:ge}})}const Q=await Y.current.sendMessage({message:ee});Q.functionCalls&&Q.functionCalls.length>0?(J(Q.functionCalls),m(te=>[...te,{id:Date.now()+1,sender:"ai",text:" thc hin xong! Bn c cn ti gip g na khng?"}])):m(te=>[...te,{id:Date.now()+1,sender:"ai",text:Q.text}])}catch(Q){console.error("AI Assistant Error:",Q),m(te=>[...te,{id:Date.now()+1,sender:"ai",text:"Xin li,  c li xy ra. Vui lng th li."}])}finally{_(!1)}};return l?v.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl h-[80vh] flex flex-col",onClick:P=>P.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Rm,{className:"h-6 w-6 text-blue-600"}),v.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Tr l AI Tinh chnh K hoch"})]}),v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:v.jsx(fo,{className:"h-6 w-6"})})]}),v.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[y.map(P=>v.jsx("div",{className:`flex ${P.sender==="user"?"justify-end":"justify-start"}`,children:v.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${P.sender==="user"?"bg-blue-500 text-white":P.sender==="ai"?"bg-gray-200 text-gray-800":"bg-yellow-100 text-yellow-800 border border-yellow-200 text-sm italic w-full"}`,children:P.text.split(`
`).map((ee,Q)=>v.jsx("p",{children:ee},Q))})},P.id)),C&&v.jsx("div",{className:"flex justify-start",children:v.jsx("div",{className:"bg-gray-200 text-gray-800 p-3 rounded-lg",children:v.jsx("span",{className:"animate-pulse",children:"AI ang suy ngh..."})})}),v.jsx("div",{ref:F})]}),v.jsx("footer",{className:"p-4 border-t bg-white",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"text",value:T,onChange:P=>x(P.target.value),onKeyPress:P=>P.key==="Enter"&&ue(),placeholder:H||"Nhp yu cu ca bn...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:C}),v.jsx("button",{onClick:le,disabled:C||!Ut,className:`p-2 rounded-full transition-colors ${I?"bg-red-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"} disabled:bg-gray-100 disabled:text-gray-400`,"aria-label":I?"Dng ghi m":"Bt u ghi m",children:v.jsx(co,{className:"h-6 w-6"})}),v.jsx("button",{onClick:ue,disabled:C||!T.trim(),className:"p-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 disabled:bg-blue-300","aria-label":"Gi",children:v.jsx(k_,{className:"h-6 w-6"})})]})})]})}):null},Tm={code:"",nameVI:"",nameEN:"",brand:"",group:"",defaultWeightKg:28e3,defaultPriceUSDPerTon:4e3,defaultSellingPriceVND:void 0},H_=({isOpen:l,onClose:t,onSave:o})=>{const[a,r]=j.useState(Tm);if(!l)return null;const d=y=>{const{id:m,value:T}=y.target;r(x=>({...x,[m]:T}))},p=(y,m)=>{r(T=>({...T,[y]:m}))},g=()=>{if(!a.code||!a.nameVI||!a.brand||!a.group){alert("Vui lng in y  cc trng bt buc: M, Tn, Thng hiu, v Nhm.");return}if(a.defaultSellingPriceVND===void 0){alert("Vui lng nhp gi bn mc nh.");return}o(a),r(Tm)};return v.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:y=>y.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Ba,{className:"h-6 w-6 text-indigo-600"}),v.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Thm sn phm mi"})]}),v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:v.jsx(fo,{className:"h-6 w-6"})})]}),v.jsxs("main",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(Lt,{id:"code",label:"M sn phm (Bt buc)",value:a.code,onChange:d,placeholder:"V d: 46-ALANA"}),v.jsx(Lt,{id:"brand",label:"Thng hiu (Bt buc)",value:a.brand,onChange:d,placeholder:"V d: Alana"})]}),v.jsx(Lt,{id:"nameVI",label:"Tn ting Vit (Bt buc)",value:a.nameVI,onChange:d,placeholder:"V d: Thn ngoi"}),v.jsx(Lt,{id:"nameEN",label:"Tn ting Anh",value:a.nameEN,onChange:d,placeholder:"V d: Striploin C"}),v.jsx(Lt,{id:"group",label:"Nhm hng (Bt buc)",value:a.group,onChange:d,placeholder:"V d: Tht tru"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-2",children:[v.jsx(Re,{id:"defaultWeightKg",label:"KL mc nh (Kg)/cont",value:a.defaultWeightKg,onChange:y=>p("defaultWeightKg",y)}),v.jsx(Re,{id:"defaultPriceUSDPerTon",label:"Gi nhp mc nh (USD/Tn)",value:a.defaultPriceUSDPerTon,onChange:y=>p("defaultPriceUSDPerTon",y),decimalPlaces:2}),v.jsx(Re,{id:"defaultSellingPriceVND",label:"Gi bn mc nh (VND/Kg)",value:a.defaultSellingPriceVND??0,onChange:y=>p("defaultSellingPriceVND",y)})]})]}),v.jsxs("footer",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg space-x-2",children:[v.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"Hy"}),v.jsx("button",{onClick:g,className:"px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",children:"Lu sn phm"})]})]})})},q_=({isOpen:l,onClose:t,products:o,setProducts:a,onEditProduct:r,onAddNewProduct:d})=>{const[p,g]=j.useState(""),y=j.useMemo(()=>{if(!p)return o;const T=p.toLowerCase();return o.filter(x=>x.code.toLowerCase().includes(T)||x.nameVI.toLowerCase().includes(T)||x.brand.toLowerCase().includes(T)||x.group.toLowerCase().includes(T))},[o,p]),m=T=>{if(window.confirm(`Bn c chc chn mun xa sn phm c m "${T}" khng? Hnh ng ny khng th hon tc.`)){const x=o.filter(C=>C.code!==T);a(x)}};return l?v.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col",onClick:T=>T.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b flex-shrink-0",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Ba,{className:"h-6 w-6 text-indigo-600"}),v.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Qun l Danh mc Sn phm"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("button",{onClick:d,className:"flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[v.jsx(Eu,{className:"h-5 w-5 mr-2"}),"Thm mi"]}),v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:v.jsx(fo,{className:"h-6 w-6"})})]})]}),v.jsx("div",{className:"p-4 border-b flex-shrink-0",children:v.jsx(Lt,{id:"manage-product-search",label:"Tm kim sn phm",srOnlyLabel:!0,type:"text",placeholder:"Tm theo m, tn, thng hiu, hoc nhm...",value:p,onChange:T=>g(T.target.value)})}),v.jsx("main",{className:"flex-1 overflow-y-auto",children:v.jsx("div",{className:"divide-y divide-gray-200",children:y.length>0?y.map(T=>v.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-gray-50",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("p",{className:"text-sm font-medium text-indigo-600 truncate",title:`${T.brand} - ${T.code}`,children:[T.brand," - ",T.code]}),v.jsx("p",{className:"text-sm text-gray-800 truncate",title:T.nameVI,children:T.nameVI}),v.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[T.group," / ",T.nameEN]})]}),v.jsxs("div",{className:"ml-4 flex-shrink-0 flex items-center space-x-2",children:[v.jsx("button",{onClick:()=>r(T),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-100 rounded-full transition-colors","aria-label":`Sa sn phm ${T.nameVI}`,children:v.jsx(Pu,{className:"h-5 w-5"})}),v.jsx("button",{onClick:()=>m(T.code),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-100 rounded-full transition-colors","aria-label":`Xa sn phm ${T.nameVI}`,children:v.jsx(Pa,{className:"h-5 w-5"})})]})]},T.code)):v.jsx("div",{className:"text-center py-10",children:v.jsx("p",{className:"text-gray-500",children:"Khng tm thy sn phm no."})})})}),v.jsx("footer",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg flex-shrink-0",children:v.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"ng"})})]})}):null},xm={code:"",nameVI:"",nameEN:"",brand:"",group:"",defaultWeightKg:0,defaultPriceUSDPerTon:0,defaultSellingPriceVND:0},B_=({isOpen:l,onClose:t,onSave:o,product:a})=>{const[r,d]=j.useState(xm);if(j.useEffect(()=>{d(a||xm)},[a]),!l||!a)return null;const p=m=>{const{id:T,value:x}=m.target;d(C=>({...C,[T]:x}))},g=(m,T)=>{d(x=>({...x,[m]:T}))},y=()=>{if(!r.code||!r.nameVI||!r.brand||!r.group){alert("Vui lng in y  cc trng bt buc: M, Tn, Thng hiu, v Nhm.");return}o(r)};return v.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",onClick:m=>m.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Ba,{className:"h-6 w-6 text-indigo-600"}),v.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Chnh sa sn phm"})]}),v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:v.jsx(fo,{className:"h-6 w-6"})})]}),v.jsxs("main",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(Lt,{id:"code",label:"M sn phm (Khng th thay i)",value:r.code,onChange:p,disabled:!0}),v.jsx(Lt,{id:"brand",label:"Thng hiu (Bt buc)",value:r.brand,onChange:p,placeholder:"V d: Alana"})]}),v.jsx(Lt,{id:"nameVI",label:"Tn ting Vit (Bt buc)",value:r.nameVI,onChange:p,placeholder:"V d: Thn ngoi"}),v.jsx(Lt,{id:"nameEN",label:"Tn ting Anh",value:r.nameEN,onChange:p,placeholder:"V d: Striploin C"}),v.jsx(Lt,{id:"group",label:"Nhm hng (Bt buc)",value:r.group,onChange:p,placeholder:"V d: Tht tru"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-2",children:[v.jsx(Re,{id:"defaultWeightKg",label:"KL mc nh (Kg)/cont",value:r.defaultWeightKg,onChange:m=>g("defaultWeightKg",m)}),v.jsx(Re,{id:"defaultPriceUSDPerTon",label:"Gi nhp mc nh (USD/Tn)",value:r.defaultPriceUSDPerTon,onChange:m=>g("defaultPriceUSDPerTon",m),decimalPlaces:2}),v.jsx(Re,{id:"defaultSellingPriceVND",label:"Gi bn mc nh (VND/Kg)",value:r.defaultSellingPriceVND,onChange:m=>g("defaultSellingPriceVND",m)})]})]}),v.jsxs("footer",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg space-x-2",children:[v.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"Hy"}),v.jsx("button",{onClick:y,className:"px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",children:"Lu thay i"})]})]})})},Sm=({planToLoad:l,onPlanLoaded:t})=>{const[o,a]=j.useState(()=>{try{const q=localStorage.getItem("businessPlanProducts");if(q)return JSON.parse(q)}catch(q){console.error("Could not load products from localStorage",q)}return fv});j.useEffect(()=>{try{localStorage.setItem("businessPlanProducts",JSON.stringify(o))}catch(q){console.error("Could not save products to localStorage",q)}},[o]);const[r,d]=j.useState([]),[p,g]=j.useState([]),[y,m]=j.useState({exchangeRateImport:26356,exchangeRateTax:26154,salesSalaryRate:20,totalMonthlyIndirectSalary:75e6,workingDaysPerMonth:24,totalMonthlyRent:6e6,totalMonthlyElectricity:2e6,totalMonthlyWater:5e5,totalMonthlyStationery:5e5,totalMonthlyDepreciation:0,totalMonthlyExternalServices:1e6,totalMonthlyOtherCashExpenses:1e6,totalMonthlyFinancialCost:0}),T=(q,oe)=>{m(N=>({...N,[q]:oe}))},[x,C]=j.useState(o.length>0?o[0].code:""),[_,I]=j.useState(!1),[D,H]=j.useState(!1),[z,F]=j.useState(!1),[Y,le]=j.useState(!1),[W,V]=j.useState(null);j.useEffect(()=>{if(l){const q=l.planItems.map(oe=>({...oe}));d(q),m(l.settings),t()}},[l,t]);const J=()=>{const q=JSON.stringify(o,null,2),oe=new Blob([q],{type:"application/json"}),N=URL.createObjectURL(oe),M=document.createElement("a");M.download="products.json",M.href=N,M.click(),URL.revokeObjectURL(N)},ue=q=>{var M;const oe=(M=q.target.files)==null?void 0:M[0];if(!oe)return;const N=new FileReader;N.onload=ne=>{var ie;try{const se=(ie=ne.target)==null?void 0:ie.result;if(typeof se!="string")throw new Error("Khng th c file.");const fe=JSON.parse(se);if(Array.isArray(fe)&&(fe.length===0||"code"in fe[0]&&"nameVI"in fe[0]&&"brand"in fe[0]&&"defaultWeightKg"in fe[0]))a(fe),alert(`Ti ln thnh cng ${fe.length} sn phm!`);else throw new Error("nh dng file khng hp l. Vui lng kim tra li file JSON.")}catch(se){alert(`Li khi x l file: ${se instanceof Error?se.message:"Li khng xc nh"}`)}finally{q.target.value=""}},N.readAsText(oe)},P=q=>{var M;const oe=(M=q.target.files)==null?void 0:M[0];if(!oe)return;const N=new FileReader;N.onload=ne=>{var ie;try{const se=(ie=ne.target)==null?void 0:ie.result;if(typeof se!="string")throw new Error("Khng th c file.");const fe=JSON.parse(se);if(fe&&Array.isArray(fe.planItems)&&fe.settings&&typeof fe.settings.exchangeRateImport=="number"){const Ae=fe.planItems.map(Fe=>({...Fe}));d(Ae),m(fe.settings),alert(`Ti ln thnh cng k hoch "${fe.name||"khng tn"}"!`)}else throw new Error("nh dng file k hoch khng hp l. Vui lng kim tra li file JSON c xut t ng dng.")}catch(se){alert(`Li khi x l file: ${se instanceof Error?se.message:"Li khng xc nh"}`)}finally{q.target&&(q.target.value="")}},N.readAsText(oe)},ee=q=>{if(o.some(N=>N.code.toLowerCase()===q.code.toLowerCase())){alert(`Li: M sn phm "${q.code}"  tn ti.`);return}const oe=[...o,q].sort((N,M)=>N.brand.localeCompare(M.brand)||N.nameVI.localeCompare(M.nameVI));a(oe),C(q.code),H(!1)},Q=q=>{a(oe=>oe.map(N=>N.code===q.code?q:N)),le(!1),V(null),F(!0)},te=q=>{V(q),F(!1),le(!0)},ae=()=>{le(!1),V(null),F(!0)},ge=()=>{F(!1),H(!0)};j.useEffect(()=>{const q=bm(r,{importRate:y.exchangeRateImport,taxRate:y.exchangeRateTax,salesSalaryRate:y.salesSalaryRate,...y});g(q)},[r,y]);const ce=q=>{const oe=o.find(N=>N.code===q.productCode);if(oe){const N=`${oe.code}-${new Date().getTime()}`;if(!p.some(M=>M.id===N)){const M={id:N,...oe,userInput:{priceUSDPerTon:q.priceUSDPerTon,sellingPriceVNDPerKg:q.sellingPriceVNDPerKg,quantityInKg:q.quantityInKg,costs:{customsFee:0,quarantineFee:0,containerRentalFee:0,portStorageFee:0,generalWarehouseCostRatePerKg:1300,loanInterestRatePerYear:8,loanFirstTransferUSD:1e4,loanFirstTransferInterestDays:30,postClearanceStorageDays:20,postClearanceStorageRatePerKgDay:150,importVatRate:5,purchasingServiceFeeInMillionsPerCont:5,buyerDeliveryFee:0,otherInternationalCosts:0,otherSellingCosts:0}},calculated:{}};d(ne=>[...ne,M])}}},A=(q,oe,N)=>{d(M=>M.map(ne=>{if(ne.id===q){const ie=JSON.parse(JSON.stringify(ne));if(oe.startsWith("costs.")){const se=oe.split(".")[1];ie.userInput.costs[se]=N}else{const se=oe;ie.userInput[se]=N}return ie}return ne}))},X=q=>{d(oe=>oe.filter(N=>N.id!==q))},de=p.reduce((q,oe)=>(q.totalGrossProfit+=oe.calculated.grossProfit||0,q.totalQuantityInKg+=oe.userInput.quantityInKg||0,q),{totalGrossProfit:0,totalQuantityInKg:0});return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[v.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[v.jsx(Fy,{exchangeRateImport:y.exchangeRateImport,setExchangeRateImport:q=>T("exchangeRateImport",q),exchangeRateTax:y.exchangeRateTax,setExchangeRateTax:q=>T("exchangeRateTax",q),salesSalaryRate:y.salesSalaryRate,setSalesSalaryRate:q=>T("salesSalaryRate",q)}),v.jsx(Yy,{products:o,selectedProductCode:x,setSelectedProductCode:C,addProductToPlan:ce,onAddNewProduct:()=>H(!0),onImportPlan:P})]}),p.length>0?v.jsx(jy,{items:p,updateItem:A,removeItem:X,planTotals:de,salesSalaryRate:y.salesSalaryRate,setSalesSalaryRate:q=>T("salesSalaryRate",q),totalMonthlyIndirectSalary:y.totalMonthlyIndirectSalary,setTotalMonthlyIndirectSalary:q=>T("totalMonthlyIndirectSalary",q),workingDaysPerMonth:y.workingDaysPerMonth,setWorkingDaysPerMonth:q=>T("workingDaysPerMonth",q),totalMonthlyRent:y.totalMonthlyRent,setTotalMonthlyRent:q=>T("totalMonthlyRent",q),totalMonthlyElectricity:y.totalMonthlyElectricity,setTotalMonthlyElectricity:q=>T("totalMonthlyElectricity",q),totalMonthlyWater:y.totalMonthlyWater,setTotalMonthlyWater:q=>T("totalMonthlyWater",q),totalMonthlyStationery:y.totalMonthlyStationery,setTotalMonthlyStationery:q=>T("totalMonthlyStationery",q),totalMonthlyDepreciation:y.totalMonthlyDepreciation,setTotalMonthlyDepreciation:q=>T("totalMonthlyDepreciation",q),totalMonthlyExternalServices:y.totalMonthlyExternalServices,setTotalMonthlyExternalServices:q=>T("totalMonthlyExternalServices",q),totalMonthlyOtherCashExpenses:y.totalMonthlyOtherCashExpenses,setTotalMonthlyOtherCashExpenses:q=>T("totalMonthlyOtherCashExpenses",q),totalMonthlyFinancialCost:y.totalMonthlyFinancialCost,setTotalMonthlyFinancialCost:q=>T("totalMonthlyFinancialCost",q)}):v.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[v.jsx(Eu,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cha c sn phm no trong k hoch"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Bt u bng cch chn mt sn phm v thm vo k hoch kinh doanh ca bn."})]}),v.jsx("div",{className:"mt-6",children:v.jsx(P_,{items:p,uncalculatedItems:r,settings:y,onOpenAiAssistant:()=>I(!0)})}),v.jsx("div",{className:"mt-6",children:v.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[v.jsx(V_,{className:"h-5 w-5 mr-2 text-gray-500"}),"Qun l d liu sn phm"]}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Chnh sa, ti xung danh sch sn phm hin ti hoc ti ln danh sch mi t file JSON  cp nht."}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[v.jsxs("button",{onClick:()=>F(!0),className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[v.jsx(Pu,{className:"h-5 w-5 mr-2"}),"Chnh sa danh mc"]}),v.jsxs("button",{onClick:J,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[v.jsx(Va,{className:"h-5 w-5 mr-2"}),"Xut file JSON"]}),v.jsxs("label",{htmlFor:"import-json",className:"w-full cursor-pointer flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[v.jsx(_u,{className:"h-5 w-5 mr-2"}),"Nhp Danh mc (JSON)"]}),v.jsx("input",{id:"import-json",type:"file",className:"hidden",accept:".json,application/json",onChange:ue})]})]})})]}),v.jsx(q_,{isOpen:z,onClose:()=>F(!1),products:o,setProducts:a,onEditProduct:te,onAddNewProduct:ge}),v.jsx(G_,{isOpen:_,onClose:()=>I(!1),products:o,planItems:p,updatePlanItem:A,removePlanItem:X,addProductToPlan:ce,setters:{setExchangeRateImport:q=>T("exchangeRateImport",q),setExchangeRateTax:q=>T("exchangeRateTax",q),setSalesSalaryRate:q=>T("salesSalaryRate",q),setTotalMonthlyIndirectSalary:q=>T("totalMonthlyIndirectSalary",q),setWorkingDaysPerMonth:q=>T("workingDaysPerMonth",q),setTotalMonthlyRent:q=>T("totalMonthlyRent",q),setTotalMonthlyElectricity:q=>T("totalMonthlyElectricity",q),setTotalMonthlyWater:q=>T("totalMonthlyWater",q),setTotalMonthlyStationery:q=>T("totalMonthlyStationery",q),setTotalMonthlyDepreciation:q=>T("totalMonthlyDepreciation",q),setTotalMonthlyExternalServices:q=>T("totalMonthlyExternalServices",q),setTotalMonthlyOtherCashExpenses:q=>T("totalMonthlyOtherCashExpenses",q),setTotalMonthlyFinancialCost:q=>T("totalMonthlyFinancialCost",q)}}),v.jsx(H_,{isOpen:D,onClose:()=>H(!1),onSave:ee}),v.jsx(B_,{isOpen:Y,onClose:ae,onSave:Q,product:W})]})},O_=()=>v.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:v.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[v.jsx(_m,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsx("h1",{className:"mt-4 text-xl font-bold text-gray-800",children:"Module Thu - Chi tin"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Chc nng ny ang c pht trin."})]})}),z_=()=>v.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:v.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[v.jsx(Am,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsx("h1",{className:"mt-4 text-xl font-bold text-gray-800",children:"Module Nhp - Xut hng"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Chc nng ny ang c pht trin."})]})}),F_=()=>v.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:v.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-md border border-gray-200",children:[v.jsx(Nm,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsx("h1",{className:"mt-4 text-xl font-bold text-gray-800",children:"Module Qun l i kinh doanh & Marketing"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Chc nng ny ang c pht trin."})]})}),K_=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Y_=({title:l,toggleSidebar:t})=>v.jsx("header",{className:"bg-white shadow-sm flex-shrink-0",children:v.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-4 flex items-center",children:[v.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 focus:outline-none mr-4",children:v.jsx(K_,{className:"h-6 w-6"})}),v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l})]})}),Vu=new Lu({apiKey:"PLACEHOLDER_API_KEY"}),J_=async l=>({inlineData:{data:await new Promise(o=>{const a=new FileReader;a.onloadend=()=>{typeof a.result=="string"?o(a.result.split(",")[1]):o("")},a.readAsDataURL(l)}),mimeType:l.type}}),$_=async(l,t)=>{const o=await J_(l);return(await Vu.models.generateContent({model:t,contents:{parts:[{text:"Please transcribe the following audio file. Provide only the transcribed text, without any additional comments or formatting."},o]}})).text},Q_=async(l,t,o)=>{const a=`
        Based on the following meeting transcription and details, please generate a professional meeting minutes document in HTML format.

        **Meeting Details:**
        - **Topic/Purpose:** ${t.topic||"Not specified"}
        - **Time and Place:** ${t.timeAndPlace||"Not specified"}
        - **Chairperson:** ${t.chair||"Not specified"}
        - **Attendees:** ${t.attendees||"Not specified"}

        **Meeting Transcription:**
        ---
        ${l}
        ---

        **Instructions for HTML Output:**
        1.  The entire output must be a single block of HTML, without any surrounding markdown backticks (\`\`\`).
        2.  Use Tailwind CSS classes for styling to create a clean, professional, and readable document. Use a light theme (e.g., white background, dark text).
        3.  The structure should include:
            - A main title (\`<h1>\`) for the meeting topic.
            - A section for meeting details (time, place, attendees, chair).
            - Key sections like "Agenda", "Discussion Summary", "Decisions Made", and "Action Items".
            - Use \`<h2>\` for section titles.
            - Use \`<ul>\` and \`<li>\` for lists. For action items, clearly state the task and who is assigned to it.
        4.  Analyze the transcription to extract the relevant information for each section. If the agenda is not explicitly stated, infer it from the discussion topics.
        5.  The language of the output should be Vietnamese.

        **Example of desired HTML structure snippet:**
        \`\`\`html
        <div class="font-sans p-8 bg-white text-gray-800">
            <h1 class="text-3xl font-bold mb-2 text-gray-900">Bin bn hp: [Ch  cuc hp]</h1>
            <hr class="mb-6">
            ... (details section) ...
            <h2 class="text-2xl font-semibold mt-8 mb-4 text-gray-800 border-b pb-2">Tm tt tho lun</h2>
            ...
            <h2 class="text-2xl font-semibold mt-8 mb-4 text-gray-800 border-b pb-2">Cc cng vic cn thc hin</h2>
            <ul class="list-disc list-inside space-y-2">
                <li><strong>[M t cng vic]:</strong> Ph trch: [Tn ngi/Nhm]. Hn cui: [Ngy, nu c].</li>
            </ul>
        </div>
        \`\`\`

        Now, generate the complete HTML in Vietnamese based on the provided transcription and details.
    `;let d=(await Vu.models.generateContent({model:o,contents:a})).text.trim();return d.startsWith("```html")&&(d=d.substring(7)),d.endsWith("```")&&(d=d.substring(0,d.length-3)),d.trim()},X_=async(l,t,o,a,r)=>{const d=`
        You are an AI assistant tasked with editing a set of meeting minutes. The minutes are in Vietnamese.
        You will be given the original meeting transcription, the meeting details, the previous HTML version of the minutes, and a user's request for edits.
        Your task is to apply the edits and return a new, complete HTML document that incorporates the changes.

        **User's Edit Request (in Vietnamese):**
        "${a}"

        **Original Meeting Transcription (for context):**
        ---
        ${l}
        ---

        **Original Meeting Details (for context):**
        - **Topic/Purpose:** ${t.topic||"Not specified"}
        - **Time and Place:** ${t.timeAndPlace||"Not specified"}
        - **Chairperson:** ${t.chair||"Not specified"}
        - **Attendees:** ${t.attendees||"Not specified"}
        
        **Previous HTML Version of Minutes:**
        ---
        ${o}
        ---

        **Instructions:**
        1.  Carefully analyze the user's edit request.
        2.  Modify the "Previous HTML Version of Minutes" to reflect the requested changes. You may need to add, remove, or alter text and structure.
        3.  If the edit request is vague, use the original transcription to find the correct information.
        4.  The output must be the complete, new HTML document in Vietnamese.
        5.  Maintain the same styling (Tailwind CSS) and structure as the original HTML.
        6.  The entire output must be a single block of HTML, without any surrounding markdown backticks (\`\`\`).
    `;let g=(await Vu.models.generateContent({model:r,contents:d})).text.trim();return g.startsWith("```html")&&(g=g.substring(7)),g.endsWith("```")&&(g=g.substring(0,g.length-3)),g.trim()};function Z_(l){const t=l.numberOfChannels,o=l.sampleRate,a=16,r=1,d=new Int16Array(l.length*t),p=[];for(let C=0;C<t;C++)p.push(l.getChannelData(C));let g=0;for(let C=0;C<l.length;C++)for(let _=0;_<t;_++){let I=Math.max(-1,Math.min(1,p[_][C]));d[g++]=I<0?I*32768:I*32767}const y=44+d.length*2,m=new DataView(new ArrayBuffer(y));function T(C,_,I){for(let D=0;D<I.length;D++)C.setUint8(_+D,I.charCodeAt(D))}let x=0;T(m,x,"RIFF"),x+=4,m.setUint32(x,36+d.length*2,!0),x+=4,T(m,x,"WAVE"),x+=4,T(m,x,"fmt "),x+=4,m.setUint32(x,16,!0),x+=4,m.setUint16(x,r,!0),x+=2,m.setUint16(x,t,!0),x+=2,m.setUint32(x,o,!0),x+=4,m.setUint32(x,o*t*(a/8),!0),x+=4,m.setUint16(x,t*(a/8),!0),x+=2,m.setUint16(x,a,!0),x+=2,T(m,x,"data"),x+=4,m.setUint32(x,d.length*2,!0),x+=4;for(let C=0;C<d.length;C++,x+=2)m.setInt16(x,d[C],!0);return new Blob([m],{type:"audio/wav"})}const W_=async(l,t,o)=>{const a=new(window.AudioContext||window.webkitAudioContext);try{o(5);const r=await l.arrayBuffer();o(15);const d=await a.decodeAudioData(r);o(25);let p=d;if(t.removeSilence){const x=p.sampleRate,C=p.getChannelData(0),_=[];let I=-1;for(let D=0;D<C.length;D++){const H=Math.abs(C[D])>.01;if(H&&I===-1)I=D;else if(!H&&I!==-1){const z=D;(z-I)/x>=.1&&_.push(C.subarray(I,z)),I=-1}}if(I!==-1&&_.push(C.subarray(I)),_.length>0){const D=_.reduce((Y,le)=>Y+le.length,0),H=new Float32Array(D);let z=0;for(const Y of _)H.set(Y,z),z+=Y.length;const F=a.createBuffer(1,D,x);F.copyToChannel(H,0),p=F}o(45)}if(t.noiseReduction||t.normalizeVolume){const m=p.getChannelData(0),T=.005;let x=0;for(let C=0;C<m.length;C++)t.noiseReduction&&Math.abs(m[C])<T&&(m[C]=0),t.normalizeVolume&&Math.abs(m[C])>x&&(x=Math.abs(m[C]));if(t.normalizeVolume&&x>0){const C=.95/x;for(let _=0;_<m.length;_++)m[_]*=C}o(65)}if(t.convertToMono16k){if(p.numberOfChannels!==1||p.sampleRate!==16e3){const T=p.duration,x=new OfflineAudioContext(1,T*16e3,16e3),C=x.createBufferSource();C.buffer=p,C.connect(x.destination),C.start(0),p=await x.startRendering()}o(85)}const g=Z_(p);o(95);const y=`${l.name.split(".").slice(0,-1).join(".")}_processed.wav`;return o(100),new File([g],y,{type:"audio/wav"})}catch(r){return console.error("Error processing audio:",r),alert(`Audio processing failed: ${r instanceof Error?r.message:"Unknown error"}. Returning original file.`),l}finally{a.state!=="closed"&&a.close()}},j_=l=>v.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M4.5 7.5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-9a3 3 0 01-3-3v-9z",clipRule:"evenodd"})}),eA=(l,t=2)=>{if(l===0)return"0 Bytes";const o=1024,a=t<0?0:t,r=["Bytes","KB","MB","GB","TB"],d=Math.floor(Math.log(l)/Math.log(o));return parseFloat((l/Math.pow(o,d)).toFixed(a))+" "+r[d]},Cm=l=>{if(isNaN(l)||l<0)return"N/A";const t=Math.floor(l/3600),o=Math.floor(l%3600/60),a=Math.floor(l%60),r=[];return t>0&&r.push(String(t).padStart(2,"0")),r.push(String(o).padStart(2,"0")),r.push(String(a).padStart(2,"0")),r.join(":")},tA=({onFileSelect:l,disabled:t})=>{const[o,a]=j.useState([]),r=j.useRef(null),[d,p]=j.useState(!1),[g,y]=j.useState(0),m=j.useRef(null),T=j.useRef([]),x=j.useRef(null),C=j.useRef(null),_=j.useCallback(V=>{if(!V||V.length===0){l([]),a([]);return}l(V),a([]),V.forEach(J=>{const ue=J.type.startsWith("audio/"),P=J.type.startsWith("text/"),ee={name:J.name,size:eA(J.size),duration:ue?"...":P?"Text file":"Unsupported type"};if(a(Q=>[...Q,ee]),ue){const Q=URL.createObjectURL(J),te=new Audio(Q),ae=()=>{URL.revokeObjectURL(Q),te.removeEventListener("loadedmetadata",ge),te.removeEventListener("error",ce)},ge=()=>{a(A=>A.map(X=>X.name===J.name?{...X,duration:Cm(te.duration)}:X)),ae()},ce=()=>{a(A=>A.map(X=>X.name===J.name?{...X,duration:"Invalid audio"}:X)),ae()};te.addEventListener("loadedmetadata",ge),te.addEventListener("error",ce)}})},[l]),I=j.useCallback(()=>{C.current&&(C.current.getTracks().forEach(V=>V.stop()),C.current=null),x.current&&(clearInterval(x.current),x.current=null),p(!1),y(0),T.current=[]},[]),D=async()=>{if(!d){z();try{const V=await navigator.mediaDevices.getUserMedia({audio:!0});C.current=V;const J=new MediaRecorder(V);m.current=J,J.ondataavailable=ue=>{ue.data.size>0&&T.current.push(ue.data)},J.onstop=()=>{var ue;if(T.current.length>0){const P=((ue=m.current)==null?void 0:ue.mimeType)||"audio/webm",ee=new Blob(T.current,{type:P}),Q=P.split("/")[1].split(";")[0],te=new File([ee],`recording-${Date.now()}.${Q}`,{type:P});_([te])}I()},J.start(),p(!0),x.current=window.setInterval(()=>{y(ue=>ue+1)},1e3)}catch(V){console.error("Error accessing microphone:",V),alert("Could not access microphone. Please ensure permissions are granted."),I()}}},H=()=>{m.current&&d&&m.current.stop()},z=j.useCallback(()=>{var V;d?(V=m.current)==null||V.stop():I(),a([]),l([]),r.current&&(r.current.value="")},[l,d,I]);j.useEffect(()=>()=>{d&&I()},[d,I]);const F=V=>{_(Array.from(V.target.files||[])),V.target&&(V.target.value="")},Y=j.useCallback(V=>{V.preventDefault()},[]),le=j.useCallback(V=>{V.preventDefault(),!(t||d)&&_(Array.from(V.dataTransfer.files))},[t,d,_]),W=t||d;return v.jsxs("div",{children:[v.jsxs("label",{onDragOver:Y,onDrop:le,className:`flex flex-col items-center justify-center w-full h-32 px-4 transition bg-gray-50 border-2 border-gray-300 border-dashed rounded-md appearance-none ${W?"cursor-not-allowed opacity-50":"cursor-pointer hover:border-indigo-500"}`,children:[v.jsxs("span",{className:"flex items-center space-x-2",children:[v.jsx(_u,{className:"w-6 h-6 text-gray-500"}),v.jsxs("span",{className:"font-medium text-gray-700",children:["Ko th file, hoc ",v.jsx("span",{className:"text-indigo-600 underline",children:"chn file"})]})]}),v.jsx("input",{ref:r,type:"file",name:"file_upload",className:"hidden",multiple:!0,onChange:F,accept:"audio/*,text/plain,.txt,.md",disabled:W})]}),o.length>0&&v.jsxs("div",{className:"mt-3 text-center text-sm",children:[v.jsx("div",{className:"max-h-24 overflow-y-auto bg-gray-100 p-2 rounded-md space-y-2 text-left",children:o.map((V,J)=>v.jsxs("div",{children:[v.jsx("p",{className:"text-gray-800 truncate font-semibold text-xs",title:V.name,children:V.name}),v.jsxs("p",{className:"text-gray-500 text-xs",children:[V.size,"  ",V.duration]})]},`${V.name}-${J}`))}),v.jsx("button",{onClick:z,disabled:t,className:"mt-2 text-xs text-red-500 hover:text-red-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Xa la chn"})]}),v.jsxs("div",{className:"flex items-center my-4",children:[v.jsx("div",{className:"flex-grow border-t border-gray-300"}),v.jsx("span",{className:"flex-shrink mx-4 text-gray-500 text-sm font-semibold",children:"HOC"}),v.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),v.jsx("div",{className:"text-center",children:d?v.jsxs("button",{type:"button",onClick:H,disabled:t,className:"w-full sm:w-auto flex items-center justify-center gap-x-3 px-6 py-2 bg-red-600 text-white font-bold rounded-lg shadow-sm hover:bg-red-700 disabled:bg-gray-400 transition-all duration-300",children:[v.jsx(j_,{className:"w-5 h-5"}),v.jsxs("span",{children:["Dng ghi m (",Cm(g),")"]})]}):v.jsxs("button",{type:"button",onClick:D,disabled:t||o.length>0,className:"w-full sm:w-auto flex items-center justify-center gap-x-3 px-6 py-2 bg-gray-500 text-white font-bold rounded-lg shadow-sm hover:bg-gray-600 disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed transition-all duration-300",children:[v.jsx(co,{className:"w-5 h-5"}),v.jsx("span",{children:"Ghi m bng ging ni"})]})})]})},Ia=({label:l,disabled:t,checked:o,onChange:a})=>v.jsxs("label",{className:`flex items-center space-x-2 ${t?"cursor-not-allowed opacity-60":"cursor-pointer"}`,children:[v.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 bg-gray-100 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500",disabled:t,checked:o,onChange:r=>a(r.target.checked)}),v.jsx("span",{className:"text-gray-700 text-sm",children:l})]}),nA=({disabled:l,options:t,onOptionChange:o})=>v.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg h-full",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Cc ty chn ny gip ci thin  chnh xc phin m cho file audio."}),v.jsx(Ia,{label:"Chuyn sang mono & 16kHz",disabled:l,checked:t.convertToMono16k,onChange:a=>o("convertToMono16k",a)}),v.jsx(Ia,{label:"p dng gim nhiu",disabled:l,checked:t.noiseReduction,onChange:a=>o("noiseReduction",a)}),v.jsx(Ia,{label:"Chun ha m lng",disabled:l,checked:t.normalizeVolume,onChange:a=>o("normalizeVolume",a)}),v.jsx(Ia,{label:"Loi b khong lng",disabled:l,checked:t.removeSilence,onChange:a=>o("removeSilence",a)})]}),lA=l=>v.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),lg=l=>v.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),iA=l=>v.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),oA=({text:l})=>{const[t,o]=j.useState(!1),a=()=>{navigator.clipboard.writeText(l),o(!0),setTimeout(()=>o(!1),2e3)},r=()=>{const d=new Blob([l],{type:"text/plain"}),p=URL.createObjectURL(d),g=document.createElement("a");g.href=p,g.download="transcription.txt",document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p)};return v.jsxs("div",{className:"relative bg-gray-50 p-4 rounded-lg",children:[v.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2",children:[v.jsx("button",{onClick:a,className:"p-1.5 bg-gray-200 rounded-md hover:bg-gray-300 text-gray-600 hover:text-gray-800 transition",title:"Copy to clipboard",children:t?v.jsx(iA,{className:"w-5 h-5 text-green-500"}):v.jsx(lA,{className:"w-5 h-5"})}),v.jsx("button",{onClick:r,className:"p-1.5 bg-gray-200 rounded-md hover:bg-gray-300 text-gray-600 hover:text-gray-800 transition",title:"Download as .txt",children:v.jsx(lg,{className:"w-5 h-5"})})]}),v.jsx("textarea",{readOnly:!0,value:l,className:"w-full text-gray-800 whitespace-pre-wrap font-mono text-sm leading-relaxed p-2 h-48 sm:h-64 overflow-y-auto bg-white border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-500","aria-label":"Transcription Result"})]})},du=({progress:l,message:t})=>{const o=Math.max(0,Math.min(100,Math.round(l)));return v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("p",{className:"text-sm text-gray-600",children:t}),v.jsxs("p",{className:"text-sm font-semibold text-indigo-600",children:[o,"%"]})]}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:v.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${o}%`}})})]})},aA=l=>v.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:v.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.91 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),sA=[{id:"gemini-2.5-flash",name:"Flash (Nhanh & Hiu qu)"},{id:"gemini-2.5-pro",name:"Pro (Cht lng cao nht)"}],rA=({onModelChange:l,disabled:t,initialModel:o})=>v.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[v.jsx("label",{htmlFor:"model-select",className:"block text-sm font-medium text-gray-700 mb-2",children:'Chn model AI. "Pro" cho  chnh xc cao hn nhng c th chm hn.'}),v.jsx("select",{id:"model-select",value:o,onChange:a=>l(a.target.value),disabled:t,className:"w-full bg-white border border-gray-300 text-gray-900 rounded-md p-2 focus:ring-indigo-500 focus:border-indigo-500",children:sA.map(a=>v.jsx("option",{value:a.id,children:a.name},a.id))})]}),uA=({label:l,value:t,onChange:o,placeholder:a,disabled:r,onMicClick:d,isListening:p,micSupported:g,showError:y})=>v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",value:t,onChange:m=>o(m.target.value),placeholder:p?"ang nghe...":y?"Khng nghe r. Vui lng th li...":a,disabled:r,className:"w-full bg-white border border-gray-300 text-gray-900 rounded-md p-2 focus:ring-indigo-500 focus:border-indigo-500 pr-10","aria-label":l}),g&&v.jsx("button",{type:"button",onClick:d,disabled:r,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:`Dictate for ${l}`,children:v.jsx(co,{className:`w-5 h-5 ${p?"text-red-500 animate-pulse":""}`})})]})]}),cA=({onSubmit:l,disabled:t})=>{const[o,a]=j.useState({timeAndPlace:"",attendees:"",chair:"",topic:""}),[r,d]=j.useState(null),[p,g]=j.useState(null),[y,m]=j.useState(!1),T=j.useRef(null),x=j.useRef(null);j.useEffect(()=>{const H=window.SpeechRecognition||window.webkitSpeechRecognition;if(!H){m(!1),console.warn("Speech Recognition not supported by this browser.");return}m(!0);const z=new H;return z.continuous=!1,z.interimResults=!1,z.lang="vi-VN",z.onstart=()=>{},z.onresult=F=>{const Y=F.results[F.results.length-1][0].transcript.trim(),le=x.current;le&&a(W=>{const V=W[le];return{...W,[le]:(V?V+" ":"")+Y}})},z.onerror=F=>{console.error("Speech recognition error:",F.error),F.error==="no-speech"?x.current&&(g(x.current),setTimeout(()=>g(null),3e3)):F.error==="not-allowed"?alert("Bn  t chi quyn truy cp micro. Vui lng cho php truy cp micro trong ci t trnh duyt  s dng tnh nng ny."):alert(` xy ra li khi nhn dng ging ni: ${F.error}. Vui lng th li.`),x.current&&(d(null),x.current=null)},z.onend=()=>{x.current&&(d(null),x.current=null)},T.current=z,()=>{T.current&&T.current.abort()}},[]);const C=H=>{if(!y||!T.current)return;const z=r!==null;if(r===H)T.current.stop();else if(!z){x.current=H,d(H),g(null);try{T.current.start()}catch(Y){console.error("Error starting speech recognition:",Y),d(null),x.current=null}}},_=(H,z)=>{a(F=>({...F,[H]:z}))},I=H=>{H.preventDefault(),l(o)},D=(H,z,F)=>{const Y=r!==null,le=r===H;return v.jsx(uA,{label:z,value:o[H],onChange:W=>_(H,W),placeholder:F,disabled:t||Y&&!le,onMicClick:()=>C(H),isListening:le,micSupported:y,showError:p===H})};return v.jsxs("form",{onSubmit:I,className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-gray-500",children:"Cung cp cc chi tit (khng bt buc)  a vo bin bn. AI s c gng in thng tin cn thiu t vn bn. Bm vo micro  c."}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[D("timeAndPlace","Thi gian & a im","VD: 2 PM, 26/10, 2023, Phng 4"),D("attendees","Ngi tham d","VD: John D, Jane S, i Marketing"),D("chair","Ch ta","VD: John Doe"),D("topic","Ch  / Mc ch","VD: Chin lc Marketing Qu 4")]}),v.jsx("div",{className:"text-center pt-2",children:v.jsx("button",{type:"submit",disabled:t||r!==null,className:"w-full sm:w-auto px-6 py-2 bg-purple-600 text-white font-bold rounded-lg shadow-sm hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:t?"ang to...":" To bin bn hp"})})]})},dA=({htmlContent:l,meetingDetails:t})=>{const o=()=>new Blob([l],{type:"text/html"}),a=()=>{const d=o(),p=URL.createObjectURL(d),g=document.createElement("a");g.href=p;const y=new Date,m=String(y.getDate()).padStart(2,"0"),T=String(y.getMonth()+1).padStart(2,"0"),x=y.getFullYear();let C="chua_ro_dia_diem";if(t!=null&&t.timeAndPlace){const _=t.timeAndPlace.split(","),I=_[_.length-1].trim();I&&(C=I.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(//g,"d").replace(//g,"D").replace(/[^a-zA-Z0-9-]/g,"_").replace(/_+/g,"_"))}g.download=`Bin bn cuc hp ngy ${m} thng ${T} nm ${x} ti ${C}.html`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p)},r=()=>{const d=o(),p=URL.createObjectURL(d);window.open(p,"_blank")};return v.jsxs("div",{className:"relative bg-gray-50 p-4 rounded-lg space-y-4",children:[v.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2 z-10",children:[v.jsx("button",{onClick:r,className:"p-1.5 bg-gray-200 rounded-md hover:bg-gray-300 text-gray-600 hover:text-gray-800 transition",title:"Preview in new tab","aria-label":"Preview in new tab",children:v.jsx(Au,{className:"w-5 h-5"})}),v.jsx("button",{onClick:a,className:"p-1.5 bg-gray-200 rounded-md hover:bg-gray-300 text-gray-600 hover:text-gray-800 transition",title:"Download as .html","aria-label":"Download as .html",children:v.jsx(lg,{className:"w-5 h-5"})})]}),v.jsx("div",{className:"w-full h-72 sm:h-80 bg-white rounded-md overflow-hidden border border-gray-200",children:v.jsx("iframe",{srcDoc:l,title:"Meeting Minutes Preview",className:"w-full h-full border-0",sandbox:"allow-scripts"})})]})},fA=({onSubmit:l,disabled:t})=>{const[o,a]=j.useState(""),[r,d]=j.useState(!1),[p,g]=j.useState(!1),[y,m]=j.useState("Vit yu cu ca bn..."),T=j.useRef(null);j.useEffect(()=>{const I=window.SpeechRecognition||window.webkitSpeechRecognition;if(!I){g(!1);return}g(!0);const D=new I;return D.continuous=!1,D.interimResults=!1,D.lang="vi-VN",D.onstart=()=>{m("ang nghe..."),d(!0)},D.onresult=H=>{const z=H.results[H.results.length-1][0].transcript.trim();a(F=>(F?F+" ":"")+z)},D.onerror=H=>{console.error("Speech recognition error:",H.error),H.error==="no-speech"?(m("Khng nghe r. Vui lng th li..."),setTimeout(()=>m("Vit yu cu ca bn..."),3e3)):H.error==="not-allowed"?alert("Bn  t chi quyn truy cp micro. Vui lng cho php truy cp micro trong ci t trnh duyt  s dng tnh nng ny."):alert(` xy ra li khi nhn dng ging ni: ${H.error}. Vui lng th li.`),d(!1)},D.onend=()=>{m("Vit yu cu ca bn..."),d(!1)},T.current=D,()=>{T.current&&T.current.abort()}},[]);const x=()=>{if(!(!p||!T.current))if(r)T.current.stop();else try{T.current.start()}catch(I){console.error("Error starting speech recognition:",I),d(!1)}},C=I=>{I.preventDefault(),o.trim()&&(l(o),a(""))},_=()=>r?"ang nghe...":t?"ang x l...":"Gi yu cu chnh sa";return v.jsxs("form",{onSubmit:C,className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[v.jsx("label",{htmlFor:"edit-request",className:"block text-sm font-medium text-gray-700",children:'Nhp cc yu cu chnh sa ca bn vo y. V d: "Thm ABC vo danh sch ngi tham d" hoc "Lm r quyt nh s 2".'}),v.jsxs("div",{className:"relative",children:[v.jsx("textarea",{id:"edit-request",value:o,onChange:I=>a(I.target.value),placeholder:y,disabled:t,rows:4,className:"w-full bg-white border border-gray-300 text-gray-900 rounded-md p-2 focus:ring-indigo-500 focus:border-indigo-500 pr-10","aria-label":"Yu cu chnh sa bo co"}),p&&v.jsx("button",{type:"button",onClick:x,disabled:t,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Dictate edit request",children:v.jsx(co,{className:`w-5 h-5 ${r?"text-red-500 animate-pulse":""}`})})]}),v.jsx("div",{className:"text-center",children:v.jsx("button",{type:"submit",disabled:t||!o.trim()||r,className:"w-full sm:w-auto px-6 py-2 bg-green-600 text-white font-bold rounded-lg shadow-sm hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:_()})})]})},hA=()=>{const[l,t]=j.useState([]),[o,a]=j.useState("gemini-2.5-pro"),[r,d]=j.useState(""),[p,g]=j.useState(!1),[y,m]=j.useState(0),[T,x]=j.useState(""),[C,_]=j.useState(null),[I,D]=j.useState({convertToMono16k:!0,noiseReduction:!0,normalizeVolume:!0,removeSilence:!0}),[H,z]=j.useState(""),[F,Y]=j.useState(!1),[le,W]=j.useState(null),[V,J]=j.useState(null),[ue,P]=j.useState(0),[ee,Q]=j.useState(""),[te,ae]=j.useState(!1),[ge,ce]=j.useState(null),[A,X]=j.useState(0),[de,q]=j.useState(""),oe=j.useRef(!1),N=Te=>{t(Te),d(""),_(null),m(0),x(""),z(""),W(null),ce(null)},M=(Te,we)=>{D(Ce=>({...Ce,[Te]:we}))},ne=()=>{oe.current=!0,p&&(g(!1),m(0),x("Processing cancelled by user.")),F&&(Y(!1),W("Minute generation cancelled by user.")),te&&(ae(!1),ce("Edit request cancelled by user."))},ie=j.useCallback(async()=>{if(l.length===0){_("Please select one or more files first.");return}g(!0),oe.current=!1,d(""),_(null),z(""),W(null),ce(null);const Te=[];try{for(let we=0;we<l.length;we++){let Ce=l[we];if(oe.current)return;const Ie=we/l.length*100,jt=100/l.length;if(x(`Processing file ${we+1}/${l.length}: ${Ce.name}`),Ce.type.startsWith("text/")){if(m(Ie+jt*.5),await new Promise(on=>setTimeout(on,200)),oe.current)return;const Pt=await Ce.text();if(oe.current)return;Te.push(`--- Start of content from ${Ce.name} ---
${Pt}
--- End of content from ${Ce.name} ---`),m(Ie+jt)}else if(Ce.type.startsWith("audio/")){const Pt=Object.values(I).some(Jt=>Jt);let on=Ie,xl=jt*.5;if(Pt){if(x(`(File ${we+1}/${l.length}) Applying audio optimizations...`),Ce=await W_(Ce,I,el=>{const an=el/100*xl;m(Ie+an)}),oe.current)return;on+=xl}const hi=on,Sl=jt-(on-Ie);m(hi+Sl*.1),x(`(File ${we+1}/${l.length}) Sending to Gemini...`);let Ct=null;try{const Jt=hi+Sl*.9;Ct=window.setInterval(()=>{if(oe.current){Ct&&clearInterval(Ct);return}m(an=>{if(an>=Jt)return Ct&&clearInterval(Ct),an;const Ya=Math.random()*2;return Math.min(an+Ya,Jt)})},400);const el=await $_(Ce,o);if(Ct&&clearInterval(Ct),oe.current||(m(hi+Sl*.95),x(`(File ${we+1}/${l.length}) Finalizing...`),await new Promise(an=>setTimeout(an,200)),oe.current))return;Te.push(`--- Start of transcription from ${Ce.name} ---
${el}
--- End of transcription from ${Ce.name} ---`),m(Ie+jt)}catch(Jt){throw Ct&&clearInterval(Ct),Jt}}else Te.push(`--- Skipped unsupported file: ${Ce.name} (type: ${Ce.type||"unknown"}) ---`),m(Ie+jt)}d(Te.join(`

`)),m(100),x(" Processing complete!")}catch(we){if(oe.current)return;const Ce=we instanceof Error?we.message:"An unknown error occurred.";_(`Processing failed: ${Ce}`),m(0),x("Error!")}finally{g(!1)}},[l,o,I]),se=j.useCallback(async Te=>{if(!r){W("A transcription must exist before generating minutes.");return}Y(!0),oe.current=!1,z(""),W(null),ce(null),J(Te),P(0),Q("Initializing...");const we=window.setInterval(()=>{if(oe.current){clearInterval(we);return}P(Ce=>{const Ie=Ce+Math.floor(Math.random()*5)+2;return Ie>=95?(clearInterval(we),95):(Ie<20?Q("Sending transcription to AI..."):Ie<70?Q("AI is analyzing the content..."):Q("AI is structuring the minutes..."),Ie)})},600);try{const Ce=await Q_(r,Te,o);if(clearInterval(we),oe.current)return;P(100),Q(" Minutes generated!"),await new Promise(Ie=>setTimeout(Ie,800)),z(Ce)}catch(Ce){if(clearInterval(we),oe.current)return;const Ie=Ce instanceof Error?Ce.message:"An unknown error occurred.";W(`Failed to generate minutes: ${Ie}`)}finally{clearInterval(we),Y(!1)}},[r,o]),fe=j.useCallback(async Te=>{if(!r||!H||!V){ce("Cannot request edits without an existing transcription, generated minutes, and meeting details.");return}ae(!0),oe.current=!1,ce(null),X(0),q("Initializing edit...");const we=window.setInterval(()=>{if(oe.current){clearInterval(we);return}X(Ce=>{const Ie=Ce+Math.floor(Math.random()*6)+3;return Ie>=95?(clearInterval(we),95):(Ie<30?q("AI is reading your request..."):Ie<80?q("AI is applying the changes..."):q("Finalizing the new version..."),Ie)})},500);try{const Ce=await X_(r,V,H,Te,o);if(clearInterval(we),oe.current)return;X(100),q(" Edits applied successfully!"),await new Promise(Ie=>setTimeout(Ie,800)),z(Ce)}catch(Ce){if(clearInterval(we),oe.current)return;const Ie=Ce instanceof Error?Ce.message:"An unknown error occurred.";ce(`Failed to edit minutes: ${Ie}`)}finally{clearInterval(we),ae(!1)}},[r,H,o,V]),Ae=()=>{if(p)return"Processing...";const Te=l.length;return Te<=1?" Process File":` Process ${Te} Files`},Fe=p||F||te;return v.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:v.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[v.jsxs("header",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800 tracking-tight",children:"Tr l Bin bn hp Gemini"}),v.jsx("p",{className:"text-gray-600 mt-2",children:"Chuyn vn bn t audio hoc s dng vn bn c sn  to bin bn hp chuyn nghip vi AI."})]}),v.jsxs("main",{className:"space-y-6 bg-white p-6 sm:p-8 rounded-lg shadow-md border border-gray-200",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h2",{className:"text-lg font-semibold text-indigo-600 border-b border-gray-300 pb-2",children:"1. Ti ln File"}),v.jsx(tA,{onFileSelect:N,disabled:Fe})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h2",{className:"text-lg font-semibold text-indigo-600 border-b border-gray-300 pb-2",children:"2. Ty chn"}),v.jsx(nA,{disabled:Fe,options:I,onOptionChange:M})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h2",{className:"text-lg font-semibold text-indigo-600 border-b border-gray-300 pb-2",children:"3. Chn Model"}),v.jsx(rA,{initialModel:o,onModelChange:a,disabled:Fe})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("button",{onClick:ie,disabled:l.length===0||Fe,className:"w-full sm:w-auto px-8 py-3 bg-indigo-600 text-white font-bold rounded-lg shadow-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 disabled:scale-100",children:Ae()}),C&&v.jsx("p",{className:"text-red-500 mt-4",children:C})]}),p&&v.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-indigo-600",children:"4. ang x l..."}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(du,{progress:y,message:T}),v.jsx("div",{className:"text-center",children:v.jsx("button",{onClick:ne,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 disabled:bg-gray-500 transition-all",children:"Hy"})})]})]}),!p&&r&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-indigo-600",children:"4. Ni dung File / Vn bn"}),v.jsx(oA,{text:r})]}),v.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-purple-600",children:"5. To Bin bn hp"}),F?v.jsxs("div",{className:"text-center space-y-3 p-4 bg-gray-100 rounded-lg",children:[v.jsx(du,{progress:ue,message:ee}),v.jsx("button",{onClick:ne,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 disabled:bg-gray-500 transition-all",children:"Hy"})]}):v.jsxs(v.Fragment,{children:[v.jsx(cA,{onSubmit:se,disabled:F||te}),le&&v.jsx("p",{className:"text-red-500 mt-2 text-center",children:le})]})]})]}),!F&&H&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-purple-600",children:"6. Xem & Ti Bin bn"}),v.jsx(dA,{htmlContent:H,meetingDetails:V})]}),v.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-green-600",children:"7. Yu cu chnh sa bo co"}),te?v.jsxs("div",{className:"text-center space-y-3 p-4 bg-gray-100 rounded-lg",children:[v.jsx(du,{progress:A,message:de}),v.jsx("button",{onClick:ne,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition-all",children:"Hy"})]}):v.jsx(fA,{onSubmit:fe,disabled:te}),ge&&v.jsx("p",{className:"text-red-500 mt-2 text-center",children:ge})]})]})]}),v.jsx("footer",{className:"text-center mt-8",children:v.jsxs("a",{href:"https://github.com/google/gemini-api",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-gray-500 hover:text-indigo-600 transition-colors",children:[v.jsx(aA,{className:"w-5 h-5 mr-2"}),"Powered by Google Gemini API"]})})]})})},pA=l=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375V9.375a2.25 2.25 0 00-2.25-2.25H9.375"})}),mA=({onLoadPlan:l})=>{const[t,o]=j.useState([]),[a,r]=j.useState("");j.useEffect(()=>{try{const x=localStorage.getItem("savedBusinessPlans");x&&o(JSON.parse(x))}catch(x){console.error("Failed to load saved plans from localStorage:",x)}},[]);const d=j.useMemo(()=>{const x=[...t].sort((_,I)=>new Date(I.createdAt).getTime()-new Date(_.createdAt).getTime());if(!a.trim())return x;const C=a.toLowerCase();return x.filter(_=>_.name.toLowerCase().includes(C))},[t,a]),p=x=>{if(window.confirm("Bn c chc chn mun xa k hoch ny khng?")){const C=t.filter(_=>_.id!==x);o(C);try{localStorage.setItem("savedBusinessPlans",JSON.stringify(C))}catch(_){console.error("Failed to update localStorage after deleting a plan:",_)}}},g=()=>{if(window.confirm("Bn c chc chn mun xa TT C cc k hoch  lu khng? Hnh ng ny khng th hon tc.")){o([]);try{localStorage.setItem("savedBusinessPlans",JSON.stringify([]))}catch(x){console.error("Failed to update localStorage after deleting all plans:",x)}}},y=x=>{try{const C=bm(x.planItems,{importRate:x.settings.exchangeRateImport,taxRate:x.settings.exchangeRateTax,...x.settings}),_=Mm(C,x.settings.exchangeRateImport,x.settings.exchangeRateTax),I=new Blob([_],{type:"text/html"}),D=URL.createObjectURL(I);window.open(D,"_blank")}catch(C){console.error("Error generating report from saved plan:",C),alert(" c li xy ra khi to bo co t k hoch  lu.")}},m=x=>{try{const C=`KeHoach_${x.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.json`,_=JSON.stringify(x,null,2),I=new Blob([_],{type:"application/json"}),D=URL.createObjectURL(I),H=document.createElement("a");H.download=C,H.href=D,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(D)}catch(C){console.error("Failed to export plan:",C),alert(" c li xy ra khi xut file k hoch.")}},T=x=>x.planItems.length;return v.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:v.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200",children:[v.jsxs("div",{className:"border-b pb-4 mb-4",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[v.jsx(fu,{className:"h-5 w-5 mr-2 text-gray-500"}),"Danh sch K hoch  lu"]}),v.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Xem li, so snh hoc xa cc phng n kinh doanh bn  lu trc y."}),v.jsxs("div",{className:"mt-4 flex justify-between items-center flex-wrap gap-2",children:[v.jsx("input",{type:"text",placeholder:"Tm kim theo tn k hoch...",value:a,onChange:x=>r(x.target.value),className:"w-full max-w-sm px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),v.jsxs("button",{onClick:g,disabled:t.length===0,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-gray-300 disabled:cursor-not-allowed",title:"Xa tt c k hoch",children:[v.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Xa tt c"]})]})]}),d.length>0?v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn K hoch"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy lu"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S sn phm"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(x=>v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.createdAt).toLocaleString("vi-VN")}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:T(x)}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[v.jsx("button",{onClick:()=>l(x),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",title:"S dng li K hoch ny",children:v.jsx(pA,{className:"h-4 w-4"})}),v.jsx("button",{onClick:()=>y(x),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",title:"Xem Bo co",children:v.jsx(Au,{className:"h-4 w-4"})}),v.jsx("button",{onClick:()=>m(x),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none",title:"Ti K hoch (JSON)",children:v.jsx(Va,{className:"h-4 w-4"})}),v.jsx("button",{onClick:()=>p(x.id),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none",title:"Xa K hoch",children:v.jsx(Pa,{className:"h-4 w-4"})})]})]},x.id))})]})}):v.jsxs("div",{className:"text-center py-12",children:[v.jsx(fu,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cha c k hoch no c lu"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Quay li module "K hoch Kinh doanh"  to v lu phng n u tin ca bn.'})]})]})})},gA={businessPlan:"K hoch Kinh doanh",savedPlans:"K hoch  lu",cashFlow:"Thu - Chi tin",inventory:"Nhp xut hng",salesTeam:"i KD & Marketing",meetingMinutes:"Bin bn hp"},yA=()=>{const[l,t]=j.useState("businessPlan"),[o,a]=j.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 768px)").matches:!0),[r,d]=j.useState(null),p=m=>{d(m),t("businessPlan")},g=()=>{d(null)},y=()=>{switch(l){case"businessPlan":return v.jsx(Sm,{planToLoad:r,onPlanLoaded:g});case"savedPlans":return v.jsx(mA,{onLoadPlan:p});case"cashFlow":return v.jsx(O_,{});case"inventory":return v.jsx(z_,{});case"salesTeam":return v.jsx(F_,{});case"meetingMinutes":return v.jsx(hA,{});default:return v.jsx(Sm,{planToLoad:null,onPlanLoaded:()=>{}})}};return v.jsxs("div",{className:"h-screen bg-gray-100 text-gray-800 font-sans relative",children:[o&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>a(!1),"aria-hidden":"true"}),v.jsx(qy,{activeModule:l,setActiveModule:t,isOpen:o}),v.jsxs("div",{className:`h-full flex flex-col transition-all duration-300 ease-in-out ${o?"md:ml-64":"ml-0"}`,children:[v.jsx(Y_,{title:gA[l],toggleSidebar:()=>a(!o)}),v.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto",children:y()})]})]})},ig=document.getElementById("root");if(!ig)throw new Error("Could not find root element to mount to");const vA=Py.createRoot(ig);vA.render(v.jsx(Da.StrictMode,{children:v.jsx(yA,{})}));
